<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="http://ufo.stealien.com/feed.xml" rel="self" type="application/atom+xml" /><link href="http://ufo.stealien.com/" rel="alternate" type="text/html" /><updated>2023-11-15T12:43:52+09:00</updated><id>http://ufo.stealien.com/feed.xml</id><title type="html">STEALIEN Technical Blog</title><subtitle>ì²¨ë‹¨ê¸°ìˆ ì„ ê°„í¸í•˜ê²Œ ì œê³µí•˜ëŠ” ê¸°ì—…, ìŠ¤í‹¸ë¦¬ì–¸ì´ ìš´ì˜í•˜ëŠ” ê¸°ìˆ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.</subtitle><entry xml:lang="ko"><title type="html">ë²„ê·¸í—ŒíŒ…: ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„±</title><link href="http://ufo.stealien.com/2023-07-31/bughunting-vulnerability-chaining-ko" rel="alternate" type="text/html" title="ë²„ê·¸í—ŒíŒ…: ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„±" /><published>2023-07-31T20:00:00+09:00</published><updated>2023-07-31T20:00:00+09:00</updated><id>http://ufo.stealien.com/2023-07-31/bughunting-vulnerability-chaining-ko</id><content type="html" xml:base="http://ufo.stealien.com/2023-07-31/bughunting-vulnerability-chaining-ko">&lt;h1 id=&quot;ë²„ê·¸í—ŒíŒ…-ì·¨ì•½ì -ì²´ì´ë‹ì˜-ì¤‘ìš”ì„±&quot;&gt;ë²„ê·¸í—ŒíŒ…: ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„±&lt;/h1&gt;
&lt;h2 id=&quot;no-impact-no-bug&quot;&gt;No impact, No bug&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-31-bughunting-vulnerability-chaining/0.png&quot; alt=&quot;CVSS3.1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë²„ê·¸í—ŒíŒ…ì—ì„œëŠ” ì´ ì·¨ì•½ì ìœ¼ë¡œ ì–´ë–¤ ì•…ì˜ì ì¸ í–‰ìœ„ë¥¼ í•  ìˆ˜ ìˆëŠ”ì§€ ì¦ëª…í•´ì•¼ í•©ë‹ˆë‹¤.
ëŒ€ë¶€ë¶„ì˜ ê¸°ì—…ì´ë‚˜ ê¸°ê´€ë“¤ì´ CVSS ì ìˆ˜ë¥¼ ì´ìš©í•´ ì·¨ì•½ì ì— ëŒ€í•œ í‰ê°€ë¥¼ í•˜ê¸° ë•Œë¬¸ì— ì·¨ì•½ì ì„ ì•…ìš©í•  ìˆ˜ ìˆëŠ” ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¥¼ ìƒê°í•´ë‚´ì–´ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë¬´ëŸ° ìƒê° ì—†ì´ ë‹¨ì¼ ì·¨ì•½ì ì„ ì œë³´í•˜ë©´, ìì¹« ë§ì€ ì‹œê°„ì„ ë“¤ì—¬ ì°¾ì€ ì·¨ì•½ì ì´ ë‚®ì€ í‰ê°€ë¥¼ ë°›ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ê·¸ë ‡ë‹¤ ë³´ë‹ˆ ìì—°ìŠ¤ëŸ½ê²Œ ë²„ê·¸í—Œí„°ë“¤ì€ ì¶”í›„ ë°œê²¬ë  ì·¨ì•½ì ê³¼ì˜ ì—°ê³„ë¥¼ ìœ„í•´ ë‚®ì€ ì˜í–¥ë„(impact)ì˜ ì·¨ì•½ì ì„ ì €ì¥í•´ë‘¡ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë” ë†’ì€ ì˜í–¥ë ¥ì„ ê°€ì§„ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ë©´ ì œë³´í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ° ë°©ì‹ì„ ë‹¤ë¥¸ ì·¨ì•½ì ê³¼ì˜ ì—°ê³„, ì¦‰ ì·¨ì•½ì  ì²´ì´ë‹ì´ë¼ê³  ë§í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;vulnerability-chaining&quot;&gt;Vulnerability Chaining&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;ì·¨ì•½ì  ì²´ì´ë‹ì´ë€, ë‘ ê°œ ì´ìƒì˜ ì·¨ì•½ì ì„ ì—°ê²°í•˜ì—¬ ìƒëŒ€ì ìœ¼ë¡œ ì¤‘ìš”í•˜ì§€ ì•Šì€ ë³´ì•ˆ ì´ìŠˆë“¤ì„ ê²°í•©í•´ ê°•ë ¥í•œ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;ì·¨ì•½ì  ì²´ì´ë‹ì€ ë¶„ì„ ëŒ€ìƒì— ëŒ€í•œ ê¹Šì€ ì´í•´ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ì•„ë¬´ë˜ë„ í•œ ê°€ì§€ ì·¨ì•½ì ì´ ì•„ë‹Œ ì—¬ëŸ¬ ì·¨ì•½ì ì„ ì°¾ì•„ì•¼ í•¨ë„ ìˆê³ , íŠ¹íˆ ì·¨ì•½ì ì€ ì•„ë‹ˆì§€ë§Œ ì„œë¹„ìŠ¤ ìƒì˜ ì •ìƒì ì¸ ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œë„ ì·¨ì•½ì ê³¼ì˜ ì—°ê³„ê°€ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë•Œë¬¸ì— ë‹¨ìˆœíˆ ì·¨ì•½ì  ë¿ë§Œ ì•„ë‹ˆë¼ ê¸°ëŠ¥ì— ëŒ€í•œ ì„¸ë¶€ì ì¸ ë¶„ì„ë„ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì·¨ì•½ì  ì²´ì´ë‹ ë°©ë²•ë¡  ìš”ì•½&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ì‹œìŠ¤í…œ ì´í•´ : ì‹œìŠ¤í…œì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì „ë°˜ì ìœ¼ë¡œ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”&lt;/li&gt;
  &lt;li&gt;ì„¸ë¶€ì ì¸ ë¶„ì„ : ê°œë³„ ì·¨ì•½ì ì„ ì‹ë³„í•˜ê³  ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”&lt;/li&gt;
  &lt;li&gt;ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì¶• : ì‹¤ì œ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ êµ¬ì¶•í•˜ê³  ì‹œë®¬ë ˆì´ì…˜ í•„ìš”&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì·¨ì•½ì  ì²´ì´ë‹ì— ëŒ€í•œ ì¢‹ì€ ì˜ˆì‹œë¡œ êµ­ë‚´ CMSë¥¼ ëŒ€ìƒìœ¼ë¡œ í•œ ì·¨ì•½ì  í•˜ë‚˜ë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. í•´ë‹¹ ì·¨ì•½ì ì€ ì´ìœ°ë¹Œë”ì—ì„œ ê²½ë¡œ ì¡°ì‘ì„ í†µí•œ LFI(Local File Inclusion)ê°€ ê°€ëŠ¥í•´ ë°œìƒí•˜ëŠ” RCE(Remote Code Execution) ì·¨ì•½ì ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìì„¸í•œ ì •ë³´ëŠ” KISAì˜ ë³´ì•ˆ ì·¨ì•½ì  ì •ë³´ í¬í„¸ì˜ êµ­ë‚´ ì·¨ì•½ì  ì •ë³´ í˜ì´ì§€ì— ë°©ë¬¸í•˜ì‹œë©´ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (&lt;a href=&quot;https://knvd.krcert.or.kr/detailDos.do?IDX=5789&quot;&gt;https://knvd.krcert.or.kr/detailDos.do?IDX=5789&lt;/a&gt;)&lt;/p&gt;

&lt;h1 id=&quot;cve-2022-41158--ì´ìœ°ë¹Œë”-ì›ê²©-ì½”ë“œ-ì‹¤í–‰-ì·¨ì•½ì &quot;&gt;&lt;strong&gt;CVE-2022-41158 | ì´ìœ°ë¹Œë” ì›ê²© ì½”ë“œ ì‹¤í–‰ ì·¨ì•½ì &lt;/strong&gt;&lt;/h1&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì·¨ì•½ì  ì¢…ë¥˜&lt;/th&gt;
      &lt;th&gt;ì˜í–¥&lt;/th&gt;
      &lt;th&gt;ì‹¬ê°ë„&lt;/th&gt;
      &lt;th&gt;CVSS ì ìˆ˜&lt;/th&gt;
      &lt;th&gt;ì œí’ˆ&lt;/th&gt;
      &lt;th&gt;ì˜í–¥ ë°›ëŠ” ë²„ì „&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;LFI (Local File Inclusion)&lt;/td&gt;
      &lt;td&gt;ì›ê²© ì½”ë“œ ì‹¤í–‰&lt;/td&gt;
      &lt;td&gt;High&lt;/td&gt;
      &lt;td&gt;7.2&lt;/td&gt;
      &lt;td&gt;ì´ìœ°ë¹Œë”&lt;/td&gt;
      &lt;td&gt;4.5.3 ë° ì´ì „ ë²„ì „&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ì·¨ì•½ì  ì„¤ëª… : ì´ìœ°ë¹Œë”ê°€ ì¿ í‚¤ ê°’ì„ íŒŒì¼ì˜ ê²½ë¡œì— ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì´ìš©í•˜ì—¬ ì›ê²© ì½”ë“œ ì‹¤í–‰ì´ ê°€ëŠ¥í•œ ì·¨ì•½ì &lt;/p&gt;

&lt;h2 id=&quot;ì´ìœ°ë¹Œë”-ê°œìš”&quot;&gt;ì´ìœ°ë¹Œë” ê°œìš”&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://eyoom.net/&quot;&gt;ì´ìœ°ë¹Œë”&lt;/a&gt;ëŠ” ê·¸ëˆ„ë³´ë“œ5(ì˜ì¹´íŠ¸5)ë¥¼ í”„ë ˆì„ì›Œí¬ë¡œ ì‚¬ìš©í•œ íšŒì›ê°€ì…, ê²Œì‹œíŒ, ì‡¼í•‘ëª° ê²°ì œ ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” êµ­ë‚´ CMS ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-31-bughunting-vulnerability-chaining/1.png&quot; alt=&quot;[https://eyoom.net/page/eb4_introduction](https://eyoom.net/page/eb4_introduction)&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;lfi-patch-analysis&quot;&gt;LFI Patch Analysis&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ì´ìœ°ë¹Œë” ë³€ê²½ íŒŒì¼ ì†ŒìŠ¤ ë³´ê¸°(Github)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-31-bughunting-vulnerability-chaining/2.png&quot; alt=&quot;[https://github.com/eyoom/eyoom_builder_4/commit/4fa8436cf2691dae5064d7c187ffa90327d41042](https://github.com/eyoom/eyoom_builder_4/commit/4fa8436cf2691dae5064d7c187ffa90327d41042)&quot; /&gt;
&lt;em&gt;&lt;a href=&quot;https://github.com/eyoom/eyoom_builder_4/commit/4fa8436cf2691dae5064d7c187ffa90327d41042&quot;&gt;https://github.com/eyoom/eyoom_builder_4/commit/4fa8436cf2691dae5064d7c187ffa90327d41042&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;4.5.4 ë²„ì „ ì´ìƒì—ì„œëŠ” ìœ„ì™€ ê°™ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$unique_theme_id&lt;/code&gt; ë³€ìˆ˜ ê°’ì— ìˆ«ìë§Œ ì…ë ¥ ê°’ìœ¼ë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë„ë¡ ì •ê·œì‹ í•„í„°ë§ì´ ê±¸ë ¸ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ì‹œ ë§í•´ 4.5.3 ì´í•˜ ë²„ì „ì—ì„œëŠ” $unique_theme_id ë³€ìˆ˜ì˜ ê°’ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;../&lt;/code&gt; ì™€ ê°™ì€ íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ë¬¸ìì—´ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ëŠ” ë§ê³¼ë„ ê°™ìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ ê·¸ê²ƒì´ ê°€ëŠ¥í•œì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ ì½”ë“œëŠ” git commitì—ì„œ ë³´ì•˜ë˜ eyoom/class/theme.class.php íŒŒì¼ ë‚´ìš© ì¤‘ ì·¨ì•½í•œ ì½”ë“œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cd&quot;&gt;/**
 * ìœ ë‹ˆí¬ ì•„ì´ë”” ì¿ í‚¤ ìƒì„±
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get_cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;unique_theme_id&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$unique_theme_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;unique_theme_id&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$unique_theme_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;YmdHis&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str_pad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;microtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;STR_PAD_LEFT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;set_cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;unique_theme_id&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$unique_theme_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3600&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp_path&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;/&apos;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_SERVER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;REMOTE_ADDR&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;.&apos;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$unique_theme_id&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;.php&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;include_once&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$is_shop_theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;theme&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;theme&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;shop_theme&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;shop_theme&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$_config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;cd&quot;&gt;/**
 * íŒŒì¼ ìƒì„± ë° ê°±ì‹ 
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;save_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;user_config&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì¿ í‚¤ ê°’ìœ¼ë¡œë¶€í„° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$unique_theme_id&lt;/code&gt; ê°’ì„ ë°›ì•„ì˜¤ê³ , ë‹¤ì‹œ ê·¸ ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$file&lt;/code&gt; ë³€ìˆ˜ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$unique_theme_id&lt;/code&gt;ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.php&lt;/code&gt; ë¼ëŠ” í™•ì¥ìê°€ ë”í•´ì ¸ íŠ¹ì • íŒŒì¼ì˜ ê²½ë¡œê°€ ì‚½ì…ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë¦¬ê³  ë°”ë¡œ ì•„ë˜ ì¤„ì—ì„œ ë§Œì•½ í•´ë‹¹ ê²½ë¡œì— íŒŒì¼ì´ ì¡´ì¬í•œë‹¤ë©´, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;include_once($file)&lt;/code&gt; ì—ì„œ íŒŒì¼ì´ include ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ê³µê²©ìê°€ íŠ¹ì • ê²½ë¡œì— php íŒŒì¼ì„ ìƒì„±í•˜ê±°ë‚˜ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” PHP íŒŒì¼ì— ì„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚½ì…í•  ìˆ˜ ìˆë‹¤ë©´, ì´ LFI ì·¨ì•½ì ì„ ì´ìš©í•´ ê·¸ PHP íŒŒì¼ì„ ë¶ˆëŸ¬ì™€ ì„ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” &lt;strong&gt;RCE ì·¨ì•½ì ìœ¼ë¡œ ì—°ê³„&lt;/strong&gt;í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;file_exists&lt;/code&gt; í•¨ìˆ˜ì—ì„œëŠ” ì¡´ì¬í•˜ì§€ ì•Šì€ ë””ë ‰í„°ë¦¬ì˜ ìƒìœ„ê²½ë¡œì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ex) not_exists_directory/../../index.php (X)&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ì´ìœ°ë¹Œë”ì— ëŒ€í•œ ì´í•´ê°€ ë¶€ì¡±í•˜ë‹¤ë©´, ìœ„ ì·¨ì•½ì ì—ì„œ ì–´ë–»ê²Œ LFIë¡œ ì—°ê³„í•˜ê³  RCE ì·¨ì•½ì ê¹Œì§€ íŠ¸ëŸ¬ê¸°í•  ìˆ˜ ìˆëŠ”ì§€ ë°œê²¬í•´ë‚´ê¸° ì‰½ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;$file ë³€ìˆ˜ì˜ ê°’ì´ ê²°êµ­ í•˜ë‹¨ì˜ save_file í•¨ìˆ˜ì— ë“¤ì–´ê°€ê²Œ ë˜ëŠ”ë°, save_file í•¨ìˆ˜ì˜ ë‚´ìš©ì„ ë³´ë©´ PHP íŒŒì¼ì˜ ë‚´ìš©ìœ¼ë¡œ ë“¤ì–´ê°€ê²Œ ë˜ëŠ” ê°’ë“¤ì€ ì‚¬ìš©ìê°€ ì§ì ‘ ì¡°ì‘í•  ìˆ˜ ì—†ì–´ ë³´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë§Œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$unique_theme_id&lt;/code&gt; ê°’ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;../&lt;/code&gt;ì™€ ê°™ì€ ë¬¸ìì—´ì´ ë“¤ì–´ì™”ì„ ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fopen&lt;/code&gt; í•¨ìˆ˜ì—ì„œ ìƒìœ„ ê²½ë¡œì— íŒŒì¼ì´ ì“°ì—¬ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cd&quot;&gt;/**
 * ë°°ì—´ì„ ì§€ì •í•œ íŒŒì¼ë¡œ ì €ì¥ - í´ë”ì— ì›¹ì„œë²„ì˜ ì“°ê¸° ê¶Œí•œì´ ìˆì–´ì•¼ í•¨
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;save_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$outvar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$fp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fopen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;w&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;?php&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;if (!defined(&apos;_EYOOM_&apos;)) exit;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$outvar&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; = array(&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$info&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;is_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;// í‚¤ê°’ìœ¼ë¡œ ì •ìˆ˜ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;is_int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;addslashes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;addslashes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;is_int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$k&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;addslashes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$k&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;addslashes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; array(&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;),&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;);&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fwrite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fclose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mo&quot;&gt;0644&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë˜ ì½”ë“œë¥¼ ë³´ì‹œë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$value&lt;/code&gt; ê°’ì€ ëª¨ë‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;addslashes()&lt;/code&gt; í•¨ìˆ˜ë¡œ í•„í„°ë§ ë˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$key&lt;/code&gt; ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save_file()&lt;/code&gt; í•¨ìˆ˜ í˜¸ì¶œ ì „ì˜ ê°’ì„ í™•ì¸í•´ë³´ì‹œë©´ ì•Œ ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œ, ì´ìœ°ë¹Œë”ì˜ ì„¤ì • ê°’(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$arr[&apos;theme&apos;]&lt;/code&gt;)ì— í•´ë‹¹í•©ë‹ˆë‹¤. ì´ ê°’ì€ ì‚¬ìš©ì ì¸¡ì—ì„œ ì¡°ì‘í•  ìˆ˜ ì—†ëŠ” ê°’ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë•Œë¬¸ì— ìœ„ì—ì„œ ë³¸ ì½”ë“œ ë§Œìœ¼ë¡œëŠ” ì„ì˜ íŒŒì¼ ì‘ì„± ì·¨ì•½ì ì„ LFIì™€ RCE ì·¨ì•½ì ìœ¼ë¡œ ì—°ê³„í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²°ë¡ ì´ ë‚˜ì˜µë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ì—¬ëŸ¬ë¶„ì´ë”ë¼ë„ ì—¬ê¸°ì„œ í¬ê¸°í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ì•„ì‰½ê² ì£ . ì‚¬ì‹¤ìƒ ìœ„ ì·¨ì•½ì ë§Œìœ¼ë¡œëŠ” ì•…ì„± ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì œì‘í•˜ê¸°ì—ëŠ” íŒŒê¸‰ë ¥ì´ ë§ì´ ë‚®ìŠµë‹ˆë‹¤. ì–´ë–¤ ê³³ì—ì„œëŠ” ë‹¨ìˆœíˆ ê°€ëŠ¥ì„±ë§Œ ì œì‹œí•˜ì—¬ë„ Potential ì·¨ì•½ì ìœ¼ë¡œ ì·¨ê¸‰í•´ì£¼ê¸°ë„ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì§ˆì ì¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ì œë³´ì ë¿ë§Œ ì•„ë‹ˆë¼ ì œë³´ ë°›ëŠ” ì‚¬ëŒ ì…ì¥ì—ì„œë„ ì·¨ì•½ì ì— ëŒ€í•œ ì‹¬ê°ë„ë¥¼ í™•ì‹¤íˆ ì´í•´í•˜ê³  ë¬¸ì œì˜ ì‹œê¸‰í•¨ì„ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;finding-arbitrary-code-injection&quot;&gt;Finding Arbitrary Code Injection&lt;/h2&gt;

&lt;p&gt;ì €í¬ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save_file()&lt;/code&gt; í•¨ìˆ˜ì—ì„œ php íŒŒì¼ì„ ì‘ì„±í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ìœ„ì—ì„œ ë³´ì•˜ë˜ ì½”ë“œì—ì„œëŠ” ì´ìœ°ë¹Œë”ì˜ ì„¤ì • ê°’ì„ ë°›ì•„ì„œ ì‘ì„±í•˜ê³  ìˆë‹¤ê³  í•˜ì§€ë§Œ, ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ ê°’ì„ ë°›ì•„ì„œ ì‘ì„±í•˜ëŠ” ê³³ì´ ìˆì§€ ì•Šì„ê¹Œìš”?&lt;/p&gt;

&lt;p&gt;ê·¸ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì„ ì°¾ëŠ” ì‰¬ìš´ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ Visual Studio Codeì—ì„œ &lt;strong&gt;Go to References&lt;/strong&gt; ê¸°ëŠ¥ì„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-31-bughunting-vulnerability-chaining/3.png&quot; alt=&quot;VSCode&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë³´ì‹œë‹¤ì‹œí”¼ ìš°ì¸¡ì˜ ìˆ˜ë§ì€ íŒŒì¼ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save_file()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ íŒŒì¼ë“¤ ì¤‘ì—ì„œ í•˜ë‚˜ì¯¤ì€ ì‚¬ìš©ìë¡œë¶€í„° ë°›ì€ ì…ë ¥(user input, cookies, ë“±)ìœ¼ë¡œë¶€í„° ê°’ì„ ë°›ì•„ íŒŒì¼ì„ ì‘ì„±í•˜ê³  ìˆì§€ ì•Šì„ê¹Œìš”? ì–´ë–¤ íŒŒì¼ì—ì„œ ê·¸ë ‡ê²Œ ì²˜ë¦¬í•˜ê³  ìˆëŠ”ì§€ëŠ” ìŠ¤í¬(?)í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤.  (ê°œì¸ ì‚¬ìœ ë¡œ ì·¨ì•½ì ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ë‚´ë…„ì— ìì„¸íˆ í•˜ê²Œ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;ìœ„ì—ì„œ ì‚´í´ë³¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save_file()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ë©´ë°€íˆ ì‚´í´ë³´ë©´, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$value&lt;/code&gt; ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;addslashes()&lt;/code&gt; í•¨ìˆ˜ë¡œ í•„í„°ë§í•˜ê³  ìˆì§€ë§Œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$key&lt;/code&gt; ê°’ì€ í•„í„°ë§í•˜ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ì  ë˜í•œ ì¤‘ìš”í•œ í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ë§Œì•½ ì‚¬ìš©ìê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$key&lt;/code&gt; ê°’ì„ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤ë©´, ì›í•˜ëŠ” ë‚´ìš©ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ php íŒŒì¼ì— ì‚½ì…í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;ì§€ê¸ˆê¹Œì§€ ë²„ê·¸í—ŒíŒ…ì—ì„œì˜ ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„±ì— ëŒ€í•´ ì„¤ëª…í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ ì˜ˆì‹œë¡œ êµ­ë‚´ ì˜¤í”ˆì†ŒìŠ¤ CMS ì¤‘ í•˜ë‚˜ì¸ ì´ìœ°ë¹Œë”ì— ëŒ€í•´ì„œë„ ë§ì”€ë“œë ¤ë³´ì•˜ìŠµë‹ˆë‹¤. ë¹„ë¡ ì·¨ì•½ì ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ë“œë¦¬ì§€ ì•Šì•˜ì§€ë§Œ, ê·¸ ì´í›„ì˜ ê³¼ì •ë³´ë‹¤ëŠ” ì·¨ì•½ì ì„ ì²´ì´ë‹í•´ë‚˜ê°€ëŠ” ê·¸ ê³¼ì • ìì²´ê°€ ë”ìš± ì¤‘ìš”í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë²„ê·¸í—ŒíŒ… ë¿ë§Œ ì•„ë‹ˆë¼ ëª¨ì˜í•´í‚¹ ì—…ë¬´ë¥¼ í•˜ë©´ì„œë„ ë§ì´ ëŠë¼ê³¤ í•©ë‹ˆë‹¤. ê³ ê°ì‚¬ì— ë‹¨ì¼ ì·¨ì•½ì ì„ ì„¤ëª…í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” í•˜ë‚˜ ë˜ëŠ” ë‘ ê°œ ì´ìƒì˜ ì‹œë‚˜ë¦¬ì˜¤ì™€ ì—°ê³„í•˜ì—¬ ì·¨ì•½ì ì— ëŒ€í•œ íŒŒê¸‰ë ¥ì„ ì„¤ëª…í•˜ëŠ” ê²½ìš°ê°€ ë‹¹ì‚¬ì ê°„ì˜ ì·¨ì•½ì ì˜ ìœ„í—˜ì„±ê³¼ ì¡°ì¹˜ì— ëŒ€í•œ ì‹œê¸‰í•¨ì„ ëª…í™•í•˜ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë§Œ ì·¨ì•½ì  ì²´ì´ë‹ì€ ë³´í†µ ì‹œìŠ¤í…œì— ëŒ€í•œ ê¹Šì€ ì´í•´ê°€ í•„ìš”í•˜ë¯€ë¡œ ë§ì€ ì‹œê°„ì„ íˆ¬ìí•´ì•¼ í•˜ê³¤ í•©ë‹ˆë‹¤. ì´ ë•Œë¬¸ì— ì œí•œëœ ì‹œê°„ ë‚´ì— ì·¨ì•½ì ì„ ì°¾ì•„ì•¼ í•˜ëŠ” ëª¨ì˜í•´í‚¹ë³´ë‹¤ëŠ” ë¹„êµì  ì‹œê°„ ì œí•œì´ ì—†ëŠ” í¸ì¸ ë²„ê·¸í—ŒíŒ…ì— ë§ì´ í™œìš©ë˜ëŠ” ê²ƒ ê°™ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;iframe style=&quot;width:100%&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/3y-pW1qZf1U&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;ì €ëŠ” ìµœê·¼ íŒŒìŠ¤í…”í”Œë˜ë‹›(pastelplanet)ì—ì„œ ë§Œë“  &lt;a href=&quot;https://zerowhale.io/&quot;&gt;zerowhale&lt;/a&gt;ì´ë¼ëŠ” í”Œë«í¼ì—ì„œ ë²„ê·¸í—ŒíŒ…ì„ í•˜ê³¤ í•©ë‹ˆë‹¤. ì´ í”Œë«í¼ì€ ë¹„êµì  ì™¸ë¶€ì— ì˜ ì•Œë ¤ì ¸ ìˆì§€ëŠ” ì•Šì§€ë§Œ, ë²„ê·¸í—Œí„°ë“¤ ì‚¬ì´ì—ì„œëŠ” í”„ë¼ì´ë¹— ë²„ê·¸ë°”ìš´í‹°ë¥¼ ìœ„ì£¼ë¡œ ì§„í–‰ë˜ê³¤ í•©ë‹ˆë‹¤. í”„ë¼ì´ë¹—ì€ ë§ê·¸ëŒ€ë¡œ ì‹ ë¢° ê°€ëŠ¥í•œ ëª‡ëª‡ ë²„ê·¸í—Œí„°ë“¤ë§Œ ì´ˆëŒ€í•˜ì—¬ ë¹„ë°€ ìœ ì§€ ì„œì•½ì„ ë§ºê³  íŠ¹ì • ì œí’ˆ ë˜ëŠ” ì›¹ì‚¬ì´íŠ¸ ëŒ€ìƒìœ¼ë¡œ ë²„ê·¸í—ŒíŒ…ì„ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë¥¸ í”Œë«í¼ë“¤ë„ ë§ì§€ë§Œ ê°œì¸ì ìœ¼ë¡œ ì €ëŠ” ë²„ê·¸í—ŒíŒ… ê¸°ê°„ì´ ê¸¸ê³  ì¶©ë¶„í•œ ë¶„ì„ì„ ìš”êµ¬í•˜ê³  ë¬´ì—‡ë³´ë‹¤ ë³´ìƒì´ ì¢‹ì€ ê³³ì„ ì„ íƒí•˜ê²Œ ë˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ìƒìœ¼ë¡œ ê¸€ì„ ë§ˆë¬´ë¦¬í•˜ê² ìŠµë‹ˆë‹¤!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Specially thanks to ì´ì§„ì„± ë‹˜.&lt;/em&gt;&lt;/p&gt;</content><author><name>Donggyu Kim</name></author><category term="R&amp;D" /><summary type="html">ë²„ê·¸í—ŒíŒ…: ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„± No impact, No bug</summary></entry><entry xml:lang="ko"><title type="html">Django, CVE-2023-36053 Potential ReDoS in EmailValidator / URLValidator</title><link href="http://ufo.stealien.com/2023-07-03/django-cve-2023-36053" rel="alternate" type="text/html" title="Django, CVE-2023-36053 Potential ReDoS in EmailValidator / URLValidator" /><published>2023-07-03T00:00:00+09:00</published><updated>2023-07-03T00:00:00+09:00</updated><id>http://ufo.stealien.com/2023-07-03/cve-2023-36053-ko</id><content type="html" xml:base="http://ufo.stealien.com/2023-07-03/django-cve-2023-36053">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;b&gt;ëª©ì°¨&lt;/b&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#1-introduction&quot;&gt;1. Introduction&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#2-core-engine-ë¶„ì„&quot;&gt;2. Core Engine ë¶„ì„&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#3-1-day-ë²„ê·¸ì¼€ì´ìŠ¤-ë¶„ì„&quot;&gt;3. 1-day ë²„ê·¸ì¼€ì´ìŠ¤ ë¶„ì„&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#4-ì‹œë‚˜ë¦¬ì˜¤-ê¸°íš&quot;&gt;4. ì‹œë‚˜ë¦¬ì˜¤ ê¸°íš&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#5-ë¶„ì„&quot;&gt;5. ë¶„ì„&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#6-ì œë³´&quot;&gt;6. ì œë³´&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#7-ë§ˆë¬´ë¦¬&quot;&gt;7. ë§ˆë¬´ë¦¬&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”. ìŠ¤í‹¸ë¦¬ì–¸ ì„ ì œëŒ€ì‘íŒ€ ì—°êµ¬ì› ìœ¤ì„ì°¬ì…ë‹ˆë‹¤. ì´ì „ì—ëŠ” R&amp;amp;DíŒ€ìœ¼ë¡œ ì¸ì‚¬ë“œë ¸ì—ˆëŠ”ë°, ë¶€ì„œ ê°œí¸ í›„ ì²˜ìŒìœ¼ë¡œ ì„ ì œëŒ€ì‘íŒ€ìœ¼ë¡œ ì¸ì‚¬ë“œë¦¬ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ìŠ¤í‹¸ë¦¬ì–¸ ì„ ì œëŒ€ì‘íŒ€ì—ì„œëŠ” Offensive Securityë¥¼ ì—°êµ¬í•˜ë©° ìœ ì˜ë¯¸í•œ ê°€ì¹˜ë¥¼ ë„ì¶œí•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;1-introduction&quot;&gt;1. Introduction&lt;/h1&gt;

&lt;p&gt;2023ë…„ 7ì›” 3ì¼, ì œ ì²« CVEê°€ ê³µê°œë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.djangoproject.com/weblog/2023/jul/03/security-releases/&quot;&gt;https://www.djangoproject.com/weblog/2023/jul/03/security-releases/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-36053&quot;&gt;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-36053&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ìœ„ ë§í¬ì—ì„œ ì œ ì·¨ì•½ì ì´ ì–´ë–¤ ë‚´ìš©ì¸ì§€ ê°„ëµíˆ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ì œê°€ ì´ ì·¨ì•½ì ì„ ì–´ë–»ê²Œ ì°¾ê²Œ ë˜ì—ˆëŠ”ì§€ ìƒê°ì˜ íë¦„ì„ ê³µìœ í•˜ê³ , (ì œê°€ ëŒ€ë‹¨í•œ ì‹¤ë ¥ìë„ ì•„ë‹ˆê³  íŒŒê¸‰ë„ ë†’ì€ ì·¨ì•½ì ì„ ì°¾ì€ ê²ƒë„ ì•„ë‹ˆì§€ë§Œ ğŸ˜…) Offensive Security Researcherë¡œì„œ ì–´ë–¤ ë§ˆìŒê°€ì§ì„ ê°–ê³  ì½”ë“œë¥¼ ë³´ë©´ ì¢‹ì„ì§€ ì €ë§Œì˜ ìƒê°ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì€ ì½”ë“œ ë¶„ì„ ìœ„ì£¼ì˜ ê¸€ë³´ë‹¤ëŠ” ê·¸ëƒ¥ ë§ë¡œ ì·¨ì•½ì ì˜ root causeì™€ ì œ ìƒê°ë“¤ì„ ì¨ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-03-cve-2023-36053/image.png&quot; alt=&quot;image1&quot; /&gt;&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;Django security releases issued: 4.2.3, 4.1.10, and 3.2.20 (reported by ME!)&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;2-core-engine-ë¶„ì„&quot;&gt;2. Core Engine ë¶„ì„&lt;/h1&gt;

&lt;p&gt;Offensive Researchë¥¼ í•˜ì‹œëŠ” ë¶„ë“¤ì´ë¼ë©´ ë‹¤ë“¤ ê³µê°í•˜ì‹œê² ì§€ë§Œ ì–´ë–¤ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•´ì„  ì½”ì–´ ì—”ì§„(ì£¼ìš” ë¶€ë¶„)ì„ ë¨¼ì € ë¶„ì„í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ì œê°€ ìƒê°í•˜ëŠ” Djangoì˜ ì£¼ìš” ê¸°ëŠ¥ì€ ì•„ë˜ì™€ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Djangoì˜ Core ì„œë¹„ìŠ¤ë¥¼ ë¡œë“œí•˜ëŠ” ê¸°ëŠ¥&lt;/li&gt;
  &lt;li&gt;HTTP Request/Responseë¥¼ íŒŒì‹±í•´ì„œ Objectì— ë§¤í•‘í•˜ëŠ” ë¶€ë¶„&lt;/li&gt;
  &lt;li&gt;HTTP ìƒì—ì„œ sessionì„ ìœ ì§€ì‹œí‚¤ëŠ” ë¶€ë¶„&lt;/li&gt;
  &lt;li&gt;íŒŒì¼ ì†¡ì‹ ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„&lt;/li&gt;
  &lt;li&gt;Django ORMì„ í†µí•´ SQL ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ê·¸ë˜ì„œ Djangoì˜ ì „ë°˜ì ì¸ êµ¬ì¡°ë¥¼ ë¶„ì„í•˜ê³ ì ìœ„ í•­ëª©ë“¤ì„ ì¤‘ì ì ìœ¼ë¡œ ë¶„ì„í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;3-1-day-ë²„ê·¸ì¼€ì´ìŠ¤-ë¶„ì„&quot;&gt;3. 1-day ë²„ê·¸ì¼€ì´ìŠ¤ ë¶„ì„&lt;/h1&gt;

&lt;p&gt;ì£¼ìš” ê¸°ëŠ¥ì„ ë¶„ì„í•œ ë’¤ì—ëŠ” ì „ë°˜ì ì¸ í”„ë¡œê·¸ë¨ì˜ êµ¬ì¡°ê°€ ì–´ëŠ ì •ë„ ëˆˆì— ìµê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ì´í›„ ì œê°€ ì´í•´í•œ í”„ë¡œê·¸ë¨ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê·¸ë™ì•ˆ ê³µê°œëœ 1-day vulnerabilitiesë¥¼ ì°¾ì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì‘ë…„ì—ëŠ” íŠ¹íˆ ORM Injection (ORM ê¸°ëŠ¥ì—ì„œì˜ SQL Injection ì·¨ì•½ì )ì´ 3ê±´ì´ë‚˜ ë°œìƒëœ ë§Œí¼ Djangoì—ì„œ SQL Injectionì„ ì°¾ì•„ë³´ê³ ì, ì§€ê¸ˆê¹Œì§€ Djangoì— reportëœ ëª¨ë“  SQL Injection 1-day ë²„ê·¸ì¼€ì´ìŠ¤ë¥¼ ë¶„ì„í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ ë§í¬ì—ì„œ Django ORM Injectionì— ëŒ€í•´ ë¶„ì„í•œ ë‚´ìš©ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day&quot;&gt;https://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;SQL Injection ë¥˜ì˜ ë²„ê·¸ë¥¼ ì°¾ê³ ì ë…¸ë ¥í–ˆì§€ë§Œ ë” ì´ìƒì˜ SQL Injection ì·¨ì•½ì ì„ ë°œê²¬í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. ğŸ˜“
ì´í›„ í•™ì—…ê³¼ íšŒì‚¬ ì—…ë¬´ë¥¼ ë³‘í–‰í•˜ë©´ì„œ Django ë³´ì•ˆ ì·¨ì•½ì  ì—°êµ¬ì— í¬ê²Œ ì‹œê°„ì„ ìŸì§€ ëª»í•˜ë‹¤ê°€, êµ°ì…ëŒ€ë¡œ ì¸í•œ íœ´ì§ ì „ ì–»ì€ ì—¬ìœ ì‹œê°„ì— Djangoë¥¼ ë‹¤ì‹œ ë¶„ì„í•˜ê¸° ì‹œì‘í–ˆê³  ìš°ì—°íˆ ë³´ì•ˆ ì·¨ì•½ì ì„ ì°¾ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì œê°€ ì´ë²ˆì— ì œë³´í•œ ì·¨ì•½ì ì€ ì•„ë˜ 1-day vulnerability (CVE-2023-23969)ì™€ ë‹¤ì†Œ ë¹„ìŠ·í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.djangoproject.com/weblog/2023/feb/01/security-releases/&quot;&gt;https://www.djangoproject.com/weblog/2023/feb/01/security-releases/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ìš”ì•½í•˜ë©´, ì´ ë²„ê·¸ ì¼€ì´ìŠ¤ëŠ” ë³µì¡í•œ ì •ê·œí‘œí˜„ì‹ì´ ë§¤ìš° í° ë¬¸ìì—´ì„ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ DoS ê³µê²©ì— ì·¨ì•½í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì§€ì í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê° ì–¸ì–´ë§ˆë‹¤ ì •ê·œí‘œí˜„ì‹ì„ êµ¬í˜„í•˜ëŠ” ë°©ì‹ì€ ë” ë³µì¡í•˜ê² ì§€ë§Œ, ê¸°ë³¸ì ìœ¼ë¡œ ì •ê·œí‘œí˜„ì‹ì˜ ê²€ìƒ‰ì€ ì²˜ìŒë¶€í„° ëê¹Œì§€ ëª¨ë“  ë¬¸ìì—´ì„ ê²€ìƒ‰í•´ì•¼ í•œë‹¤ëŠ” ì ì—ì„œ ì„ í˜• ê²€ìƒ‰(Linear Search)ê³¼ ë¹„ìŠ·í•œ ì–‘ìƒì„ ë¤ë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì •ê·œí‘œí˜„ì‹ì— ê±°ëŒ€í•œ ì–‘ì˜ í…ìŠ¤íŠ¸ê°€ regex ê²€ì‚¬ ì¸ìë¡œ ì…ë ¥ëœë‹¤ë©´ ìƒë‹¹í•œ ì»´í“¨íŒ… ìì›ì´ ì†Œëª¨ë  ìˆ˜ ë°–ì— ì—†ìœ¼ë©°, ì •ê·œí‘œí˜„ì‹ì˜ ì´ëŸ¬í•œ ì ì„ ë…¸ë¦¬ëŠ” ê³µê²©ì´ ë°”ë¡œ ReDoS attackì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ &lt;strong&gt;CVE-2023-23969&lt;/strong&gt; (Potential denial-of-service via Accept-Language headers) ì·¨ì•½ì ì€ Djangoì— ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_language_from_request()&lt;/code&gt; í•¨ìˆ˜ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì´ìš©ìì˜ HTTP Request íŒ¨í‚·ìœ¼ë¡œë¶€í„° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Accept-Language&lt;/code&gt; í—¤ë”ë¥¼ ê°€ì ¸ì™€ ì´ìš©ìì˜ ì–¸ì–´ í™˜ê²½ ê°’ì„ ê°€ì ¸ì˜¤ëŠ”ë°, ì´ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Accept-Language&lt;/code&gt; í—¤ë”ë¥¼ íŒŒì‹±í•˜ê¸° ì „ ê¸¸ì´ ì œí•œì´ ì—†ì–´ì„œ ReDoSì— ì·¨ì•½í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ ì·¨ì•½ì ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ ë³´ì‹œë ¤ë©´ ì œ ê°œì¸ë¸”ë¡œê·¸ ê¸€ì„ ì°¸ê³ í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤. ì• ë“œë¸”ëŸ­ì„ ë„ê³  ë°©ë¬¸í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤. (ë†ë‹´ì„ ğŸ˜‰)&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://new-blog.ch4n3.kr/cve-2023-23969/&quot;&gt;https://new-blog.ch4n3.kr/cve-2023-23969/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;4-ì‹œë‚˜ë¦¬ì˜¤-ê¸°íš&quot;&gt;4. ì‹œë‚˜ë¦¬ì˜¤ ê¸°íš&lt;/h1&gt;

&lt;p&gt;ì‘ë…„ SQL Injectionë¥˜ì˜ ì·¨ì•½ì ì„ ì°¾ê³ ì ì†ŒìŠ¤ì½”ë“œë¥¼ ë¶„ì„í•  ë•ŒëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒê°í•˜ì§€ ì•Šê³ , ë¬´ì‘ì • ì½”ë“œë§Œ ë³´ë‹¤ê°€ ë¹ ë¥´ê²Œ ì§€ì³ë²„ë¦° ê²½í—˜ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ë²ˆì—ëŠ” ì›ë°ì´ ì·¨ì•½ì ì„ ë¶„ì„í•˜ê³ ë‚˜ì„œ ì‹œë‚˜ë¦¬ì˜¤ê°€ ìƒê°ë‚  ë•Œë§Œ ì†ŒìŠ¤ì½”ë“œë¥¼ ë“¤ì—¬ë‹¤ë³´ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ë¬¸ë“ ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í‰ì†Œ ì‚¬ìš©í•˜ëŠ” ë…¸íŠ¸ ì•±ì— ê¸°ë¡í•´ë‘ê³  ì‹œê°„ì ìœ¼ë¡œ ì—¬ìœ ê°€ ë‚  ë•Œë§ˆë‹¤ ê¸°ë¡í•´ ë‘” ì‹œë‚˜ë¦¬ì˜¤ì™€, ì´ì™€ ë¹„ìŠ·í•œ ì‹œë‚˜ë¦¬ì˜¤ë“¤ì´ ê°€ëŠ¥í•œì§€ ë¶„ì„í–ˆê³ , ì´ ë°©ì‹ìœ¼ë¡œ ë¶„ì„ì˜ ëŠ¥ë¥ ì´ í¬ê²Œ í–¥ìƒë˜ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. (ì´ëŸ° ë°©ë²•ë¡ ì€ í•´ì»¤ë§ˆë‹¤ ê°œì¸ì°¨ê°€ ìˆëŠ” ë¶€ë¶„ì´ê¸° ë•Œë¬¸ì— ì œ ë°©ì‹ì€ ê·¸ëƒ¥ ì°¸ê³  ì •ë„ë§Œ í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;ì œê°€ ì´ë²ˆì— ë°œê²¬í•œ &lt;strong&gt;CVE-2023-36053&lt;/strong&gt; ì·¨ì•½ì ë„ ë²„ê·¸ì¼€ì´ìŠ¤ë¥¼ ë¶„ì„í•˜ê³  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒê°í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œê²¬í•œ ì·¨ì•½ì ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CVE-2023-23969&lt;/strong&gt;ë¥¼ ë¶„ì„í•˜ë©´ì„œ ìœ„ì™€ ê°™ì€ ReDoS ì·¨ì•½ì ì´ ì—¬ëŸ¿ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ëŸ¬í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê°–ê³  Djangoì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì •ê·œí‘œí˜„ì‹ ë¬¸ìì—´ì„ ëª¨ë‘ ì°¾ì•„ ReDoSë¡œë¶€í„° ì•ˆì „í•œì§€ ë¶„ì„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì €ëŠ” &lt;strong&gt;CVE-2023-23969&lt;/strong&gt; ì·¨ì•½ì ì´ ì–´ë–»ê²Œ íŒ¨ì¹˜ë˜ì—ˆëŠ”ì§€, ê·¸ë¦¬ê³  ì œê°€ ì§€ê¸ˆê¹Œì§€ Django Security íŒ€ì— ë³´ë‚¸ Security Reportë“¤ì„ í†µí•´ ì·¨ì•½ì ìœ¼ë¡œ ì¸ì •ë°›ìœ¼ë ¤ë©´ ì–´ë–¤ í•­ëª©ì„ ë§Œì¡±ì‹œì¼œì•¼ í•˜ëŠ”ì§€ ìƒê°í•´ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{0,n}&lt;/code&gt; ë“±ì˜ ì •ê·œí‘œí˜„ì‹ notationì´ ì¤‘ë³µì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ finite automata ìƒ ë°˜ë³µì´ ë§ì´ ë°œìƒí•˜ëŠ” ê²½ìš°&lt;/li&gt;
  &lt;li&gt;ìœ„ ì •ê·œí‘œí˜„ì‹ì„ ì‚¬ìš©í•  ë•Œ ê¸¸ì´ ê²€ì¦ì´ ì„ í–‰ë˜ì§€ ì•Šì€ ê²½ìš°&lt;/li&gt;
  &lt;li&gt;ì´ìš©ìê°€ ì†¡ë¶€í•œ ê°’ì´ ê·¸ëŒ€ë¡œ í•´ë‹¹ í•¨ìˆ˜ì— ì¸ìë¡œ ë“¤ì–´ê°ˆ ê°œì—°ì„±ì´ ë†’ì€ ê²½ìš°&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;5-ë¶„ì„&quot;&gt;5. ë¶„ì„&lt;/h1&gt;

&lt;p&gt;ì•ì„œ ê¸°íší•œ ì‹œë‚˜ë¦¬ì˜¤ ëŒ€ë¡œ ê²€ì¦í•˜ëŠ” ê³¼ì •ì—ì„œ 2ê±´ì˜ ì·¨ì•½ì ì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EmailValidator&lt;/code&gt;ë¥¼ ì˜ˆë¡œ ë“¤ì–´ ì´ ì·¨ì•½ì ì´ ì–´ë–»ê²Œ ë°œìƒë˜ëŠ”ì§€ ì„¤ëª…í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EmailValidator&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.core.validators&lt;/code&gt; ì— ì¡´ì¬í•˜ëŠ” Validator í´ë˜ìŠ¤ë¡œ ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ë°›ì€ ë¬¸ìì—´ì´ ì´ë©”ì¼ í˜•ì‹ì„ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# django/core/validators.py
&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deconstructible&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;EmailValidator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ...
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;domain_regex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_lazy_re_compile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# max length for domain name labels is 63 characters per RFC 1034
&lt;/span&gt;        &lt;span class=&quot;sa&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+)(?:[A-Z0-9-]{2,63}(?&amp;lt;!-))\Z&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IGNORECASE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ Validatorì—ì„œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain_regex&lt;/code&gt; ë¼ëŠ” ë‚´ë¶€ ë³€ìˆ˜ë¡œ ë„ë©”ì¸ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ê¸° ìœ„í•œ ì •ê·œì‹ì„ ì €ì¥í•©ë‹ˆë‹¤. ì´ ë‚´ë¶€ ë³€ìˆ˜ëŠ” ì´ë©”ì¼ì˜ ë„ë©”ì¸ì„ ê²€ì‚¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ì •ê·œí‘œí˜„ì‹ ë¬¸ìì—´ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{0,61}&lt;/code&gt; ê³¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+&lt;/code&gt; notationì„ ì¤‘ì²©í•˜ì—¬ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ë§¤ìš° í° í¬ê¸°ì˜ ë¬¸ìì—´ì„ ê²€ì‚¬í•˜ê²Œ ë  ì—¬ì§€ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ì§€ë§Œ ë§Œì•½ ì´ ì •ê·œí‘œí˜„ì‹ ë¬¸ìì—´ë¡œ íŠ¹ì • ì…ë ¥ì„ ê²€ì‚¬í•˜ê¸° ì „ ê¸¸ì´ ê²€ì¦ ë¡œì§ì„ ë‘ì–´ ë§¤ìš° í° í¬ê¸°ì˜ ë¬¸ìì—´ì´ ì •ê·œí‘œí˜„ì‹ ê²€ì‚¬ì˜ ì¸ìë¡œ ë“¤ì–´ê°€ì§€ ëª»í•˜ë„ë¡ ë§‰ëŠ”ë‹¤ë©´ ì‚¬ì‹¤ìƒ ReDoSë¥¼ íŠ¸ë¦¬ê±°í•˜ê¸° ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. ì œ ê°œì¸ ë…¸íŠ¸ë¶(Apple Macbook Pro 13â€ / M2, 16GB)ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•´ë³¸ ê²°ê³¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Email Validator&lt;/code&gt;ì˜ ê²½ìš° 1MB ì´ìƒì˜ ë¬¸ìì—´ì´ ì¸ìë¡œ ë“¤ì–´ê°€ì•¼ ì •ê·œí‘œí˜„ì‹ ì—°ì‚° ê³¼ì •ì—ì„œ 100ms ì´ìƒì˜ ìœ ì˜ë¯¸í•œ ì‹œê°„ ì§€ì—°ì´ ë°œìƒí–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë”°ë¼ì„œ ì ì ˆí•œ ê¸¸ì´ ê²€ì¦ ë¡œì§ì´ ì¡´ì¬í–ˆì—ˆë‹¤ë©´ ReDoS ê³µê²©ì—ì„œ ì•ˆì „í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆê² ì§€ë§Œ, ì´ë²ˆ ì·¨ì•½ì ì˜ íƒ€ê²Ÿì¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EmailValidator&lt;/code&gt;ì™€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;URLValidator&lt;/code&gt;ì—ëŠ” ì •ê·œì‹ ê²€ì‚¬ ì´ì „ ì ì ˆí•œ ê²€ì‚¬ ì½”ë“œê°€ ë¶€ì¬í•˜ì—¬ ReDoS ê³µê²©ì— ì·¨ì•½í–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤. ì´ë©”ì¼ ì£¼ì†Œì™€ URL ì£¼ì†Œ ëª¨ë‘ RFC ìƒìœ¼ë¡œ ê·œê²©í™”ëœ í˜•ì‹ì´ ìˆê¸° ë•Œë¬¸ì—, ReDoS ê³µê²©ë„ ë§‰ì„ ê²¸ ê¸¸ì´ ê²€ì¦ ë¡œì§ì´ ì¶”ê°€ë˜ë©´ ì¶©ë¶„íˆ ReDoS ê³µê²©ë„ ë§‰ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;6-ì œë³´&quot;&gt;6. ì œë³´&lt;/h1&gt;

&lt;p&gt;ëŒ€ë¶€ë¶„ì˜ ëŒ€í˜• ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” Security Policyë¥¼ ê°–ê³  ìˆìŠµë‹ˆë‹¤. Djangoì˜ ê²½ìš°ì—ëŠ” ì•„ë˜ ë§í¬ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;https://docs.djangoproject.com/en/dev/internals/security/&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì´ 2ê±´ì˜ ì·¨ì•½ì ì„ ì°¾ì€ í›„, Django Security Teamì— ì´ë©”ì¼ë¡œ Security Reportë¥¼ ë³´ëƒˆê³  ì´í›„ ì•½ 2ì£¼ ì •ë„ì˜ ì‹œê°„ì´ ì§€ë‚˜ CVE ë„˜ë²„ë¥¼ í• ë‹¹ë°›ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ğŸ‘ğŸ‘ ì´ ê³¼ì •ì—ì„œ Django Security Teamì€ ì·¨ì•½ì  ì ‘ìˆ˜ë¶€í„° íŒ¨ì¹˜, í”¼ë“œë°±ê¹Œì§€ ì•„ì£¼ í”„ë¡œí˜ì…”ë„í•œ íŒ€ì´êµ¬ë‚˜ ëŠê¼ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;7-ë§ˆë¬´ë¦¬&quot;&gt;7. ë§ˆë¬´ë¦¬&lt;/h1&gt;

&lt;p&gt;ì§€ê¸ˆê¹Œì§€ ì œê°€ Djangoì— ëŒ€í•´ ì·¨ì•½ì ì„ ë¶„ì„í•œ ê³¼ì •ê³¼ Security Reportë¥¼ ë³´ë‚´ê³  CVE ì½”ë“œë¥¼ í• ë‹¹ë°›ê¸°ê¹Œì§€ì˜ ê³¼ì •ì„ ì‘ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì œê²Œ í° ìš©ê¸°ì™€ ë™ê¸°ë¶€ì—¬ë¥¼ ì£¼ì…¨ë˜ ì˜ˆë‘ë‹˜ê³¼ ìƒí˜¸ë‹˜, ê·¸ë¦¬ê³  ìŠ¤í‹¸ë¦¬ì–¸ R&amp;amp;DíŒ€ ì‹êµ¬ë“¤ì—ê²Œ ëŒ€ë‹¨íˆ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤. ğŸ™‡â€â™‚ï¸&lt;/p&gt;</content><author><name>Seokchan Yoon</name></author><category term="R&amp;D" /><summary type="html">ëª©ì°¨ 1. Introduction 2. Core Engine ë¶„ì„ 3. 1-day ë²„ê·¸ì¼€ì´ìŠ¤ ë¶„ì„ 4. ì‹œë‚˜ë¦¬ì˜¤ ê¸°íš 5. ë¶„ì„ 6. ì œë³´ 7. ë§ˆë¬´ë¦¬</summary></entry><entry xml:lang="ko"><title type="html">NITE Team 4: OPERATION CASTLE IVY Chapter 1 ë¦¬ë·°</title><link href="http://ufo.stealien.com/2023-03-19/nite-team-4-operation-castle-ivy-chapter-1" rel="alternate" type="text/html" title="NITE Team 4: OPERATION CASTLE IVY Chapter 1 ë¦¬ë·°" /><published>2023-03-19T00:00:00+09:00</published><updated>2023-03-19T00:00:00+09:00</updated><id>http://ufo.stealien.com/2023-03-19/nite-team-4-operation-castle-ivy-chapter-1-ko</id><content type="html" xml:base="http://ufo.stealien.com/2023-03-19/nite-team-4-operation-castle-ivy-chapter-1">&lt;h1 id=&quot;nite-team-4&quot;&gt;NITE Team 4&lt;/h1&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/nite-team-4.webp&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;NITE Team 4&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;â€œNITE Team 4â€ëŠ” í”Œë ˆì´ì–´ê°€ êµ°ì˜ í•´í‚¹ ë¶€ì„œì—ì„œ ì˜¤í¼ë ˆì´í„°ë¡œ ê·¼ë¬´í•˜ë©° ì§€ì‹œì— ë”°ë¼ í•´í‚¹ ì‘ì „ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ê°„ì ‘ì ìœ¼ë¡œ ì²´í—˜í•´ ë³¼ ìˆ˜ ìˆëŠ” ì‹œë®¬ë ˆì´ì…˜ ê²Œì„ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í”Œë ˆì´ì–´ëŠ” ìŠ¤í† ë¦¬/ìº í˜ì¸ì˜ ëª©ì ì— ë”°ë¼ ì í•©í•œ í•´í‚¹ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²©ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ë¶„ì„í•˜ëŠ” ê²ƒìœ¼ë¡œ ë§ˆì¹˜ í¼ì¦ì„ í‘¸ëŠ” ê²ƒ ì²˜ëŸ¼ ê²Œì„ì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;stinger-os&quot;&gt;STINGER OS&lt;/h1&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/stinger-os.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;STINGER OS&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;â€œNITE Team 4â€ì—ì„œëŠ” &lt;em&gt;STINGER OS&lt;/em&gt;ë¼ê³  ë¶€ë¥´ëŠ” ë‹¤ì–‘í•œ í•´í‚¹ ë„êµ¬ê°€ í¬í•¨ëœ ìš´ì˜ì²´ì œë¥¼ ì´ìš©í•˜ì—¬ ì‘ì „ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•ìœ¼ë¡œ STINGER OSë¥¼ ì´ìš©í•˜ì—¬ ì‘ì „ì˜ ëª©ì ì— ë”°ë¼ ëŒ€ìƒì„ í•´í‚¹í•˜ê³ , ì²©ë³´ë¥¼ ì²˜ë¦¬, ë¶„ì„í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;-ìš´ì˜ì²´ì œ-os-operating-system&quot;&gt;ğŸ” ìš´ì˜ì²´ì œ (OS, Operating System)&lt;/h2&gt;

&lt;p&gt;ìš°ë¦¬ê°€ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì›¹ ë¸Œë¼ìš°ì ¸, íŒŒì¼ íƒìƒ‰ê¸°, ë¬¸ì„œ í¸ì§‘ê¸° ë“±ì„ â€œì‘ìš© í”„ë¡œê·¸ë¨â€ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;â€œì‘ìš© í”„ë¡œê·¸ë¨â€ì„ ì˜ ì‹¤í–‰ì‹œí‚¤ê³ , í¸ë¦¬í•˜ê²Œ ì‚¬ìš©ê¸°ê¸° ìœ„í•´ì„œëŠ” â€œìš´ì˜ì²´ì œâ€ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì—¬ëŸ¬ë¶„ì´ ì›¹ ë¸Œë¼ìš°ì ¸ë¡œ ì—¬ëŸ¬ê°œì˜ íƒ­ì„ ì´ìš©í•˜ì—¬ ì›¹ ì„œí•‘ì„ í•  ìˆ˜ ìˆëŠ” ì´ìœ ë„, íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ ë¬¸ì„œì— ë¶™ì—¬ë„£ì„ ìˆ˜ ìˆëŠ” ì´ìœ ë„, ê²°êµ­ ì´ â€œìš´ì˜ì²´ì œâ€ê°€ ê·¸ëŸ° ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ , ì‘ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ ì£¼ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìš°ë¦¬ê°€ ì‹¤ì œë¡œ ë§ì´ ì“°ëŠ” ìš´ì˜ì²´ì œë¡œëŠ” &lt;em&gt;Microsoft Windows&lt;/em&gt;, &lt;em&gt;Apple macOS&lt;/em&gt;ê°€ ìˆì£ .&lt;/p&gt;

&lt;p&gt;ëª¨ë°”ì¼ ë””ë°”ì´ìŠ¤ì—ì„œëŠ” &lt;em&gt;Google Android&lt;/em&gt;, &lt;em&gt;Apple iOS&lt;/em&gt;ê°€ ìˆì„ ìˆ˜ ìˆê² ë„¤ìš”.&lt;/p&gt;

&lt;h2 id=&quot;-í•´í‚¹ì„-ìœ„í•œ-os&quot;&gt;ğŸ” í•´í‚¹ì„ ìœ„í•œ OS&lt;/h2&gt;

&lt;p&gt;â€œNITE Team 4â€ì˜ STINGER OSì²˜ëŸ¼, í˜„ì‹¤ì—ë„ í•´í‚¹ì„ ìœ„í•œ OSê°€ ì¡´ì¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/kali-linux.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Kali Linux&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.kali.org/get-kali/&quot;&gt;Kali Linux&lt;/a&gt;ëŠ” Offensive Securityì‚¬ì—ì„œ ê°œë°œí•œ í•´í‚¹ì„ ìœ„í•œ OSì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Linuxë¼ëŠ” OSë¥¼ ê¸°ë°˜í•˜ê³  ìˆìœ¼ë©°, ì•ìœ¼ë¡œ â€œNITE Team 4â€ì—ì„œ ì‚¬ìš©í•  ë§ì€ ë„êµ¬ë“¤ ì¤‘ ì¼ë¶€ë“¤ê°€ kali Linuxì— í¬í•¨ëœ ë„êµ¬ë¥¼ ë²¤ì¹˜ë§ˆí‚¹í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ Kali LinuxëŠ” STINGER OSì™€ ë‹¤ë¥´ê²Œ í•´í‚¹ì˜ ì „ë°˜ì ì¸ ì‘ì—…ë“¤ì„ ìë™í™” í•´ ì£¼ì§€ëŠ” ëª»í•©ë‹ˆë‹¤. Kali Linuxì—ëŠ” í•´í‚¹ì„ ìœ„í•œ ë‹¤ì–‘í•œ ì˜¤í”ˆì†ŒìŠ¤ ë„êµ¬ë“¤ì´ ì§‘í•©ë˜ì–´ ìˆì„ ë¿, ì‹¤ì œë¡œ í•´í‚¹ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ê° ë„êµ¬ì˜ ì›ë¦¬ì™€ ì‚¬ìš© ë°©ë²•ì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì‹¤ì—ì„œëŠ” ì´ Kali Linuxë¥¼ ê¸°ì—… ë˜ëŠ” ë‹¨ì²´ì—ì„œ ëª¨ì˜í•´í‚¹, ì¹¨íˆ¬ í…ŒìŠ¤íŒ…, ë ˆë“œíŒ€ì„ ì´ìš©í•œ ì •ë³´ ë³´ì•ˆ ê°•í™”ì— ë§ì´ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¹„ìŠ·í•œ OSë¡œëŠ” &lt;a href=&quot;https://blackarch.org/&quot;&gt;Black Arch Linux&lt;/a&gt;, &lt;a href=&quot;https://www.parrotsec.org/&quot;&gt;Parrot OS&lt;/a&gt;ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;operation-castle-ivy&quot;&gt;OPERATION CASTLE IVY&lt;/h1&gt;

&lt;p&gt;STINGER OSì— ëŒ€í•œ êµìœ¡ì´ ëë‚œ í›„, operatorëŠ” ì‹¤ì œ ì‘ì „ì— íˆ¬ì…ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;intro&quot;&gt;INTRO&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/intro.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Operation CASTLE IVY Intro&lt;/i&gt;
&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ìƒë¶€ëŠ” â€œNITE Team 4â€ì˜ êµ°ìš© ë©€ì›¨ì–´ê°€ ë„ë‚œ ë‹¹í–ˆìŒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.&lt;br /&gt;
SADëŠ” Bureau 121ì˜ ì†Œí–‰ìœ¼ë¡œ ì¶”ì •í•˜ê³  ìˆì§€ë§Œ, ë’·ëœë¯¸ë¥¼ ì¡ì„ë§Œí•œ ì¦ê±°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.&lt;br /&gt;
2017ë…„ NSAì˜ ìµìŠ¤í”Œë¡œì‡ ìœ ì¶œë¡œ 10B$ ì¶”ì •ì˜ ì†í•´ê°€ ìˆì—ˆë˜ ë§Œí¼, ë¹ ë¥´ê²Œ ì´ë¥¼ ì¡°ì‚¬í•´ì•¼í•©ë‹ˆë‹¤.
ìš°ë¦¬ëŠ” í˜„ì¥ì— ë‚¨ê²¨ì§„ ì¦ê±°ë“¤ì„ í™œìš©í•˜ì—¬ ì–¼ë§ˆë§Œí¼ì˜ ìœ ì¶œì´ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;-malware---ë©€ì›¨ì–´-ì•…ì„±ì½”ë“œ&quot;&gt;ğŸ” Malware - ë©€ì›¨ì–´, ì•…ì„±ì½”ë“œ&lt;/h3&gt;

&lt;p&gt;MalwareëŠ” Malicious Software, ì¦‰ ì•…ì„± ì†Œí”„íŠ¸ì›¨ì–´ ë˜ëŠ” ì•…ì„± ì½”ë“œì˜ ì¤„ì„ë§ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;MalwareëŠ” ê·¸ íŠ¹ì„±ì— ë”°ë¼ ë¶„ë¥˜ë˜ê³  ìˆìœ¼ë©°, ëŒ€í‘œì ì¸ ëª‡ê°€ì§€ë¥¼ ì†Œê°œ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-backdoor&quot;&gt;ğŸ” Backdoor&lt;/h4&gt;

&lt;p&gt;ì‹œìŠ¤í…œì—ì„œ Backdoorê°€ ì‹¤í–‰ë  ê²½ìš°, ì•…ì„± í–‰ìœ„ìëŠ” Backdoorê°€ ì„¤ì¹˜ëœ ì‹œìŠ¤í…œì— ë§ˆì¹˜ ë’·ë¬¸ì„ ë“œë‚˜ë“¤ ë“¯ ì¸ì¦ ê³¼ì • ë˜ëŠ” ë°˜ë“œì‹œ ìˆ˜í–‰ í•´ì•¼í•˜ëŠ” ì ˆì°¨ ì—†ì´ ì‹œìŠ¤í…œì˜ í•µì‹¬ ëª…ë ¹ ì¥ì¹˜ ë“±ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Backdoorë¥¼ í†µí•´ ì•…ì„± í–‰ìœ„ìëŠ” ì›¹ìº ì„ í†µí•œ ì‹¤ì‹œê°„ ê°ì‹œ, ì‹¤ì‹œê°„ í™”ë©´ ë…¹í™” ë˜ëŠ” ë‹¤ë¥¸ ì•…ì„± ì½”ë“œë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆê²Œ ë˜ë©°, ë‚´ë¶€ë§ì˜ ë‹¤ë¥¸ ëŒ€ìƒìœ¼ë¡œ ê³µê²©ì„ ë»—ì³ ë‚˜ê°ˆ ìˆ˜ë„ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•…ì„± í–‰ìœ„ìëŠ” Backdoorë¥¼ í†µí•´ ê³¼ê±°ì— ì¥ì•…í–ˆë˜ ì‹œìŠ¤í…œì— ëŒ€í•´ì„œ ë‹¤ì‹œ ê³µê²©í•˜ì—¬ ì¥ì•…í•   ìˆ˜ê³ ë¥¼ ëœ ìˆ˜ ìˆì„ ë¿ë”ëŸ¬, ì¶”ê°€ì ì¸ ê³µê²©ìœ¼ë¡œ ì´ì–´ ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„± ë•ë¶„ì— ë§ì´ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì†Œí”„íŠ¸ì›¨ì–´ë‚˜ ì œí’ˆì— ê¸°ë³¸ì ìœ¼ë¡œ íƒ‘ì¬ë˜ëŠ” í˜•ì‹ì˜ Backdoor ê³µê²© ì‚¬ë¡€ ë˜í•œ ë‹¤ìˆ˜ ì¡´ì¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ ëª…í•œ Backdoorë¡œëŠ” &lt;a href=&quot;https://www.pangulab.cn/en/post/the_bvp47_a_top-tier_backdoor_of_us_nsa_equation_group/&quot;&gt;â€œThe Bvp47 - Equation Groupâ€&lt;/a&gt;, &lt;a href=&quot;https://ipvm.com/reports/hik-exploit&quot;&gt;â€œIPVM - Hikvision Backdoor Exploitâ€&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/fs0c131y/status/1085460755313508352&quot;&gt;â€œES File Explorer Backdoorâ€&lt;/a&gt;ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-infostealer&quot;&gt;ğŸ” InfoStealer&lt;/h4&gt;

&lt;p&gt;ì‹œìŠ¤í…œì—ì„œ InfoStealerê°€ ì‹¤í–‰ë  ê²½ìš° ì‹œìŠ¤í…œì— ì €ì¥ë˜ì–´ ìˆëŠ” ë¬¸ì„œ, ë¹„íŠ¸ì½”ì¸ ì§€ê°‘, íŒ¨ìŠ¤ì›Œë“œ ë“± ë¯¼ê° ì •ë³´ë¥¼ ì¶”ì¶œí•˜ì—¬ ì•…ì„± í–‰ìœ„ìì—ê²Œ ì „ì†¡í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-ransomware&quot;&gt;ğŸ” Ransomware&lt;/h4&gt;

&lt;p&gt;RansomwareëŠ” ëª¸ê°’ì´ë¼ëŠ” ëœ»ì˜ ransomê³¼ softwareì˜ í•©ì„±ì–´ë¡œ, Ransomwareê°€ ì„¤ì¹˜ëœ ì‹œìŠ¤í…œì˜ íŒŒì¼ë“¤ì„ ì•…ì„± í–‰ìœ„ìë§Œì´ ì•Œê³  ìˆëŠ” íŒ¨ìŠ¤ì›Œë“œë¡œ ì•”í˜¸í™”í•˜ê³  ì¸ì§ˆë¡œ ë§Œë“¤ì–´ í”¼í•´ìì—ê²Œ ê¸ˆì „ì„ ìš”êµ¬í•˜ë„ë¡ ìœ ë„í•˜ëŠ” ì•…ì„±ì½”ë“œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;RansomwareëŠ” InfoStealerì˜ ê¸°ëŠ¥ì„ í¬í•¨í•˜ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìµœê·¼ì—ëŠ” ê¸°ì—… ëŒ€ìƒ ê³µê²©ìœ¼ë¡œ - í•µì‹¬ ê¸°ìˆ  ë˜ëŠ” ë°ì´í„°ë¥¼ ìœ ì¶œí•˜ê² ë‹¤ê³  í˜‘ë°•í•˜ë©° ì¶”ê°€ì ì¸ ê¸ˆì „ì„ ìš”êµ¬í•˜ëŠ” í˜•íƒœë¡œë„ ë°œì „í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ, ëœì„¬ì›¨ì–´ë¥¼ í° ë…¸ë ¥ ì•ˆë“¤ì´ë©° ë§Œë“¤ì–´ì£¼ê³ , í”¼í•´ìë¥¼ ê´€ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ë“± Ransomware as a Service(RaaS)ì˜ í˜•íƒœë¡œ ëœì„¬ì›¨ì–´ ì¡°ì§ì€ í™•ì¥ë˜ê³  ìˆìŠµë‹ˆë‹¤. ëœì„¬ì›¨ì–´ë¥¼ ì´ìš©í•˜ê³ ì í•˜ëŠ” ê³µê²©ìëŠ” ëœì„¬ì›¨ì–´ë¥¼ ì§ì ‘ ì œì‘í•  í•„ìš” ì—†ì´ ì¼ë¶€ ìˆ˜ìµë§Œ ê³µìœ í•˜ë©´ ì†ì‰½ê²Œ ê³µê²©ì— ëœì„¬ì›¨ì–´ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-malware-ì°¸ê³ -ìë£Œ-references&quot;&gt;ğŸ” Malware ì°¸ê³  ìë£Œ (References)&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ahnlab.com/kr/site/securityinfo/securityinfoMain.do&quot;&gt;Ahnlab ASEC&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.igloo.co.kr/security-information/2022%eb%85%84-%ec%82%ac%ec%9d%b4%eb%b2%84-%eb%b3%b4%ec%95%88%ec%9c%84%ed%98%91%ec%97%90-%eb%94%b0%eb%a5%b8-%ec%95%85%ec%84%b1%ec%bd%94%eb%93%9c-%ed%8c%a8%eb%9f%ac%eb%8b%a4%ec%9e%84/&quot;&gt;IGLOO, â€œ2022ë…„ ì‚¬ì´ë²„ ë³´ì•ˆìœ„í˜‘ì— ë”°ë¥¸ ì•…ì„±ì½”ë“œ íŒ¨ëŸ¬ë‹¤ì„â€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-cia-sad&quot;&gt;ğŸ” CIA SAD&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/cia-sad-pag.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;CIA SAD/PAG&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;â€œNITE Team 4â€ì—ì„œ ì–¸ê¸‰í•œ SADê°€ CIAì˜ SADì¸ì§€ëŠ” í™•ì‹¤í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ë¯¸êµ­ì˜ ì¤‘ì•™ ì •ë³´êµ­(Central Intelligence Agency, CIA)ì—ëŠ” íŠ¹ìˆ˜ í™œë™ ë¶€ì„œ(Special Activities Division, SAD)ê°€ ìˆìœ¼ë©°, SADì˜ ì •ì¹˜ì  ì‘ì „ ê·¸ë£¹(Political Action Group, PAG)ì˜ ì£¼ìš” ì‘ì „ ë²”ìœ„ì— ì‚¬ì´ë²„ ì „ìŸì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì¬ëŠ” íŠ¹ìˆ˜ í™œë™ ë³¸ë¶€(Special Activities Center, SAC)ë¼ê³  ë¶ˆë¦¬ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-cia-sad-ì°¸ê³ -ìë£Œ-references&quot;&gt;ğŸ” CIA SAD ì°¸ê³  ìë£Œ (References)&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://greydynamics.com/cia_special_activities_center&quot;&gt;grey dynamics, â€œCIA Special Activities Center: The Third Optionâ€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.operationmilitarykids.org/cia-special-activities-division-sad/#cia-branches&quot;&gt;Operation Military Kids, â€œCIA Speical Activities Division (SAD)â€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-bureau-121---ì •ì°°ì´êµ­-121êµ­&quot;&gt;ğŸ” Bureau 121 - ì •ì°°ì´êµ­ 121êµ­&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/sony-gop-hacked.webp&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Sony Pictures í•´í‚¹ ì‚¬ê±´ ë‹¹ì‹œ Sony Picturesì˜ ì›¹ì‚¬ì´íŠ¸&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;Bureau 121ì€ ë¶í•œì˜ ì •ì°°ì´êµ­ 121êµ­ìœ¼ë¡œ ë¶ˆë¦¬ë©°, ë¶í•œì˜ ì‚¬ì´ë²„ ì „ìŸì„ ìœ„í•œ ì§‘ë‹¨ì…ë‹ˆë‹¤.
2014ë…„ ì†Œë‹ˆ í”½ì³ìŠ¤ í•´í‚¹ì˜ ë°°í›„ë¡œ ì˜ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;6,000ëª… ì´ìƒì˜ ì¸ì›ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° Andariel, Bluenoroff, Lazarusë¼ê³  ë¶ˆë¦¬ëŠ” ì•…ì„± í–‰ìœ„ì ê·¸ë£¹ì´ 121êµ­ì— ì†í•´ ìˆëŠ”ê²ƒìœ¼ë¡œ íŒŒì•…í•˜ê³  ìˆìŠµë‹ˆë‹¤. (2021)&lt;/p&gt;

&lt;p&gt;121êµ­ì˜ ì•…ì„± í–‰ìœ„ìë“¤ì€ ì¤‘êµ­, ì¸ë„, ëŸ¬ì‹œì•„, ë²¨ë¼ë£¨ìŠ¤, ë§ë ˆì´ì‹œì•„ì™€ ê°™ì€ ì—¬ëŸ¬ êµ­ê°€ë“¤ì„ ê±°ì ìœ¼ë¡œ í™œë™í•˜ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-bureau-121-ì°¸ê³ -ìë£Œ-references&quot;&gt;ğŸ” Bureau 121 ì°¸ê³  ìë£Œ (References)&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.hhs.gov/sites/default/files/dprk-cyber-espionage.pdf&quot;&gt;U.S. Department of Health &amp;amp; Human Service, â€œNorth Korean Cyber Activityâ€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnas.org/publications/reports/exposing-the-financial-footprints-of-north-koreas-hackers&quot;&gt;Center for a New American Security, â€œExposing the Financial Footprints of North Koreaâ€™s Hackersâ€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-the-shadow-brokers-leak&quot;&gt;ğŸ” The Shadow Brokers Leak&lt;/h3&gt;

&lt;p&gt;2016ë…„, â€œThe Shadow Brokersâ€ í•´ì»¤ ê·¸ë£¹ì´ â€œEquation Groupâ€ í•´ì»¤ ê·¸ë£¹ì„ í•´í‚¹í•˜ì—¬, ê·¸ë“¤ì˜ í•´í‚¹ ë„êµ¬ë¥¼ íƒˆì·¨í•˜ê³ , ê²½ë§¤ì— ë¶€ì¹˜ê³ , ìœ ì¶œì‹œí‚¨ ì‚¬ê±´ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;â€œEquation Groupâ€ì€ ì´ë€ì˜ ìš°ë¼ëŠ„ ë†ì¶• ì‹œì„¤ íŒŒê´´ë¥¼ ëª©í‘œë¡œí•œ â€œStuxnetâ€ ì•…ì„±ì½”ë“œë¥¼ ê°œë°œí•˜ëŠ” ë“± ë‹¹ì‹œ ìµœê³ ì˜ ê¸°ìˆ ë ¥ì„ ê°€ì§€ê³  ìˆëŠ” í•´ì»¤ ì§‘ë‹¨ìœ¼ë¡œ ì˜ ì•Œë ¤ì ¸ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ, â€œEquation Groupâ€ì€ ë¯¸êµ­ êµ­ê°€ì•ˆë³´êµ­(National Security Agency, NSA)ì˜ TAO(Tailored Access Operations)ê°€ â€œEquation Groupâ€ì˜ ë°°í›„ë¼ê³  ìƒê°ë˜ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ìœ ì¶œ ì‚¬ê±´ìœ¼ë¡œ ì¸í•´ â€œEquation Groupâ€ì˜ í•µì‹¬ í•´í‚¹ ê¸°ìˆ ê³¼ ë„êµ¬ë“¤ì´ ëŒ€ê±° ìœ ì¶œë˜ê³  ì•…ì˜ë˜ë©° ì‚¬íšŒì— í° íŒŒì¥ì„ ì¼ìœ¼ì¼°ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-the-shadow-brokers-leak-ì°¸ê³ -ìë£Œ-references&quot;&gt;ğŸ” The Shadow Brokers Leak ì°¸ê³  ìë£Œ (References)&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Equation_Group&quot;&gt;Wikipedia, â€œEquation Groupâ€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnas.org/publications/reports/exposing-the-financial-footprints-of-north-koreas-hackers&quot;&gt;Wikipedia, â€œThe Shadow Brokersâ€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/WannaCry_ransomware_attack&quot;&gt;Wikipedia, â€œWannaCryâ€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;chapter-1-ë¸Œë¦¬í•‘&quot;&gt;Chapter 1, ë¸Œë¦¬í•‘&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-breifing.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Chapter 1 ë¸Œë¦¬í•‘&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ë°°ê²½&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;â€œNITE Team 4â€ëŠ” ë¯¸ì •ë¶€ì™€ í˜‘ë ¥í•˜ì— Turbine C2 Platformì„ ìš´ì˜ì¤‘ì´ë‹¤.&lt;/li&gt;
  &lt;li&gt;â€œTurbine C2 Platformâ€ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë‹¤ìˆ˜ì˜ implantë¥¼ ê´€ë¦¬í•˜ëŠ” í”Œë«í¼ì´ë‹¤.&lt;/li&gt;
  &lt;li&gt;Malwareê°€ implant(ì„¤ì¹˜)ë˜ë©´, ìë™ìœ¼ë¡œ Turbine C2 Cardì˜ í˜•íƒœë¡œ í”Œë«í””/ì‹œìŠ¤í…œì— ë“±ë¡ëœë‹¤.&lt;/li&gt;
  &lt;li&gt;ê°ê°ì˜ Turbine C2 CardëŠ” ê´€ë¦¬ë˜ëŠ” ê³ ìœ í•œ IDì™€ ì ‘ê·¼ ê¶Œí•œ ì½”ë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ìƒí™©&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;4ì‹œê°„ ì „, BloodDoveë¼ëŠ” ë©€ì›¨ì–´ê°€ ì–´ë–¤ ëŒ€ìƒì— ì„¤ì¹˜ë˜ì–´ ì‹ë³„ë˜ì§€ ì•Šì€ IDë¥¼ í†µí•´ í™œì„±í™”ëœ ê²ƒì„ í¬ì°©í–ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;ì´ ë©€ì›¨ì–´ëŠ” í˜„ì¬ â€œNITE Team 4â€ì—ì„œ ì§„í–‰ë˜ê³  ìˆëŠ” ì‘ì „ë“¤ê³¼ ì•„ë¬´ëŸ° ì—°ê´€ì„±ì´ ì—†ëŠ” ê²ƒìœ¼ë¡œ íŒŒì•…ëœë‹¤.&lt;/li&gt;
  &lt;li&gt;ë”°ë¼ì„œ, ì´ ì‚¬ê±´ì— ëŒ€í•˜ì—¬ ì¡°ì‚¬ê°€ í•„ìš”í•˜ë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ëª©í‘œ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ë¯¸ì‹ë³„ëœ C2 cardì— ì ‘ê·¼í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ê³µìœ  ë””ë ‰í† ë¦¬ë¥¼ ì‹ë³„í•˜ê³  ì ‘ê·¼ ê¶Œí•œì„ íšë“í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;BloodDove ë©€ì›¨ì–´ì˜ ì‹¤ì œ ìœ„ì¹˜ë¥¼ íŒŒì•…í•œë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;turbine-c2-platform&quot;&gt;Turbine C2 Platform&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/turbine-c2.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Turbine C2 Platform&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ê²Œì„ì—ì„œ Turbine C2 Platformì„ í†µí•´ ì‘ì „ ëŒ€ìƒ ë„¤íŠ¸ì›Œí¬ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-command--control-aka-cc-or-c2&quot;&gt;ğŸ” Command &amp;amp; Control (a.k.a C&amp;amp;C or C2)&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/c2-diagram.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;C2 Diagram&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ê³µê²©ìëŠ” C2 ì„œë²„ë¥¼ ê³µê²©ì˜ ê²½ìœ ì§€ë¡œ ì‚¬ìš©í•˜ê±°ë‚˜, ë©€ì›¨ì–´ë¡œ ê°ì—¼ëœ ë””ë°”ì´ìŠ¤ë“¤ì„ ì›ê²©ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë“±ì˜ ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì‹¤ì—ëŠ” &lt;a href=&quot;https://www.metasploit.com/&quot;&gt;Metasploit&lt;/a&gt;, &lt;a href=&quot;https://www.cobaltstrike.com/&quot;&gt;CobaltStrike&lt;/a&gt;ì™€ ê°™ì€ ìƒìš© ì¹¨íˆ¬ í…ŒìŠ¤íŒ… ë„êµ¬ì— í¬í•¨ë˜ì–´ ìˆê±°ë‚˜, &lt;a href=&quot;https://github.com/tcostam/awesome-command-control&quot;&gt;ì˜¤í”ˆì†ŒìŠ¤&lt;/a&gt;ì˜ í˜•íƒœë¡œë„ ì¡´ì¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;chapter-1-workaround&quot;&gt;Chapter 1, Workaround&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-1.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Connected to OPERATION CASTLE IVY network.&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ìš°ì„ , ìœ„ì™€ ê°™ì´ ì‘ì „ ëŒ€ìƒ ë„¤íŠ¸ì›Œí¬ì— ì§„ì…í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-2.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;netscan result&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Information Gathering Module -&amp;gt; WMI Scanner&lt;/code&gt;ë¥¼ ì‹¤í–‰ í›„, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;netscan&lt;/code&gt; ëª…ë ¹ì„ ì…ë ¥í•˜ì—¬ í˜„ì¬ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ WMI pathë¥¼ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;WMI path ì¤‘, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/user/nlightman/c$&lt;/code&gt;ê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆëŠ”ë°, ì´ ë¬¸ìì—´ì„ í†µí•´ ë‹¤ìŒê³¼ ê°™ì€ ì‚¬ì‹¤ì„ ì¶”ì¸¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ì‚¬ìš©ì IDê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nlightman&lt;/code&gt;ì´ë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;c$&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C:&lt;/code&gt; ë“œë¼ì´ë¸Œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ë”°ë¼ì„œ í•´ë‹¹ ê²½ë¡œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nlightman&lt;/code&gt; ì‚¬ìš©ìì˜ ë“œë¼ì´ë¸Œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” WMI pathì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-3.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;password attack 1&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Network Intrusion -&amp;gt; Password Attack&lt;/code&gt;ì„ ì‹¤í–‰í•˜ê³ , ì•„ê¹Œ í™•ë³´í•œ ê²½ë¡œì™€ ì•„ì´ë””ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-4.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;password attack 2&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ì—¬ê¸°ì„œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;John The Ripper&lt;/code&gt; íŒŒë¼ë¯¸í„°ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-5.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;password attack 3&lt;/i&gt;
&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-6.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;password attack 4&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ì›Œë“œ ê³µê²©ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-7.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;file browser connect 1&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Data Forensic -&amp;gt; File Browser&lt;/code&gt;ë¥¼ ì‹¤í–‰ í›„, ì•„ê¹Œ í™•ë³´í•œ ê²½ë¡œë¥¼ ì…ë ¥í•˜ê³  ì—°ê²°ì„ ì‹œë„í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-8.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;file browser connect 2&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;Password Attack ë‹¨ê³„ì—ì„œ í™•ë³´í•œ ê³„ì •ì˜ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì—¬ ëŒ€ìƒì˜ íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-9.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;file browser connect 3&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ìµœì¢…ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BloodDove&lt;/code&gt;ì™€ í•¨ê»˜, ë‹¤ë¥¸ ìˆ˜ìƒí•œ ë©€ì›¨ì–´ë“¤ë„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´í›„ì—ëŠ” ì§€ì‹œì— ë”°ë¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni74455.dll&lt;/code&gt;ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ì„ë¬´ê°€ ì™„ë£Œë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-wmi-scanner&quot;&gt;ğŸ” WMI scanner&lt;/h3&gt;

&lt;p&gt;WMIëŠ” Windows Management Instrumentationë¼ëŠ” ëœ»ì˜ Windows OS ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê³µê²©ìëŠ” WMIë¥¼ í†µí•´ ë‚´ë¶€ë§ì—ì„œ ì¥ì•…í•œ ì‹œìŠ¤í…œí…œ ì›ê²©ì§€ì˜ ìœˆë„ìš° ì‹œìŠ¤í…œì˜ ì·¨ì•½ì ê³¼ ë…¸ì¶œ ë¶€ë¶„ì„ íŒŒì•…í•˜ê³ , ì¹¨íˆ¬í•œ ì‹œìŠ¤í…œì—ì„œë¶€í„° ê³µê²©ì„ í™•ì¥í•˜ëŠ” ë“±ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê²Œì„ì—ì„œëŠ” ë‹¨ìˆœíˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;netscan&lt;/code&gt;ì„ ì´ìš©í•˜ì—¬ í˜„ì¬ ë„¤íŠ¸ì›Œí¬ì— ê³µê²© ê°€ëŠ¥í•œ ì§€ì ì´ ì–´ë”” ìˆëŠ”ì§€ íŒŒì•…í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-bruteforce-ê³µê²©&quot;&gt;ğŸ” Bruteforce ê³µê²©&lt;/h3&gt;

&lt;p&gt;ë¬´ì‘ìœ„ ëŒ€ì… ê³µê²©ì´ë¼ê³ ë„ ë¶€ë¥´ëŠ” Bruteforce ê³µê²©ì€ ì–´ë–¤ ì•”í˜¸, ì¸ì¦ ë“±ì„ í†µê³¼í•˜ê¸° ìœ„í•´ ê°€ëŠ¥í•œ ëª¨ë“  í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ì…í•´ë³´ëŠ” ì•„ì£¼ ë¬´ì‹í•œ ê³µê²© ê¸°ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¬´ì‹í•´ ë³´ì´ëŠ” Bruteforce ê³µê²© ê¸°ë²•ì—ë„ ëª‡ê°€ì§€ ë°©ë²•ë“¤ì´ ìˆëŠ”ë°ìš”, ë§ ê·¸ëŒ€ë¡œ ëª¨ë“  ê°€ëŠ¥í•œ ê°’ì„ ëŒ€ì…í•˜ëŠ” ë°©ì‹, ì‚¬ì „(Dictionary)ì˜ ë°ì´í„°ë¥¼ í•˜ë‚˜ì”© ëŒ€ì…í•˜ëŠ” ì´ ë‘ê°€ì§€ ë°©ì‹ì´ ëŒ€í‘œì ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-john-the-ripper&quot;&gt;ğŸ” John The Ripper&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/openwall/john&quot;&gt;John The Ripper&lt;/a&gt;ëŠ” ìœ ëª…í•œ ì˜¤í”ˆì†ŒìŠ¤ íŒ¨ìŠ¤ì›Œë“œ í•´í‚¹ íˆ´ì…ë‹ˆë‹¤ - ì •í™•íˆëŠ” íŒ¨ìŠ¤ì›Œë“œì˜ í•´ì‰¬ë¥¼ í•´í‚¹í•˜ì—¬ íŒ¨ìŠ¤ì›Œë“œ ì›ë¬¸ì„ ì•Œì•„ë‚´ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;íŒ¨ìŠ¤ì›Œë“œë¥¼ ì‹œìŠ¤í…œì— ì €ì¥ í•  ë•ŒëŠ” ì•…ì˜ì ì¸ ì˜ë„ë¥¼ ê°€ì§„ ì‹œìŠ¤í…œ ê´€ë¦¬ì, ê°œë°œì ë˜ëŠ” ì–´ë–¤ í•´í‚¹ì´ë‚˜ ìœ ì¶œ ì‚¬ê±´ìœ¼ë¡œë¶€í„° íŒ¨ìŠ¤ì›Œë“œ ì›ë¬¸ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ í•´ì‰¬ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ê³ ì •ëœ ê¸¸ì´ì˜ (ëœë¤í•˜ê²Œ ë³´ì´ëŠ”) ë°ì´í„°ë¡œ ë³€í™˜ì‹œí‚µë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;John The RipperëŠ” ì´ í•´ì‰¬ í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±ëœ í•´ì‰¬ë¡œë¶€í„° ì›ë¬¸ì˜ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì•Œì•„ë‚´ë„ë¡ ë„ì™€ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê²Œì„ì—ì„œëŠ” ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ì˜ ì–´ë–¤ IDì— ëŒ€ì‘í•˜ëŠ” íŒ¨ìŠ¤ì›Œë“œë¥¼ bruteforceë¡œ ì•Œì•„ë‚´ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì‚¬ì „(Dictionary)ì˜ ì¢…ë¥˜ë¡œ ë“±ì¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-rockyoutxt&quot;&gt;ğŸ” rockyou.txt&lt;/h3&gt;

&lt;p&gt;RockYouë¼ëŠ” IT ì„œë¹„ìŠ¤ ì—…ì²´ê°€ í•´í‚¹ ê³µê²©ì„ ë‹¹í•´ ê·¸ ê³ ê°ë“¤ì˜ íŒ¨ìŠ¤ì›Œë“œê°€ ì›ë¬¸ìœ¼ë¡œ ë…¸ì¶œëœ ì  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;RockYouëŠ” ê³ ê°ë“¤ì˜ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì›ë¬¸(plain-text) í˜•íƒœë¡œ ì €ì¥í•˜ì—¬ ê·¸ë“¤ì˜ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ì˜€ìœ¼ë©°, ì´ê²ƒì´ ìœ ì¶œëœ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ 3200ë§Œê°œ ê°€ëŸ‰ì˜ íŒ¨ìŠ¤ì›Œë“œê°€ ìœ ì¶œ ë˜ì—ˆìœ¼ë©°, ê³µê²©ìë“¤ì€ ì´ ë°ì´í„°ì…‹ì„ bruteforcing ê³µê²©ì— ì¢…ì¢… ì´ìš©í•˜ê³ ëŠ” í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;closing&quot;&gt;Closing&lt;/h2&gt;

&lt;p&gt;â€œNITE Team 4â€ë¥¼ í†µí•´ í•´í‚¹ì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ ë„êµ¬ì™€ ê°œë…ë“¤ì— ëŒ€í•´ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Chapter 2ì—ì„œëŠ” XKeyScore, Phone CID Backdoorì™€ ê°™ì€ ë³µì¡í•˜ê³  ë†’ì€ ê¸°ìˆ ë ¥ì„ í•„ìš”ë¡œí•˜ëŠ” ë„êµ¬ë“¤ì— ëŒ€í•´ ì„¤ëª…ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤. íŠ¹íˆ XKeyScoreì˜ ê²½ìš°, ì‹¤ì œë¡œ NSAì—ì„œ ì‚¬ìš©í•˜ë˜ ê°ì‹œì²´ê³„ì˜ ì´ë¦„ì´ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜¹ì‹œ â€œNITE Team 4â€ë¥¼ ì´ë¯¸ í”Œë ˆì´ í•´ ë³´ì‹  ë¶„ì€ &lt;a href=&quot;https://tryhackme.com/&quot;&gt;TryHackMe&lt;/a&gt;, &lt;a href=&quot;https://www.hackthebox.com/&quot;&gt;HackTheBox&lt;/a&gt;ì™€ ê°™ì€ í”Œë«í¼ì—ì„œ ì‹¤ì „ í•´í‚¹ì„ íƒêµ¬í•˜ê³  ì—°ìŠµ í•´ ë³´ì…”ë„ ì¢‹ê² ë„¤ìš”.&lt;/p&gt;

&lt;p&gt;ì´ í¬ìŠ¤íŒ…ì€ ì‹œë¦¬ì¦ˆë¡œ ì´ì–´ì§‘ë‹ˆë‹¤! ì—¬ëŸ¬ë¶„ì˜ ë§ì€ ê´€ì‹¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤ :)&lt;/p&gt;</content><author><name>ê¹€ë„í˜„</name></author><category term="R&amp;D" /><summary type="html">NITE Team 4</summary></entry><entry xml:lang="ko"><title type="html">Analyzing Django ORM with 1-day vulnerabilities and sql bug</title><link href="http://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day" rel="alternate" type="text/html" title="Analyzing Django ORM with 1-day vulnerabilities and sql bug" /><published>2022-12-16T00:00:00+09:00</published><updated>2022-12-16T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;div style=&quot;text-align: left&quot;&gt;ëª©ì°¨&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#0-introduction&quot;&gt;0. Introduction&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#1-how-does-django-execute-sql-query&quot;&gt;1. How does Django execute SQL query?&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#2-cve-2022-28346&quot;&gt;2. CVE-2022-28346&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#3-cve-2022-28347&quot;&gt;3. CVE-2022-28347&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#4-cve-2022-34265&quot;&gt;4. CVE-2022-34265&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#5-django-single-quote-unescaping-bug-in-keytransform-class&quot;&gt;5. Django Single Quote Unescaped Bug&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#6-ëìœ¼ë¡œ&quot;&gt;6. ëìœ¼ë¡œ&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;0-introduction&quot;&gt;0. Introduction&lt;/h1&gt;

&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”. ìŠ¤í‹¸ë¦¬ì–¸ R&amp;amp;DíŒ€ ìœ¤ì„ì°¬ ì—°êµ¬ì›ì…ë‹ˆë‹¤. ì´ë²ˆ ì°¨ë¡€ì—ë„ ì œê°€ ê¸°ìˆ ë¸”ë¡œê·¸ì— ê¸€ì„ ì“°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë²Œì¨ 12ì›”ì´ ë˜ì—ˆëŠ”ë° ë‹¤ë“¤ ì˜¬í•´ ì›í•˜ì‹œë˜ ëª©í‘œ ì´ë£¨ì…¨ëŠ”ì§€ìš”? ì œê°€ ì˜¬í•´ ì„¸ì› ë˜ ëª©í‘œ ì¤‘ í•˜ë‚˜ëŠ” Pythonì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Django&lt;/code&gt; ë‚˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Flask&lt;/code&gt;, NodeJSì˜  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;express.js&lt;/code&gt; ì²˜ëŸ¼ ëŒ€ì¤‘ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì›¹ í”„ë ˆì„ì›Œí¬ì—ì„œ ìœ ì˜ë¯¸í•œ ë³´ì•ˆ ì·¨ì•½ì ì„ ì°¾ì•„ì„œ ì œë³´í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ë§ì”€ë“œë¦¬ìë©´ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì§„ ëª»í–ˆì§€ë§Œ, ê·¸ë˜ë„ Djangoë¼ëŠ” êµ­ì œì ìœ¼ë¡œ ìœ ëª…í•œ ëŒ€í˜• ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¥¼ ë¶„ì„í•˜ë©´ì„œ ë°°ì› ë˜ ì ì´ ë§ì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì—ì„œëŠ” 2022ë…„ì— ì œë³´ëœ Django 1-day ì·¨ì•½ì ë“¤ê³¼ ì œê°€ ë°œê²¬í•œ SQL Single Quote Unescaped Bugë¥¼ ì†Œê°œí•˜ê³ ì í•©ë‹ˆë‹¤. ê¸€ì´ ë‹¤ì†Œ ê¸¸ê³  ì²¨ë¶€ëœ ì†ŒìŠ¤ì½”ë“œê°€ ë§ì•„ì„œ PCì—ì„œ ë³´ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;_&lt;/p&gt;

&lt;p&gt;ì˜¬í•´ëŠ” Django ë²„ì „ì´ 4.0ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œëœ ì²« í•´ë¡œ, ì € ê°™ì´ Djangoë¥¼ ì¦ê²¨ì„œ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìë¡œì„œëŠ” ì˜ë¯¸ìˆëŠ” í•œí•´ì˜€ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. 4.0ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ë©´ì„œ ë·°ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt; ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSONField&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayField&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BigAutoField&lt;/code&gt; ê°™ì€ ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ Field Typeì´ ë“±ì¥í•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ ì–´ë–¤ ê¸°ëŠ¥ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆëŠ”ì§€ëŠ” ì•„ë˜ ë§í¬ì—ì„œ ìì„¸íˆ í™•ì¸í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://docs.djangoproject.com/en/4.1/releases/4.0/&quot;&gt;https://docs.djangoproject.com/en/4.1/releases/4.0/&lt;/a&gt;
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì˜¬í•´ë„ Djangoì— ì—¬ëŸ¬ ì·¨ì•½ì ì´ ì œë³´ë˜ì—ˆìŠµë‹ˆë‹¤. 2021ë…„ 12ì›” 6ì¼ ë°°í¬ëœ Django 4.0ì„ ê¸°ì¤€ìœ¼ë¡œ, 2022ë…„ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Severity Level&lt;/code&gt;*ì´ &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Critical&lt;/code&gt;&lt;/strong&gt; ë¡œ ë¶„ë¥˜ëœ ì·¨ì•½ì ì€ ì´ 3ê±´ì´ì—ˆê³  ëª¨ë‘ SQL Injection ì·¨ì•½ì ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;* &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Severity Level&lt;/code&gt;ì€ ë³´ì•ˆ ì·¨ì•½ì ì€ íŒŒê¸‰ë ¥ì— ë”°ë¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Low&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Medium&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;High&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Critical&lt;/code&gt; 4ê°€ì§€ ë“±ê¸‰ìœ¼ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤. ì´ ì¤‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Critical&lt;/code&gt; ë“±ê¸‰ì€ ê°€ì¥ íŒŒê¸‰ë ¥ì´ ë†’ì€ ë³´ì•ˆ ì·¨ì•½ì ìœ¼ë¡œ í‰ê°€ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;DjangoëŠ” 2005ë…„ì— ì²˜ìŒ ì‹œì‘ë˜ì–´ ì˜¬í•´ë¡œ 18ë…„ ì§¸ ìœ ì§€ë˜ê³  ìˆëŠ” ëŒ€í˜• í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ì„œ ì ˆëŒ€ ë°œê²¬ë˜ì§€ ì•Šì„ ê²ƒ ê°™ì•˜ë˜ SQL Injection ì·¨ì•½ì ì´,  ê·¸ê²ƒë„ 3ê°œë‚˜ ì—°ë‹¬ì•„ì„œ ë°œê²¬ë˜ëŠ” ê²ƒì€ ì´ë¡€ì ì¸ ì¼ì´ë¼ê³  ìƒê°í•´ì„œ ê´€ì‹¬ì„ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. Djangoì— ì œë³´ëœ ì·¨ì•½ì ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•´ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://security.snyk.io/package/pip/django&quot;&gt;https://security.snyk.io/package/pip/django&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cve.org/CVERecord?id=CVE-2022-28346&quot;&gt;CVE-2022-28346&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cve.org/CVERecord?id=CVE-2022-28347&quot;&gt;CVE-2022-28347&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cve.org/CVERecord?id=CVE-2022-34265&quot;&gt;CVE-2022-34265&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;1-how-does-django-execute-sql-query&quot;&gt;1. How does Django execute SQL query?&lt;/h1&gt;

&lt;p&gt;Djangoì—ì„œëŠ” ORMìœ¼ë¡œ SQLì„ ì–´ë–»ê²Œ ì‹¤í–‰í•˜ëŠ”ì§€ ì•Œì•„ë‘˜ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ë§í¬ì— Django ORMì´ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì¿¼ë¦¬ë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•˜ëŠ”ì§€ ì •ë¦¬í•´ë‘ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://blog.ch4n3.kr/569&quot;&gt;How does Django execute SQL Query?&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;2-cve-2022-28346&quot;&gt;2. CVE-2022-28346&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;CVE-2022-28346: Potential SQL injection in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet.annotate()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aggregate()&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extra()&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/django/django/commit/93cae5cb2f9a4ef1514cf1a41f714fef08005200&quot;&gt;https://github.com/django/django/commit/93cae5cb2f9a4ef1514cf1a41f714fef08005200&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì·¨ì•½ì ì´ ë°œìƒí•˜ëŠ” ë©”ì†Œë“œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.query&lt;/code&gt;ì— ì§€ì •ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ ë‚´ì˜  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aggregate()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extra()&lt;/code&gt; ë©”ì†Œë“œë¡œ, ì´ ì„¸ ë©”ì†Œë“œëŠ” ê³µí†µì ìœ¼ë¡œ alias ê¸°ëŠ¥ì´ ë‚´í¬ë˜ì–´ ìˆë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œëŠ” ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•©ë‹ˆë‹¤. ì•„ë˜ ì˜ˆì‹œë¥¼ ë³´ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Count()&lt;/code&gt; ê²°ê³¼ ê°’ì„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;num_books&lt;/code&gt; ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ alias ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221216162758.png&quot; alt=&quot;Pasted image 20221216162758.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ê²°ê³¼ì ìœ¼ë¡œ ë§í•˜ìë©´ ì´ ì·¨ì•½ì ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kwargs&lt;/code&gt; ë°©ì‹ìœ¼ë¡œ ì „ë‹¬í•˜ì—¬, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kwargs&lt;/code&gt;ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key&lt;/code&gt; ê°’ìœ¼ë¡œ aliasë¥¼ ì§€ì •í•  ë•Œ ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key&lt;/code&gt; ê°’ì„ ê²€ì¦í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ë©´ ë‚´ë¶€ì ìœ¼ë¡œëŠ” ì•„ë˜ì™€ ê°™ì€ ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-1-querysetannotate&quot;&gt;2-1. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet.annotate()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ ë‚´ë¶€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_annotate()&lt;/code&gt; ë©”ì†Œë“œ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/1.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;2-2-queryset_annotate&quot;&gt;2-2. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet._annotate()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/2.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_annotate()&lt;/code&gt; ë©”ì†Œë“œì—ì„œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kwargs&lt;/code&gt;ë¡œ ì „ë‹¬ëœ ì •ë³´ë¥¼ ë‚´ë¶€ ë³€ìˆ˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotations&lt;/code&gt;ì— ì €ì¥í•˜ê³ , ì´ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add_annnotation()&lt;/code&gt;ì— ì „ë‹¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-3-queryadd_annotation&quot;&gt;2-3. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query.add_annotation()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/3.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œëŠ” ì´ì „ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet._annotate()&lt;/code&gt; ì—ì„œ ì „ë‹¬ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotations&lt;/code&gt;ë¥¼ ë‚´ë¶€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.annotations&lt;/code&gt;ì— ì„¤ì •í•˜ì—¬ Alias ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ ì„¤ì •ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.annotations&lt;/code&gt;ë¥¼ ê°€ì ¸ì˜¬ ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@property&lt;/code&gt;ë¡œ ì„¤ì •ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotation_slect()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.annotations&lt;/code&gt;ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-4-djangodbmodelssqlcompiler&quot;&gt;2-4. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.sql.compiler&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221218152519.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SQLCompiler&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œëŠ” ì‹¤ì œ ì‹¤í–‰ë  SQL ì¿¼ë¦¬ë¥¼ ë§Œë“­ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.select&lt;/code&gt;ì— ì €ì¥ëœ ê°’ì„ SQL &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AS&lt;/code&gt; êµ¬ë¬¸ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt;í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì „ë‹¬í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kwargs&lt;/code&gt;ì˜ í‚¤ ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.connection.ops.quote_name()&lt;/code&gt; ì„ ê±°ì³ SQLì— ë“¤ì–´ê°‘ë‹ˆë‹¤. ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quote_name()&lt;/code&gt; ë©”ì†Œë“œëŠ” ê° DBMS ë³„ë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221218152848.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;MySQLì„ ì˜ˆë¡œ ë“¤ìë©´ Backtick ë¬¸ìë¡œ ì§€ì •í•´ì£¼ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ì „ê¹Œì§€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key&lt;/code&gt; ê°’ì— ëŒ€í•œ escape ì²˜ë¦¬ê°€ ì—†ì—ˆê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œ SQL Injection ì·¨ì•½ì ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-5-íŒ¨ì¹˜&quot;&gt;2-5. íŒ¨ì¹˜&lt;/h2&gt;

&lt;p&gt;í•´ë‹¹ ì·¨ì•½ì ì€ Django 4.0.4ì—ì„œ ìˆ˜ì •ë˜ì—ˆê³   &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.sql.query.Query&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add_annotation()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•  ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_alias()&lt;/code&gt; ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹ìœ¼ë¡œ ì·¨ì•½ì ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221218153153.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;3-cve-2022-28347&quot;&gt;3. CVE-2022-28347&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;CVE-2022-28347: Potential SQL injection via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet.explain(**options)&lt;/code&gt; on PostgreSQL&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ì´ ì·¨ì•½ì ì€ PostgreSQL í™˜ê²½ì—ì„œ Django &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt;ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•  ë•Œ ë°œìƒ ê°€ëŠ¥í•œ SQL Injection ì·¨ì•½ì ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/advisories/GHSA-w24h-v9qh-8gxj&quot;&gt;https://github.com/advisories/GHSA-w24h-v9qh-8gxj&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted image 20221218043457.png&quot; alt=&quot;explain()&quot; /&gt;
&lt;a href=&quot;https://docs.djangoproject.com/en/4.1/ref/models/querysets/#explain&quot;&gt;https://docs.djangoproject.com/en/4.1/ref/models/querysets/#explain&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Django Project Docsì—ëŠ” ìœ„ ì˜ˆì‹œê°€ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ìœ„ ì˜ˆì‹œì²˜ëŸ¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt;ì€ ì‹¤í–‰í•˜ê³ ìí•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë©”ì†Œë“œì…ë‹ˆë‹¤. ì´ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ë©´ SQLì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EXPLAIN&lt;/code&gt; ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , MySQLê³¼ PostgreSQLì—ì„œëŠ” íŠ¹ë³„íˆ EXPLAINì— ì˜µì…˜ê¹Œì§€ ì§€ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë•Œ explain() ë©”ì†Œë“œì˜ êµ¬í˜„ì—ì„œ SQL Injectionì´ ê°€ëŠ¥í–ˆë˜Â CVE-2022-28347 ì·¨ì•½ì ì„ ë¶„ì„í•´ë³´ê³ ì í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-1-queryset&quot;&gt;3-1. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/4.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt; ë©”ì†Œë“œëŠ” ìœ„ì™€ ê°™ì´ ì •ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.query.explain()&lt;/code&gt;ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.query&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/sql/query.py&lt;/code&gt;ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt; í´ë˜ìŠ¤ì˜ ê°ì²´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-2-query&quot;&gt;3-2. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/5.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt;í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt; ë©”ì†Œë“œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_compiler()&lt;/code&gt; ë©”ì†Œë“œë¥¼ í†µí•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compiler&lt;/code&gt;ë¥¼ ê°€ì ¸ì˜¤ê³  ì‚¬ìš©í•˜ëŠ” DBì— ë§ì¶”ì–´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.sql.compiler.SQLCompiler&lt;/code&gt;ë¥¼ ìƒì†í•œ í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰ì‹œì¼œì¤ë‹ˆë‹¤. &lt;strong&gt;ì—¬ê¸°ì„œ kwargs í˜•ì‹ìœ¼ë¡œ ì¸ìë¥¼ ë°›ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;**options&lt;/code&gt;, ê·¸ë¦¬ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;q.explain_info&lt;/code&gt;ê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ExplainInfo&lt;/code&gt; ê°ì²´ë¡œ ì„¤ì •ë˜ì—ˆìŒì„ ê¸°ì–µí•´ì•¼í•©ë‹ˆë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;3-3-sqlcompiler&quot;&gt;3-3. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SQLCompiler&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/6.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SQLCompiler&lt;/code&gt; í´ë˜ìŠ¤ ë‚´ë¶€ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query()&lt;/code&gt; ë©”ì†Œë“œì—ì„œëŠ” ë™ì¼ í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;execute_sql()&lt;/code&gt;ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;execute_sql()&lt;/code&gt; ë©”ì†Œë“œëŠ” ì‹¤ì œë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.as_sql()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•´ì„œ ì»´íŒŒì¼ëœ SQL Queryêµ¬ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” ë©”ì†Œë“œì…ë‹ˆë‹¤. ì‹¤ì œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œëŠ” ê° DBMSë§ˆë‹¤ ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query_prefix()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-4-djangodbbackendspostgresqloperationspy&quot;&gt;3-4. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/backends/postgresql/operations.py&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/7.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Postgresqlì„ ìœ„í•´ ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query_prefix()&lt;/code&gt; ë©”ì†Œë“œì…ë‹ˆë‹¤. ì•ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì„¤ëª…í•  ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;**options&lt;/code&gt;ì— kwargs í˜•ì‹ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dict&lt;/code&gt; í˜•ì‹ì˜ ê°’ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŒì„ ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤. ì´ ê°’ì´ ê·¸ëŒ€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query_prefix()&lt;/code&gt; ë©”ì†Œë“œì— ì „ë‹¬ë˜ë©° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;prefix&lt;/code&gt; ì— ê·¸ëŒ€ë¡œ ì¿¼ë¦¬ê°€ ì €ì¥ë˜ë©´ì„œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;options&lt;/code&gt;ì— ì €ì¥ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dict&lt;/code&gt; ê°’ key ë¶€ë¶„ì—ì„œ SQL Injectionì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-5-íŒ¨ì¹˜&quot;&gt;3-5. íŒ¨ì¹˜&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/8.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ ì·¨ì•½ì ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DatabaseOperations&lt;/code&gt; í´ë˜ìŠ¤ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_options&lt;/code&gt; ë³€ìˆ˜ë¥¼ ë‘ì–´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key&lt;/code&gt; ë¶€ë¶„ì— ëŒ€í•œ ê²€ì¦ ë¡œì§ì´ ì¶”ê°€ë˜ë©° ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë¬´ë˜ë„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;options&lt;/code&gt;ì˜ keyì— ì—¬ëŸ¬ ê°’ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ë³´ë‹ˆ, Django ì‚¬ìš©ìê°€ ë³€ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ì—¬ì§€ë¥¼ ì¸ì •í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;4-cve-2022-34265&quot;&gt;4. CVE-2022-34265&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;CVE-2022-34265: Potential SQL injection via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc(kind)&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Extract(lookup_name)&lt;/code&gt; arguments.&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/django/django/commit/284b188a4194e8fa5d72a73b09a869d7dd9f0dc5&quot;&gt;https://github.com/django/django/commit/284b188a4194e8fa5d72a73b09a869d7dd9f0dc5&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì´ ì·¨ì•½ì ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/query.py&lt;/code&gt; ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œë¡œë¶€í„° ì‹œì‘ë©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œì˜ ì“°ì„ì€ ì•„ë˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docs.djangoproject.com&lt;/code&gt; ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì†Œë“œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œ ì·¨ì•½ì ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; : &lt;a href=&quot;https://docs.djangoproject.com/en/4.0/ref/models/querysets/#dates&quot;&gt;https://docs.djangoproject.com/en/4.0/ref/models/querysets/#dates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221218033513.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/12.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;4-1-trunc&quot;&gt;4-1. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DateField&lt;/code&gt;ë¡œ ì§€ì •ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;field&lt;/code&gt;ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;datetime.date&lt;/code&gt; ê°ì²´ë¡œ ë°˜í™˜í•´ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” ì²«ë²ˆì§¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;field&lt;/code&gt; ì¸ì ë‘ë²ˆì§¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ì¸ìë¥¼ ë„˜ê¹ë‹ˆë‹¤. ì´ ì¤‘ ë‘ë²ˆì§¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ì¸ìëŠ”  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;str&lt;/code&gt; í˜•ì‹ì˜ ê°’ì„ ë°›ìœ¼ë©°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/functions/datetime.py&lt;/code&gt;ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ì— ì¸ìë¡œ ë„˜ê²¨ì§‘ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/9.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt; í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ í˜•íƒœë¡œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DateField&lt;/code&gt; ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;datetime.date&lt;/code&gt; ê°ì²´ë¡œ ë³€í™˜ì‹œì¼œì£¼ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__init__()&lt;/code&gt; ë©”ì†Œë“œì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;expression&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ë¥¼ ë°›ì•„ ë‚´ë¶€ propertyë¡œ ì €ì¥í•©ë‹ˆë‹¤. Django Project Docsì— ì˜¬ë¼ì˜¨ ì˜ˆì‹œë¥¼ ë³´ì•˜ì„ ë•Œ ë‘ íŒŒë¼ë¯¸í„° ëª¨ë‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;str&lt;/code&gt; í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©ìì˜ ì…ë ¥ê°’ì´ ì¶©ë¶„íˆ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;expression&lt;/code&gt; íŒŒë¼ë¯¸í„°ëŠ” ë¶€ëª¨í´ë˜ìŠ¤ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__init__()&lt;/code&gt; ë©”ì†Œë“œì— ì „í•´ì§€ë©° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/expressions.py&lt;/code&gt; ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F&lt;/code&gt; í´ë˜ìŠ¤ë¡œ ì €ì¥ë©ë‹ˆë‹¤. &lt;strong&gt;í•˜ì§€ë§Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ëŠ” ì•„ë¬´ëŸ° ê²€ì¦ ì—†ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.kind&lt;/code&gt; ì— ì €ì¥ëœë‹¤ëŠ” ì ì„ ê¸°ì–µí•´ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;4-2-truncbase&quot;&gt;4-2. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;ì‹¤ì§ˆì ìœ¼ë¡œ Django ORMìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ë¥¼ SQL ì¿¼ë¦¬ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ì€, ë™ì¼ íŒŒì¼ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œë¡œ ì •ì˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ë‹¤ìŒì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt; í´ë˜ìŠ¤ë¥¼ ë¶„ì„í•´ë³´ëŠ” ê²ƒìœ¼ë¡œ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/10.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ëŠ” ì¸ìë¡œ ë„˜ê²¨ì§„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.output_field&lt;/code&gt; ë³€ìˆ˜ì˜ type ë³„ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;datetime_trunc_sql()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;date_trunc_sql()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;time_trunc_sql()&lt;/code&gt; ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì„¸ ë©”ì†Œë“œ ëª¨ë‘ ì´ì „ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©ìë¡œë¶€í„° ì•„ë¬´ëŸ° ê²€ì¦ì—†ì´ ë°›ì„ ìˆ˜ ìˆëŠ”  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.kind&lt;/code&gt; ë¥¼ ì¸ìë¡œ ì·¨í•œë‹¤ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ ë©”ì†Œë“œë“¤ì€ ê° ë°ì´í„°ë² ì´ìŠ¤ ë¬¸ë²•ì— ë”°ë¼ ê°ê° ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ì˜ˆì‹œë¡œ SQLite3ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;4-3-databaseoperations&quot;&gt;4-3. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DatabaseOperations&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/11.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë‘ ë²ˆì§¸ì— ì „ë‹¬ë˜ëŠ” ì¸ì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lookup_type&lt;/code&gt;ì—ëŠ” ì´ì „ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©ìë¡œë¶€í„° ë°›ì€ ì¸ì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ê°€ ì „ë‹¬ì´ ë˜ëŠ”ë°, ì‹¤ì œ SQL Queryë¥¼ ë§Œë“¤ê¸°ê¹Œì§€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ê°’ì— ëŒ€í•œ ì•„ë¬´ëŸ° ê²€ì¦ì´ ì—†ìŠµë‹ˆë‹¤. ë•Œë¬¸ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ê°’ì„ í†µí•´ SQL Injectionì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;4-4-íŒ¨ì¹˜&quot;&gt;4-4. íŒ¨ì¹˜&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/functions/datetime.py&lt;/code&gt;ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œì— ì•„ë˜ì²˜ëŸ¼ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/13.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê³  ë‚˜ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extract_trunc_lookup_pattern&lt;/code&gt;ì„ ì¸ìë¡œ ë„˜ê²¨ì§„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ê°’ê³¼ ì •ê·œì‹ ê¸°ëŠ¥ì„ í†µí•´ ë¹„êµí•©ë‹ˆë‹¤. ì •ê·œì‹ìœ¼ë¡œ ê²€ì‚¬í•˜ëŠ” ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_lazy_re_compile(r&quot;[\w\-_()]+&quot;)&lt;/code&gt; ìœ¼ë¡œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œì˜ ì¸ì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt;ì— íŠ¹ìˆ˜ë¬¸ìë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ì—¬ SQL Injection ì·¨ì•½ì ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;5-django-single-quote-unescaping-bug-in-keytransform-class&quot;&gt;5. Django Single Quote Unescaping Bug in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform&lt;/code&gt; class&lt;/h1&gt;

&lt;p&gt;ìœ„ ì„¸ ê°œì˜ ì·¨ì•½ì ì´ í¬ê²Œ ì¸ìƒê¹Šì–´ì„œ ì˜¬í•´ 6ì›” ê²½ë¶€í„° Django í”„ë ˆì„ì›Œí¬ì—ì„œ SQL Injection ì·¨ì•½ì ì„ ì°¾ì•„ë‚´ê² ë‹¤ëŠ” ëª©í‘œë¥¼ ê°–ê³  ì·¨ì•½ì  ë¶„ì„ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ê²°êµ­ Oracle ë°ì´í„°ë² ì´ìŠ¤ í™˜ê²½ì—ì„œ íŠ¹ì • ê¸°ëŠ¥ì„ ì´ìš©í•  ë•Œ íŠ¹ìˆ˜ë¬¸ìê°€ unescaped ë˜ì–´ SQL ì¿¼ë¦¬ë¥¼ íƒˆì¶œí•  ìˆ˜ ìˆëŠ” ë²„ê·¸ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-1-keytransform&quot;&gt;5-1. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.fields.json&lt;/code&gt;ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform&lt;/code&gt; í´ë˜ìŠ¤ëŠ” MySQLì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_EXTRACT()&lt;/code&gt; í•¨ìˆ˜ë¥¼ Django ORMìœ¼ë¡œ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_mysql()&lt;/code&gt; ë©”ì†Œë“œê°€ ì •ì˜ëœ ë¶€ë¶„ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/14.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;MySQLì—ì„œ ì‚¬ìš©ë˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_EXTRACT()&lt;/code&gt; í•¨ìˆ˜ì˜ ì‚¬ìš© ì˜ˆëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ ì¸ìë¡œ JSON Documentë¥¼ ë°›ê³ , ë‘ ë²ˆì§¸ ì¸ìë¡œ Pathë¥¼ ë°›ìŠµë‹ˆë‹¤. ì•„ë˜ ì˜ˆì‹œì²˜ëŸ¼ ì‚¬ìš©í•˜ì—¬ JSON Documentì˜ Pathì— í•´ë‹¹ë˜ëŠ” ê°’ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221217022516.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;5-2-keytransformas_oracle&quot;&gt;5-2. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform.as_oracle()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Djangoì—ì„œëŠ” MySQLì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_EXTRACT()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ DBMSì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì—¬ëŸ¬ í•¨ìˆ˜ë¥¼ ì¤‘ì²©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•´ë‘ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” Oracle DB í™˜ê²½ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_EXTRACT()&lt;/code&gt; í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ë‘” ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/15.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;5-3-keytransformpreprocess_lhs&quot;&gt;5-3. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform.preprocess_lhs()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;ìš°ì„  ì²«ë²ˆì§¸ë¡œ í˜¸ì¶œí•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.preprocess_lhs()&lt;/code&gt;ë¥¼ ë¶„ì„í•´ë³¼ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lhs&lt;/code&gt;ëŠ” Left-Hand Sideì˜ ì¤„ì„ë§ë¡œ, Djangoì—ì„œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì¼ì¢…ì˜ ì ‘ë¯¸ì‚¬ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì†Œë“œì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/16.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ ë©”ì†Œë“œì—ì„œëŠ” ê¸°ì¡´ JSONì—ì„œ ì‚¬ìš©ë˜ëŠ” íŠ¹ìˆ˜ë¬¸ìë¥¼ escape ì²˜ë¦¬í•˜ê¸° ìœ„í•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key_transforms&lt;/code&gt; ë¼ëŠ” ë³€ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ ë³€ìˆ˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__init__&lt;/code&gt;ì—ì„œ ë§Œë“¤ì–´ì§„ ê°’ì´ë©° í´ë˜ìŠ¤ ìƒì„± ì‹œ ì „ë‹¬í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key_name&lt;/code&gt; ê°’ì´ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-4-compile_json_path&quot;&gt;5-4. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compile_json_path()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/17.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë‹¤ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_oracle()&lt;/code&gt; ë©”ì†Œë“œë¡œ ëŒì•„ì™€ì„œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key_transforms&lt;/code&gt; ë³€ìˆ˜ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compile_json_path()&lt;/code&gt;ì˜ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/18.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compile_json_path()&lt;/code&gt; í•¨ìˆ˜ëŠ” ì¸ìë¡œ ë°›ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key_trancsforms&lt;/code&gt; ê°’ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;int()&lt;/code&gt;ë¥¼ í˜¸ì¶œí•  ë•Œ Exceptionì´ ë‚œë‹¤ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;json.dumps()&lt;/code&gt; ë¥¼ í†µí•´ ë³€ìˆ˜ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì €ì¥í•´ ë°˜í™˜í•´ì¤ë‹ˆë‹¤. ì´ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;json.dumps()&lt;/code&gt;ëŠ” ë°±ìŠ¬ë˜ì‹œì™€ ë”ë¸”ì¿¼í„°ë¥¼ escapeì²˜ë¦¬í•˜ëŠ”ë°, ì‹±ê¸€ì¿¼í„°(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;&lt;/code&gt;)ëŠ” ë°±ìŠ¬ë˜ì‹œë¥¼ í†µí•´ ì²˜ë¦¬ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— SQL Queryì— ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-5-boom&quot;&gt;5-5. BOOM!&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/19.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë˜ ë‹¤ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_oracle()&lt;/code&gt; ë©”ì†Œë“œë¡œ ëŒì•„ì™€ì„œ í™•ì¸í•´ë³´ë©´, ì‹±ê¸€ì¿¼í„°ê°€ ê·¸ëŒ€ë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;json_path&lt;/code&gt; ê°€ Format Stringìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_QUERY()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_VALUE()&lt;/code&gt; í•¨ìˆ˜ ì•ˆì— ê·¸ëŒ€ë¡œ ë“¤ì–´ê°€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221217030925.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë”°ë¼ì„œ, ì–´ë–¤ Django Applicationì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;views.py&lt;/code&gt;ì— ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤ë©´ ì‹¤ì œ Single Quotes Unescaped Bugë¥¼ íŠ¸ë¦¬ê±° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-6-í•œê³„&quot;&gt;5-6. í•œê³„&lt;/h2&gt;

&lt;p&gt;ì´ ë²„ê·¸ëŠ” ì‹¤ì œ SQL Injection ê³µê²©ê¹Œì§€ íŠ¸ë¦¬ê±° í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ORACLE DBMSì—ì„œëŠ” MySQLì—ì„œì™€ ë‹¤ë¥´ê²Œ ëª¨ë“  í•¨ìˆ˜ì˜ ê° ì¸ìë¥¼ ê²€ì¦í•˜ëŠ” ê³¼ì •ì´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ë²ˆ SQL Injection ì·¨ì•½ì ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_QUERY()&lt;/code&gt; í•¨ìˆ˜ì—ì„œ SQL Injection ì·¨ì•½ì ì´ ë‘ë²ˆì§¸ ë¬¸ìì—´ ì¸ìì—ì„œ íŠ¸ë¦¬ê±°ë˜ëŠ”ë°, ì´ë•Œ Oracle DBì˜ ìœ íš¨ì„± ê²€ì¦ì„ ìš°íšŒí•˜ì§€ ëª»í•©ë‹ˆë‹¤. Oracle DBëŠ” MySQLì²˜ëŸ¼ SQL êµ¬ë¬¸ì„ ììœ ìì¬ë¡œ ë‹¤ë£¨ê¸°ê°€ í˜ë“¤ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;6-ëìœ¼ë¡œ&quot;&gt;6. ëìœ¼ë¡œ..&lt;/h1&gt;

&lt;p&gt;ëŒ€í˜• ì˜¤í”ˆì†ŒìŠ¤ í”„ë ˆì„ì›Œí¬ë¥¼ ë¶„ì„í•´ë³´ë©´ ë°°ìš¸ ìˆ˜ ìˆëŠ” ì ì´ ë§ìŠµë‹ˆë‹¤. ì´ë²ˆì— ë¶„ì„í•´ë³¸ Djangoì˜ ê²½ìš°ì—ëŠ” í›Œë¥­í•œ ê°ì²´ì§€í–¥ ë””ìì¸ì„ ê¸°ë°˜ìœ¼ë¡œ, Pythonì˜ ê°€ì¹˜ë¥¼ ìµœëŒ€í™”í•˜ì—¬ ì‘ì„±ëœ í”„ë ˆì„ì›Œí¬ì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. Djangoê°€ ì–´ë–»ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ë©´ì„œ ë¶€ì¡±í–ˆë˜ ì €ì˜ í”„ë¡œê·¸ë˜ë°, ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì¡°í™” ë“± ì•”ë¬µì§€ ì‹¤ë ¥ì„ í‚¤ìš¸ ìˆ˜ ìˆì—ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ í”„ë ˆì„ì›Œí¬ë¼ëŠ” ê²ƒì´ í”„ë¡œê·¸ë˜ë¨¸ë§ˆë‹¤ êµ¬í˜„í•˜ê¸° ë‚˜ë¦„ì´ë¼, ì‚¬ìš©í•˜ê³  ìˆëŠ” Djangoì˜ ë²„ì „ì— 1-day ì·¨ì•½ì ì´ ì¡´ì¬í•´ë„ ì–´ë–»ê²Œ êµ¬í˜„í•˜ëŠëƒì— ë”°ë¼ ì·¨ì•½ì ì´ ë°œìƒí•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì„ ë³´í†µ genericí•˜ì§€ ì•Šë‹¤ê³  í‘œí˜„í•˜ê¸°ë„ í•˜ëŠ”ë°, í”„ë ˆì„ì›Œí¬ ë¶„ì„í•  ë•Œ ì´ ë¶€ë¶„ì´ ì¡°ê¸ˆ ì•„ì‰¬ìš´ ë¶€ë¶„ì´ê¸´ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì€ Obsidianìœ¼ë¡œ ì œí…”ì¹´ìŠ¤í… ê¸°ë²•ì„ ì¨ì„œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì œí…”ì¹´ìŠ¤í…ì„ ì•Œë ¤ì£¼ì‹œê³  ê°œì¸ì ìœ¼ë¡œ ì œê²Œ í° í˜ê³¼ ìš©ê¸°ë¥¼ ë¶ë‹ì•„ì£¼ì‹  í˜¸ì •ë‹˜ê»˜ ì´ ê¸€ì„ ë¹Œë ¤ ê°ì‚¬ì¸ì‚¬ë¥¼ ë“œë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤.&lt;/p&gt;</content><author><name>Seokchan Yoon</name></author><category term="R&amp;D" /><summary type="html">ëª©ì°¨ 0. Introduction 1. How does Django execute SQL query? 2. CVE-2022-28346 3. CVE-2022-28347 4. CVE-2022-34265 5. Django Single Quote Unescaped Bug 6. ëìœ¼ë¡œ</summary></entry><entry xml:lang="ko"><title type="html">Secure Coding Training System ê°œë°œê¸°</title><link href="http://ufo.stealien.com/2022-10-04/secure-coding-traing-system" rel="alternate" type="text/html" title="Secure Coding Training System ê°œë°œê¸°" /><published>2022-10-04T00:00:00+09:00</published><updated>2022-10-04T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-10-04/Secure-Coding-Training-System-ko%20copy</id><content type="html" xml:base="http://ufo.stealien.com/2022-10-04/secure-coding-traing-system">&lt;h1 id=&quot;ê°œìš”&quot;&gt;ê°œìš”&lt;/h1&gt;

&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”. ìŠ¤í‹¸ë¦¬ì–¸ R&amp;amp;DíŒ€ ìœ¤ì„ì°¬ì…ë‹ˆë‹¤. ì €ëŠ” ìŠ¤í‹¸ë¦¬ì–¸ì—ì„œ ëª¨ì˜í•´í‚¹, ë³´ì•ˆ ê¸°ìˆ  ì—°êµ¬ ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ì–‘í•œ ì œí’ˆì„ ê°œë°œí•˜ê³  ìˆê¸°ë„ í•©ë‹ˆë‹¤. ì œê°€ ê°œë°œì— ì°¸ì—¬í•œ ëŒ€í‘œì ì¸ ê²ƒ ì¤‘ í•˜ë‚˜ëŠ” &lt;em&gt;Cyber Drill System&lt;/em&gt;ì´ë¼ëŠ” êµìœ¡ í”Œë«í¼ì…ë‹ˆë‹¤. ìŠ¤í‹¸ë¦¬ì–¸ì—ì„œëŠ” ì´ í”Œë«í¼ì„ ì´ìš©í•´ í•™ìƒ í˜¹ì€ ì‹¤ë¬´ì ë¶„ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ êµìœ¡í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì…ì‚¬í•˜ê³  ì•½ 2ê°œì›”ì´ ë˜ë˜ ë•Œ ì¦ˆìŒ ì´ í”„ë¡œì íŠ¸ì— ì°¸ê°€í•˜ê²Œ ë˜ì—ˆëŠ”ë°, ë²Œì¨ 3ë…„ì§¸ê°€ ë˜ì—ˆë„¤ìš” ğŸ˜„  ì €ëŠ” ì´ í”„ë¡œì íŠ¸ë¥¼ ì¢€ ë” ê³ ë„í™”í•˜ê³  ìƒˆë¡œìš´ í˜•ì‹ì˜ í”Œë«í¼ì„ ìœ„í•´ì„œ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìµœê·¼ ëª‡ëª‡ ì›Œê²Œì„, í•´í‚¹ëŒ€íšŒ(CTF) ì¤‘ì—ëŠ” ì·¨ì•½í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í• ë‹¹ë°›ê³ , ì´ê²ƒì„ ê³µê²©í•˜ëŠ” í˜•íƒœì˜ í”Œë«í¼ì´ ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œëŠ” HackTheBox, ë“œë¦¼í•µ í”Œë«í¼ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì¤‘ HackTheBox í”Œë«í¼ì€ ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í• ë‹¹ë°›ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìœ¼ë©°, ë…ë¦½ì ì¸ ê°€ìƒ ì„œë²„ì—ì„œ ì‹¤ìŠµí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¢€ ë” ë‹¤ì–‘í•œ ê³µê²©ì„ ì‹œë„í•´ë³¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê°€ë ¹ ì¼ë°˜ì ì¸ CTF í”Œë«í¼ì—ì„œëŠ” í•˜ë‚˜ì˜ ê°€ìƒì„œë²„ì— ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ì ‘ê·¼í•˜ì—¬ ì·¨ì•½ì ì„ ê³µê²©í•˜ê¸° ë•Œë¬¸ì— LPE* ê¸°ë²•ì„ ì“°ì§€ ëª»í•˜ë„ë¡ ë§‰ì•„ë†“ëŠ” ê²½ìš°ê°€ ì¼ë°˜ì ì¸ ë°˜ë©´,  HackTheBoxëŠ” íƒ€ê²Ÿì˜ ì‰˜ì„ ì–»ëŠ” ê²ƒì— ê·¸ì¹˜ì§€ ì•Šê³  ê°€ìƒì„œë²„ì—ì„œ ì–»ì€ ì‰˜ì„ ì´ìš©í•´ LPEê¹Œì§€ ìœ ë„í•˜ê¸°ë„ í•©ë‹ˆë‹¤. ì €ë„ HackTheBoxì™€ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ í• ë‹¹ ë°©ì‹ì˜ êµìœ¡ í›ˆë ¨ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ì„œ íš¨ìš©ì„± ë†’ì€ í›ˆë ¨ ì‹œìŠ¤í…œì„ ë§Œë“¤ê³ ì í–ˆê³ , docker command ì¤‘ ëª‡ ê°œë¥¼ python ì½”ë“œì— ë§¤í•‘ë§Œ í•´ë‘ì–´ë„ ì¶©ë¶„íˆ êµ¬í˜„í•  ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ê·¸ë ‡ê²Œ ê´€ë ¨ ìë£Œë¥¼ ì°¾ì•„ë³´ë‹¤ Docker SDKë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;* LPE : Local Privilege Escalation&lt;/p&gt;

&lt;h1 id=&quot;docker-sdk&quot;&gt;Docker SDK&lt;/h1&gt;

&lt;p&gt;Docker SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” docker ì•ˆì˜ ëŒ€ë¶€ë¶„ì˜ ëª…ë ¹ì–´ë¥¼ íŒŒì´ì¬ ì½”ë“œë¡œ ë§¤í•‘í•´ë†“ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ê·¸ëŸ°ë° ì œê°€ ìƒê°í–ˆë˜ ì ê³¼ ë‹¤ë¥¸ ì ì´ ìˆë‹¤ë©´ ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker [command]&lt;/code&gt; í˜•ì‹ì˜ ì»¤ë§¨ë“œë¥¼ ë§¤í•‘í•´ë†“ì€ê²Œ ì•„ë‹ˆë¼, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/run/docker.sock&lt;/code&gt; ì— ë§ˆìš´íŠ¸ëœ ìœ ë‹‰ìŠ¤ ì†Œì¼“ì„ í†µí•œ HTTP API í†µì‹ ìœ¼ë¡œ ë§¤í•‘í•´ë†“ì•˜ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. (ì •í™•íˆëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker [command]&lt;/code&gt; ë°©ì‹ë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” ìœ ë‹‰ìŠ¤ ì†Œì¼“ì„ í†µí•œ HTTP API í†µì‹ ì„ í•©ë‹ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;ì‹¤ì œë¡œ ê³µì‹í™ˆí˜ì´ì§€ì— ë“¤ì–´ê°€ë³´ë©´ ë„ì»¤ ëª…ë ¹ì–´ë¥¼ íŒŒì´ì¬ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Using echo command in alpine image&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;docker&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from_env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;alpine&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;echo hello world&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;sa&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;hello world&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Managing your containers&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Container&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;45e6d2de7c54&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Container&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;db18e4f20eaa&apos;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;45e6d2de7c54&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;Config&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;Image&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&quot;bfirsh/reticulate-splines&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&quot;Reticulating spline 1...&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[ì°¸ê³ ] : &lt;a href=&quot;https://docker-py.readthedocs.io/en/stable/&quot;&gt;https://docker-py.readthedocs.io/en/stable/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ì²˜ëŸ¼ Docker SDKë¥¼ í†µí•´ docker commandë¥¼ ìë™í™”í•  ìˆ˜ ìˆê³ , ë§Œë“¤ ìˆ˜ ìˆëŠ” ê²ƒë“¤ì´ ë¬´ê¶ë¬´ì§„í•´ì§‘ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ dockerë¥¼ í†µí•œ ì´ë¯¸ì§€, ì»¨í…Œì´ë„ˆ ê´€ë¦¬ ì‘ì—…ì„ ì½”ë“œ ìƒì—ì„œ ì•ˆì •ì ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” ì´ê²ƒì„ í†µí•´ AWS EC2 ì„œë¹„ìŠ¤ ê°™ì€ VPC (Virtual Private Cloud) ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;simple-vpc-service&quot;&gt;Simple VPC Service&lt;/h1&gt;

&lt;p&gt;ê·¸ë˜ì„œ Docker SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì²˜ìŒ êµ¬í˜„í•´ë³¸ ì„œë¹„ìŠ¤ëŠ” VPC ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì œê°€ ë§Œë“  VPC ì„œë¹„ìŠ¤ì˜ ì£¼ìš” ê¸°ëŠ¥ì€ ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ SSH ì„œë²„ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ ê±°ì³ì•¼ í•˜ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ í™•ì¸í•´ì„œ ì„œë²„ ìƒì„± ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ìë¡œë¶€í„° í¬íŠ¸ ë²ˆí˜¸ë¥¼ ë°›ëŠ”ë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssh-server&lt;/code&gt; íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ëœ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³ , ì‚¬ìš©ìê°€ ì…ë ¥í•œ í¬íŠ¸ë²ˆí˜¸ë¡œ ì»¨í…Œì´ë„ˆì˜ 22ë²ˆ í¬íŠ¸ë¥¼ ì—°ê²°í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ìƒì„±í•œ ì»¨í…Œì´ë„ˆì— foregroundì—ì„œ ì¢…ë£Œë˜ì§€ ì•Šê³  ë¬´ê¸°í•œìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì„œ ì»¨í…Œì´ë„ˆë¥¼ ìœ ì§€í•œë‹¤. (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tail -f /dev/null&lt;/code&gt; , `
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sleep infinity&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;ìƒì„±í•œ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•œë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ìœ„ ê³¼ì •ì—ì„œ ì‚¬ìš©ëœ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-Dockerfile highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ubuntu:latest&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;apt-get update &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; openssh-server vim

&lt;span class=&quot;c&quot;&gt;# change root password&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;root:admin123&apos;&lt;/span&gt; | chpasswd

&lt;span class=&quot;c&quot;&gt;# change ssh configure&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;PermitRootLogin &lt;span class=&quot;nb&quot;&gt;yes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; /etc/ssh/sshd_config &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; service ssh restart

&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;service ssh restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(tl;dr) ìœ„ì™€ ê°™ì€ ì‹ìœ¼ë¡œ VPC ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ì œê°€ ë‹¤ë‹ˆëŠ” í•™êµì— í”„ë¡œì íŠ¸ ê³¼ì œë¡œ ì œì¶œí•´ì„œ ì¢‹ì€ ì„±ì ì„ ë°›ì€ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. ^^ v ì†ŒìŠ¤ì½”ë“œëŠ” í˜„ì¬ ë¹„ê³µê°œë¡œ ë˜ì–´ìˆìœ¼ë©° í˜„ì¬ëŠ” ì‚¬ë‚´ git ë‚´ë¶€ í”„ë¡œì íŠ¸ë¡œ ì˜®ê²¨ë‘ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;cce-2021&quot;&gt;CCE 2021&lt;/h1&gt;

&lt;p&gt;ì €ëŠ” êµ­ê°€ì •ë³´ì›ì—ì„œ ì£¼ìµœí•œ 2021 ì‚¬ì´ë²„ê³µê²©ë°©ì–´ëŒ€íšŒ(CCE)ì— í•œêµ­ìˆ˜ë ¥ì›ìë ¥ ì—°í•©íŒ€ìœ¼ë¡œ ê³µê³µë¶€ë¬¸ì— ì°¸ê°€í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. CCEëŠ” ìš°ë¦¬ë‚˜ë¼ì—ì„œ ê·œëª¨ê°€ í° ëŒ€íšŒì´ê³  ë³¸ì„ ì—ì„œ ê³µë°©ì „ í˜•ì‹ ë“± ë‹¤ì–‘í•œ í¬ë§·ì„ ì‹œë„í•˜ëŠ” ê²ƒìœ¼ë¡œ ìœ ëª…í•œ ëŒ€íšŒì…ë‹ˆë‹¤. ì €ëŠ” Jeopardy ë°©ì‹ì´ ì•„ë‹Œ ìƒˆë¡œìš´ í˜•ì‹ì˜ ëŒ€íšŒë¥¼ ì²˜ìŒ ì°¸ê°€í–ˆë˜ í„°ë¼ ìƒˆë¡œìš´ í˜•ì‹ì˜ ëŒ€íšŒì— í¬ê²Œ ê°ëª… ë°›ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;figure&gt;
    &lt;img src=&quot;/assets/2022-10-04-Secure-Coding-Training-System/cce.jpeg&quot; title=&quot;Github_Logo&quot; /&gt;
    &lt;figcaption&gt;
        &lt;p align=&quot;center&quot;&gt;2021 ì‚¬ì´ë²„ê³µê²©ë°©ì–´ëŒ€íšŒ ìˆ˜ìƒ ë‹¹ì‹œ ğŸ”¥&lt;/p&gt;
    &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;ë³¸ì„  ëŒ€íšŒ í˜•ì‹ì€ ë¼ìš´ë“œ ë³„ë¡œ ë‚˜ë‰˜ì—ˆë˜ ê²ƒìœ¼ë¡œ ê¸°ì–µí•©ë‹ˆë‹¤. íŒ€ ë‚´ì—ì„œ ì œê°€ ì£¼ë„ì ìœ¼ë¡œ ì°¸ì—¬í–ˆë˜ ì²«ë²ˆì§¸ ë¼ìš´ë“œëŠ” ì¶œì œì§„ ìª½ì—ì„œ ì œê³µí•œ ê°€ìƒ ì¸ìŠ¤í„´ìŠ¤ì— sshë¡œ ì ‘ì†í•´ì„œ ì·¨ì•½í•œ ì†ŒìŠ¤ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  SLA ì²´í¬ í›„ ì ìˆ˜ê°€ ë³€ë™ë˜ëŠ” í˜•ì‹ì´ì—ˆìŠµë‹ˆë‹¤. SLA ì²´í¬ëŠ” ìë™ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ê°€ìƒ ì¸ìŠ¤í„´ìŠ¤ì˜ ê°€ìš©ì„±, ì·¨ì•½ì„±ì„ ê²€ì‚¬ì…ë‹ˆë‹¤. 30ì´ˆë§ˆë‹¤ ë¬¸ì œ ì¶œì œì§„ ìª½ì—ì„œ ë§Œë“  SLA ì²´í¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ëŒë ¤ì„œ ì·¨ì•½ì ì´ ì•„ì§ ì¡´ì¬í•˜ê±°ë‚˜ ì„œë¹„ìŠ¤ì˜ ê°€ìš©ì„±ì´ í›¼ì†ëœ ê²½ìš° íŒ€ ì ìˆ˜ì—ì„œ ì°¨ê°ë˜ëŠ” í˜•ì‹ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;CCEê°€ ëë‚˜ê³  ë‚˜ì„œ ë“  ìƒê°ì€, ì œê°€ ë§Œë“  VPC ì„œë¹„ìŠ¤ë¥¼ ì¢€ ë” ë°œì „ì‹œì¼œì„œ CCE ë³¸ì„ ì—ì„œ ë´¤ë˜ ì‹œìŠ¤í…œì„ êµ¬í˜„í•  ìˆ˜ ìˆê² ë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;secure-coding-training-platform&quot;&gt;Secure Coding Training Platform&lt;/h1&gt;

&lt;p&gt;2022ë…„ ë‚´ì— êµë‚´ ë³´ì•ˆëŒ€íšŒì—ì„œ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” ëª©í‘œë¡œ ì‹œíì–´ ì½”ë”© êµìœ¡ í”Œë«í¼ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì›ë˜ëŠ” ssh ì •ë³´ë§Œ ì£¼ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vi&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ ì†ŒìŠ¤ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ìš´ì˜í•˜ê³ ì í–ˆìœ¼ë‚˜, í„°ë¯¸ë„ì— ìµìˆ™í•˜ì§€ ì•Šì€ ë¶„ë“¤ì´ ë§ë‹¤ëŠ” ì ì„ ì•Œê²Œ ë˜ì–´ WEB IDEë¥¼ ì œê³µí•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ê°œë°œí–ˆìŠµë‹ˆë‹¤. WEB IDEëŠ”  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;monaco-editor&lt;/code&gt; ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ Reactë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œê³ , ì´ë¯¸ì§€í™”í•˜ì—¬ í™œìš©ì„±ì„ ë†’ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;* WEB IDE : &lt;a href=&quot;https://github.com/ch4n3-yoon/online-monaco-editor&quot;&gt;https://github.com/ch4n3-yoon/online-monaco-editor&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WEB IDEë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;ë¬¸ì œ ì¶œì œìê°€ ì§€ì •í•œ ì´ë¯¸ì§€ ì´ë¦„ì„ ê°€ì ¸ì™€ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ìƒì„±í•œ ì»¨í…Œì´ë„ˆì—ì„œ ë¬¸ì œ ì¶œì œìê°€ ì§€ì •í•œ ë””ë ‰í„°ë¦¬ì—ì„œ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³µì‚¬í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ìì—ê²Œ ì œê³µë  WEB-IDEë¥¼ ìƒì„±í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì»¨í…Œì´ë„ˆì—ì„œ ë³µì‚¬í•œ ì†ŒìŠ¤ì½”ë“œë¥¼ WEB IDE ì•ˆì— ë³µì‚¬í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ìì—ê²Œ WEB IDE ì ‘ì† ì •ë³´ë¥¼ ì¶œë ¥í•œë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;SLA ì²´í¬ ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;ì‚¬ìš©ìê°€ í•´ë‹¹ ë¬¸ì œë¥¼ ì´ë¯¸ í’€ì—ˆëŠ”ì§€ ë“±ì„ í™•ì¸í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ìê°€ ìˆ˜ì •í•œ íŒŒì¼ë“¤ì„ ê´€ë¦¬ ì„œë²„ì— ë³µì‚¬í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;build ë° SLA ìš© ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;3ì—ì„œ ìƒì„±í•œ ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ìê°€ ìˆ˜ì •í•œ íŒŒì¼ì„ ë¶™ì—¬ë„£ëŠ”ë‹¤.&lt;/li&gt;
  &lt;li&gt;ë¬¸ì œì— ì§€ì •ëœ TestCase ëª…ë ¹ì–´ë“¤ì„ ìˆ˜í–‰í•˜ê³  ì ìˆ˜ë¥¼ ë§¤ê¸´ë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;(tl;dr) ì´ í”„ë¡œì íŠ¸ë„ ì†ŒìŠ¤ì½”ë“œëŠ” í˜„ì¬ ë¹„ê³µê°œë¡œ ë˜ì–´ìˆìœ¼ë©° í˜„ì¬ëŠ” ì‚¬ë‚´ git ë‚´ë¶€ í”„ë¡œì íŠ¸ë¡œ ì˜®ê²¨ë‘ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;ê²½í¬ëŒ€í•™êµ-sw-ë³´ì•ˆëŒ€íšŒ&quot;&gt;ê²½í¬ëŒ€í•™êµ SW ë³´ì•ˆëŒ€íšŒ&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-10-04-Secure-Coding-Training-System/poster.png&quot; width=&quot;400px&quot; title=&quot;KHUCTF Poster&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì‹¤ì œë¡œ í•´ë‹¹ í”Œë«í¼ìœ¼ë¡œ ê²½í¬ëŒ€í•™êµì—ì„œ SW ë³´ì•ˆëŒ€íšŒë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. RAON, ENKI ë“± êµ­ë‚´ ìœ ëª…í•œ ë³´ì•ˆ ì—…ì²´ ì†Œì†ì¸ ì œ ì¹œêµ¬ë“¤ê³¼ ì¬ì§ì ë¶„ë“¤ê»˜ ë¶€íƒì„ í•´ì„œ ì–‘ì§ˆì˜ ë¬¸ì œë¥¼ ì¶œì œí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ë¬¸ì œ í’€ì´ìê°€ ê·¸ë ‡ê²Œ ë§ì§€ ì•Šì•„ ì‚¬ìš©ì í”¼ë“œë°±ì´ ì ë‹¤ëŠ” ì ì´ ì•„ì‰½ê¸´í•˜ë‚˜, ì´ ëŒ€íšŒë¥¼ ê³„ê¸°ë¡œ íšŒì‚¬ ë‚´ì—ì„œ ë§Œë“¤ê³  ìˆëŠ” ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì— í° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;ë§ˆë¬´ë¦¬&quot;&gt;ë§ˆë¬´ë¦¬&lt;/h1&gt;

&lt;p&gt;Docker SDKë¥¼ í†µí•´ ì‹¤ì œ ì†Œí”„íŠ¸ì›¨ì–´ ë³´ì•ˆëŒ€íšŒì— ì‚¬ìš©ë˜ëŠ” í”Œë«í¼ì„ ê°œë°œí•˜ê¸°ê¹Œì§€ì˜ ê³¼ì •ì„ í•œ ì˜ˆì‹œë¡œ ì„¤ëª…ë“œë ¸ìŠµë‹ˆë‹¤. í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ìƒí’ˆê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì§€ê¸ˆë„ ë‹¤ì–‘í•˜ê²Œ ì œê³µë˜ê³  ìˆì–´ì„œ ì‰½ê²Œ ê¸°ëŠ¥ì„ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ê±°ì¸ì˜ ì–´ê¹¨ ìœ„ì— ì„œì„œ ë” ë†’ì€ ê°€ì¹˜ë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>ìœ¤ì„ì°¬</name></author><category term="R&amp;D" /><summary type="html">ê°œìš”</summary></entry><entry xml:lang="ko"><title type="html">LLVMì„ ì‚¬ìš©í•œ Control Flow Flattening íŒ¨ìŠ¤ ê°œë°œ</title><link href="http://ufo.stealien.com/2022-07-13/llvm-flow-flatten" rel="alternate" type="text/html" title="LLVMì„ ì‚¬ìš©í•œ Control Flow Flattening íŒ¨ìŠ¤ ê°œë°œ" /><published>2022-07-13T00:00:00+09:00</published><updated>2022-07-13T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-07-13/LLVM-flow-flatten-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-07-13/llvm-flow-flatten">&lt;h1 id=&quot;llvmì„-ì‚¬ìš©í•œ-control-flow-flattening-íŒ¨ìŠ¤-ê°œë°œ&quot;&gt;LLVMì„ ì‚¬ìš©í•œ Control Flow Flattening íŒ¨ìŠ¤ ê°œë°œ&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/llvm/llvm-project&quot;&gt;LLVM&lt;/a&gt;ì„ ì´ìš©í•˜ì—¬ ë‚œë…í™”ë¥¼ í•  ìˆ˜ ìˆìœ¼ë©´ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ í”Œë«í¼ì—ì„œ LLVMì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œë˜ëŠ” ì½”ë“œë“¤ì— ëŒ€í•œ ê³µí†µ ë‚œë…í™” íˆ´ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë¥¼ ìœ„í•´ ì—¬ëŸ¬ê°€ì§€ ë‚œë…í™” ë° ì•”í˜¸í™” íŒ¨ìŠ¤ë¥¼ ê°œë°œí•˜ì˜€ê³  ì´ ê¸€ì—ì„œëŠ” ê·¸ ì¤‘ í•œ ê°€ì§€ì¸ íë¦„ í‰ë©´í™” íŒ¨ìŠ¤ì˜ ê°œë°œ ê³¼ì •ì— ëŒ€í•´ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;llvmì´ë€&quot;&gt;LLVMì´ë€&lt;/h2&gt;

&lt;p&gt;LLVMì˜ ì •ì‹ ëª…ì¹­ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Low Level Virtual Machine&lt;/code&gt;ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ì´ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ì€ ê¸°ì¡´ì˜ virtual machine ê°œë…ë³´ë‹¤ëŠ” ëª¨ë“ˆí™” ë˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´íŒŒì¼ëŸ¬ ê¸°ìˆ ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ê²ƒì€ target independentí•œ &lt;a href=&quot;https://llvm.org/docs/CommandGuide/opt.html&quot;&gt;optimizer&lt;/a&gt;, target specific í•œ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” code generator ê°™ì€ ì»´íŒŒì¼ëŸ¬ ë„êµ¬ë“¤ê³¼ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œ ì‚¬ì´ì— LLVM intermediate representationìœ¼ë¡œ ì•Œë ¤ì§„ LLVM IRì´ë¼ëŠ” ì¤‘ê°„ ë‹¨ê³„ì˜ ì–¸ì–´ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì—ì„œëŠ” LLVMì—ì„œ ëª¨ë“ˆí™”ëœ ì»´íŒŒì¼ëŸ¬ë¥¼ ì œì‘í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì¸ íŒ¨ìŠ¤ë¥¼ í†µí•´ íë¦„ ë‚œë…í™”ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;control-flow-flatteningë€&quot;&gt;Control Flow Flatteningë€&lt;/h2&gt;

&lt;p&gt;íë¦„ í‰ë©´í™”, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;control flow flattening&lt;/code&gt;ì€ ì½”ë“œì˜ íë¦„ì„ í‰ë©´í™” ì‹œí‚¤ëŠ” ë‚œë…í™” ê¸°ìˆ ì…ë‹ˆë‹¤. Loop, conditional branch ê°™ì€ ì½”ë“œì˜ íë¦„ì„ ì „ë¶€ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ switch ë¬¸ì— ì§‘ì–´ë„£ì–´ì„œ ëª¨ë“  ë‹¤ë¥¸ ë¸”ë¡ìœ¼ë¡œì˜ ì´ë™ì´ ë‹¨ í•˜ë‚˜ì˜ ë¸”ë¡ìœ¼ë¡œë¶€í„° ì´ë£¨ì–´ì§€ë„ë¡ ë§Œë“¤ì–´ ì½”ë“œë¥¼ ë¶„ì„í•˜ê¸° ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤. íë¦„ ê·¸ë˜í”„ê°€ ë§ˆì§€ë§‰ ì‚¬ì§„ê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;í™˜ê²½-êµ¬ì„±&quot;&gt;í™˜ê²½ êµ¬ì„±&lt;/h2&gt;

&lt;p&gt;ì´ ê¸€ì—ì„œëŠ” llvm 13 ë²„ì „ì„ ë°”íƒ•ìœ¼ë¡œ LLVMì„ ë¹Œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ &lt;a href=&quot;https://llvm.org/docs/CMake.html#usage&quot;&gt;cmake&lt;/a&gt; ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ninja&lt;/code&gt;ë¥¼ í†µí•´ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;LLVM ê°œë°œì€ ìƒ˜í”Œ íŒ¨ìŠ¤ì¸ llvm/lib/Transforms/Helloë¥¼ ë®ì–´ì”Œì›Œ íë¦„ í‰ë©´í™”ë¥¼ ìœ„í•œ ì»¤ìŠ¤í…€ íŒ¨ìŠ¤ë¥¼ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cmake &lt;span class=&quot;nt&quot;&gt;-G&lt;/span&gt; Ninja &lt;span class=&quot;nt&quot;&gt;-DLLVM_PARALLEL_LINK_JOBS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1 &lt;span class=&quot;nt&quot;&gt;-DCMAKE_BUILD_TYPE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Debug &lt;span class=&quot;nt&quot;&gt;-DLLVM_ENABLE_PROJECTS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;clang ../llvm-project/llvm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;íë¦„-í‰ë©´í™”-ì ìš©-ì‹œ-ë°œìƒí•˜ëŠ”-ì˜¤ë¥˜&quot;&gt;íë¦„ í‰ë©´í™” ì ìš© ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜&lt;/h2&gt;

&lt;p&gt;LLVMì—ì„œ &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1Function.html&quot;&gt;Function&lt;/a&gt; í´ë˜ìŠ¤ ì•„ë˜ì— ì¡´ì¬í•˜ëŠ” &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1BasicBlock.html&quot;&gt;Basic Block&lt;/a&gt;ë“¤ì„ íë¦„ í‰ë©´í™”ì˜ ê°œë…ì— ë”°ë¼ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1SwitchInst.html&quot;&gt;Switch Instruction&lt;/a&gt; ì•„ë˜ì— ì§‘ì–´ë„£ìŒìœ¼ë¡œì¨ êµ¬í˜„í•´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì²˜ëŸ¼ ìˆ˜ì •ì„ ì‹œë„í•  ê²½ìš° &lt;a href=&quot;https://github.com/llvm/llvm-project/blob/main/llvm/lib/IR/Verifier.cpp&quot;&gt;LLVM Verifier&lt;/a&gt;ì—ì„œ ìˆ˜ì •ëœ ë‚´ìš©ì´ ìœ íš¨í•œì§€ ê²€ì¦í•©ë‹ˆë‹¤. íë¦„ ê·¸ë˜í”„ì™€ ê´€ë ¨ëœ ê²€ì¦ì—ëŠ” predsë¼ëŠ” ì–´ë–¤ ë¸”ë¡ì—ì„œ ì´ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ê°€ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ”ë°, ì´ì™€ ê´€ë ¨ëœ ì•„ë˜ 3ê°€ì§€ ê²€ì¦ì—ì„œ ì˜¤ë¥˜ê°€ ìì£¼ ë°œìƒí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1PHINode.html&quot;&gt;phi node&lt;/a&gt;ì˜ ê²½ìš° ëª¨ë“  ì¼€ì´ìŠ¤ì™€ predsê°€ ì¼ì¹˜í•´ì•¼ í•œë‹¤.&lt;/p&gt;

    &lt;div class=&quot;language-cmake highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; PHINode should have one entry for each predecessor of its parent basic block!
 %62 = phi i32 [ %30, %23 ], [ %35, %32 ], [ %40, %37 ], [ %60, %54 ], !dbg !1211
 LLVM ERROR: Broken module found, compilation aborted!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ë¸”ë¡ Aì—ì„œ í˜¸ì¶œí•˜ëŠ” ë³€ìˆ˜ëŠ” entry blockì—ì„œ ë¸”ë¡ Aì— ë„ë‹¬í•˜ê¸° ì „ì— ì •ì˜ë˜ì–´ì•¼ í•œë‹¤.&lt;/p&gt;

    &lt;div class=&quot;language-cmake highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; Instruction does not dominate all uses!
 %alloc = alloca i64, align 8
 %load = load i64, i64* %alloc, align 8
 LLVM ERROR: Broken module found, compilation aborted!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1LandingPadInst.html&quot;&gt;Landingpad&lt;/a&gt;ë¥¼ ê°€ì§„ ë¸”ë¡ì€ ë°˜ë“œì‹œ &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1InvokeInst.html&quot;&gt;invoke&lt;/a&gt;ì— ì˜í•´ì„œ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤.&lt;/p&gt;

    &lt;div class=&quot;language-cmake highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; Block containing LandingPadInst must be jumped to only by the unwind edge of an invoke.
 LLVM ERROR: Broken module found, compilation aborted!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ì´ ë¬¸ì œë“¤ ì¤‘ 1ë²ˆê³¼ 2ë²ˆì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;opt&lt;/code&gt;ì— ê¸°ë³¸ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ ìˆëŠ” &lt;a href=&quot;https://llvm.org/docs/Passes.html#reg2mem-demote-all-values-to-stack-slots&quot;&gt;â€“reg2mem&lt;/a&gt; ì˜µì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ëŒ€ë¶€ë¶„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ phi ë…¸ë“œë“¤ì„ ì œê±°í•˜ê³  ëª¨ë“  allocationì„ entry blockì—ì„œ í•˜ë„ë¡ ìˆ˜ì •í•´ì¤ë‹ˆë‹¤. ì´ë¥¼ ì ìš©í•¨ìœ¼ë¡œì¨ íë¦„ í‰ë©´í™”ë¥¼ ì§„í–‰í•˜ê¸° ì‰¬ì›Œì§‘ë‹ˆë‹¤. ë‹¤ë§Œ ì´ ì˜µì…˜ì„ ì ìš©í•˜ì—¬ë„ ë‚¨ì•„ìˆëŠ” phi nodeê°€ ìˆëŠ” ê²½ìš°ê°€ ìˆì–´ ì´ì— ëŒ€í•œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;3ë²ˆì˜ ê²½ìš° switch-case ë¸”ë¡ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;í‰ë©´í™”-ì½”ë“œ-êµ¬í˜„&quot;&gt;í‰ë©´í™” ì½”ë“œ êµ¬í˜„&lt;/h2&gt;

&lt;p&gt;ìš°ì„  switch-case ë¬¸ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ë¸”ë¡ë“¤ì„ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤. Function í´ë˜ìŠ¤ì— iteratorë¥¼ ëŒë©´ì„œ ìœ„ì˜ 3ë²ˆ, LandingPadë¥¼ ê°€ì¡ŒëŠ”ì§€ í™•ì¸í•˜ê³  ì•„ë‹Œ ê²ƒë“¤ì„ ë²¡í„° í˜•íƒœë¡œ ìˆ˜ì§‘í•©ë‹ˆë‹¤. Allocationì´ ì´ë£¨ì–´ì§€ëŠ” ë¸”ë¡ì€ ë”°ë¡œ ë¶„ë¦¬í•´ ë‘ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— entry blockì„ ì œê±°í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vector&amp;lt;BasicBlock *&amp;gt; origBB;
for (Function::iterator i = F.begin(); i != F.end(); ++i)
{
    BasicBlock *block = &amp;amp;*i;
    if (!block-&amp;gt;isLandingPad())
    {
        origBB.push_back(block);
    }
}
origBB.erase(origBB.begin());
return origBB;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê·¸ ë‹¤ìŒ IRBuilderë¥¼ ì‚¬ìš©í•˜ì—¬ Switch Instructionì„ ê°€ì§€ê²Œ ë  Basic Blockì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. Switch ë¸”ë¡ì—ëŠ” defaultë¡œ ì–´ë–¤ ë¸”ë¡ìœ¼ë¡œ ì í”„í•  ê²ƒì¸ì§€ë¥¼ ì§€ì •í•´ ì£¼ì–´ì•¼ í•˜ëŠ”ë° ì´ê²ƒ ì—­ì‹œ ìƒˆë¡œìš´ ë¹ˆ ë¸”ë¡, swDefaultë¥¼ ìƒì„±í•˜ì—¬ ì§€ì •í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;BasicBlock *swDefault = BasicBlock::Create(Context, &quot;StealienCFGSwitchDefault&quot;, &amp;amp;F, *origBB.begin());
IRBuilder&amp;lt;&amp;gt; IRBswDefault(swDefault);
IRBswDefault.CreateBr(*origBB.begin());

BasicBlock *startSwitch = BasicBlock::Create(Context, &quot;StealienCFGswitch&quot;, &amp;amp;F, swDefault);
IRBuilder&amp;lt;&amp;gt; IRBswitch(startSwitch);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê·¸ ë‹¤ìŒ Switchì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ë¥¼ Entry Blockì—ì„œ allocationì„ í•´ ì¤€ ë’¤, Switch ë¸”ë¡ì—ì„œ ì´ ê°’ì„ Value addë¡œ ê°€ì ¸ì˜¤ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AllocaInst *switchVar = new AllocaInst(llvm::Type::getInt64Ty(Context), AddrSpace, nullptr, AllocaAlign, &quot;&quot;, entryBlock-&amp;gt;getTerminator());
LoadInst *load = IRBswitch.CreateAlignedLoad(llvm::Type::getInt64Ty(Context), switchVar, MaybeAlign(8));
Value *add = IRBswitch.CreateAdd(load, ConstantInt::get(llvm::Type::getInt64Ty(Context), 762167));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê·¸ í›„ IRBSwitchì— Switch Instructionì„ ìƒì„±í•©ë‹ˆë‹¤. randomArrì€ íŠ¹ì • ë²”ìœ„ì˜ ìˆ˜ë¥¼ ëœë¤í•œ ìˆœì„œë¡œ ì„ì€ ë¦¬ìŠ¤íŠ¸ì´ë©°, ì´ ê°’ë“¤ì„ ì‚¬ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ caseë“¤ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;switchI = IRBswitch.CreateSwitch(add, swDefault, randomArr[origBB.size()]);
for (BasicBlock *setSwitchBlocks : origBB)
{
    BasicBlock *selectedBlock = setSwitchBlocks;
    if(!this-&amp;gt;hasPHI(selectedBlock)) {
        ConstantInt *constCase = llvm::ConstantInt::get(llvm::Type::getInt64Ty(Context), randomArr[index]);
        switchI-&amp;gt;addCase(constCase, selectedBlock);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë§ˆì§€ë§‰ìœ¼ë¡œ origBBì— ìˆëŠ” BasicBlock ë“¤ì˜ Terminatorë¥¼ BranchInstì¸ì§€ ê·¸ë¦¬ê³  Successor ê°œìˆ˜ì— ë”°ë¼ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. BranchInstëŠ” 1ê°œ í˜¹ì€ 2ê°œì˜ Successorë¥¼ ê°€ì§€ë©°, ì´ê²ƒë“¤ì´ ìˆ˜ì • ëŒ€ìƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Branch Instructionì´ ì•„ë‹Œ ê²½ìš° : return í˜¹ì€ unreachable ê°™ì€ ì¢…ë¥˜ë˜ëŠ” ê²½ìš° í˜¹ì€ invokeì™€ ê°™ì´ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•œ Terminating Instructionì¸ ê²½ìš°&lt;/li&gt;
  &lt;li&gt;Branch Instructionì˜ Successorê°€ 1ì¸ ê²½ìš° : branch BlockA ê°™ì´ ë‹¤ë¥¸ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš°&lt;/li&gt;
  &lt;li&gt;Branch Instructionì˜ Successorê°€ 2ì¸ ê²½ìš° : branch condition BlockA BlockB ì²˜ëŸ¼ condition ê°’ì— ë”°ë¼ ì´ë™í•˜ëŠ” ë¸”ë¡ì´ ì´ë™ë˜ëŠ” ê²½ìš°&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ë”°ë¼ì„œ &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1BranchInst.html&quot;&gt;Branch Instruction&lt;/a&gt;ì—ì„œ ì´ë™í•  ë¸”ë¡ì— ì§€ì •ëœ ê°’ì„ Switch Instructionì—ì„œ ì°¾ì•„ì„œ ìœ„ì—ì„œ ìƒì„±í•´ë‘” switchVarì— ì €ì¥í•´ì£¼ê³  Switch Blockìœ¼ë¡œ ëŒì•„ê°€ë©´ ìë™ìœ¼ë¡œ ì´ê±¸ ë¡œë“œí•´ì„œ ì›í•˜ëŠ” ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. Successorì˜ ê°œìˆ˜ê°€ 1ì¸ ê²½ìš°ì— ëŒ€í•œ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. 2ì¸ ê²½ìš°ì—ë„ ë‘˜ ë‹¤ì— ëŒ€í•´ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•´ì£¼ë©´ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ ì½”ë“œì—ì„œëŠ” Switch Instructionì—ì„œ ê°€ì ¸ì˜¨ intCase ê°’ì´ ì§ì ‘ ë“œëŸ¬ë‚˜ëŠ” ê²ƒì„ ìˆ¨ê¸°ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ë§ì…ˆê³¼ ê³±ì…ˆì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;if(!isa&amp;lt;BranchInst&amp;gt;(selectedBlock-&amp;gt;getTerminator())){
    continue;
}
uint64_t successors = selectedBlock-&amp;gt;getTerminator()-&amp;gt;getNumSuccessors();
if (successors == 1)
{
    BasicBlock *follow = selectedBlock-&amp;gt;getTerminator()-&amp;gt;getSuccessor(0);
    ConstantInt *intCase = switchI-&amp;gt;findCaseDest(follow);
    if (intCase == NULL)
    {
        continue;
    }
    selectedBlock-&amp;gt;getTerminator()-&amp;gt;eraseFromParent();
    IRBuilder&amp;lt;NoFolder&amp;gt; tempBuilder(selectedBlock);
    uint64_t origCase = intCase-&amp;gt;getSExtValue() - addVal;
    uint64_t randVal = 17+rand()%10000;
    Value * mul = tempBuilder.CreateMul(ConstantInt::get(llvm::Type::getInt64Ty(Context), origCase/randVal), ConstantInt::get(llvm::Type::getInt64Ty(Context), randVal));
    Value * add = tempBuilder.CreateAdd(mul, ConstantInt::get(llvm::Type::getInt64Ty(Context), origCase%randVal));
    tempBuilder.CreateAlignedStore(add, switchVar, MaybeAlign(8));
    tempBuilder.CreateBr(startSwitch);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ì „í›„ë¹„êµ&quot;&gt;ì „í›„ë¹„êµ&lt;/h2&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control Flow Flattening&lt;/code&gt; ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Optì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-dot-cfg&lt;/code&gt; ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ íë¦„ í‰ë©´í™” ì „ìš© ì „ê³¼ í›„ë¥¼ ë¹„êµí•˜ë©´ StealienCFGswitch ë¼ëŠ” Switch ë¸”ë¡ì´ ì¶”ê°€ëœ ê²ƒê³¼ ëª¨ë“  ë¸”ë¡ì´ ë‹¤ì‹œ ì´ ë¸”ë¡ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ë‚œë…í™” ê¸°ëŠ¥ì´ ì ìš©ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ¬í•œ ë‚œë…í™” ê¸°ëŠ¥ì€ ë‹¤ë¥¸ ë‚œë…í™” ê¸°ëŠ¥ë“¤ê³¼ í•¨ê»˜ ì ìš©í•˜ë©´ í›¨ì”¬ ë” ë¶„ì„í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;img src=&quot;/assets/2022-07-14-LLVM-flow-flatten/original-flow-graph.png&quot; alt=&quot;Original Flow Graph&quot; style=&quot;max-width:800px; height:auto;&quot; /&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ê¸°ì¡´ íë¦„ ê·¸ë˜í”„&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;img src=&quot;/assets/2022-07-14-LLVM-flow-flatten/flattened-flow-graph.png&quot; alt=&quot;Flattened Flow Graph&quot; style=&quot;max-width:800px; height:auto;&quot; /&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;í‰ë©´í™” ëª¨ë“ˆ ì ìš© í›„ íë¦„ ê·¸ë˜í”„&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</content><author><name>ì¡°ì¥í˜„</name></author><category term="Dev" /><summary type="html">LLVMì„ ì‚¬ìš©í•œ Control Flow Flattening íŒ¨ìŠ¤ ê°œë°œ LLVMì„ ì´ìš©í•˜ì—¬ ë‚œë…í™”ë¥¼ í•  ìˆ˜ ìˆìœ¼ë©´ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ í”Œë«í¼ì—ì„œ LLVMì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œë˜ëŠ” ì½”ë“œë“¤ì— ëŒ€í•œ ê³µí†µ ë‚œë…í™” íˆ´ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì—¬ëŸ¬ê°€ì§€ ë‚œë…í™” ë° ì•”í˜¸í™” íŒ¨ìŠ¤ë¥¼ ê°œë°œí•˜ì˜€ê³  ì´ ê¸€ì—ì„œëŠ” ê·¸ ì¤‘ í•œ ê°€ì§€ì¸ íë¦„ í‰ë©´í™” íŒ¨ìŠ¤ì˜ ê°œë°œ ê³¼ì •ì— ëŒ€í•´ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤. LLVMì´ë€ LLVMì˜ ì •ì‹ ëª…ì¹­ì€ Low Level Virtual Machineì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ì€ ê¸°ì¡´ì˜ virtual machine ê°œë…ë³´ë‹¤ëŠ” ëª¨ë“ˆí™” ë˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´íŒŒì¼ëŸ¬ ê¸°ìˆ ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ê²ƒì€ target independentí•œ optimizer, target specific í•œ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” code generator ê°™ì€ ì»´íŒŒì¼ëŸ¬ ë„êµ¬ë“¤ê³¼ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œ ì‚¬ì´ì— LLVM intermediate representationìœ¼ë¡œ ì•Œë ¤ì§„ LLVM IRì´ë¼ëŠ” ì¤‘ê°„ ë‹¨ê³„ì˜ ì–¸ì–´ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” LLVMì—ì„œ ëª¨ë“ˆí™”ëœ ì»´íŒŒì¼ëŸ¬ë¥¼ ì œì‘í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì¸ íŒ¨ìŠ¤ë¥¼ í†µí•´ íë¦„ ë‚œë…í™”ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤. Control Flow Flatteningë€ íë¦„ í‰ë©´í™”, control flow flatteningì€ ì½”ë“œì˜ íë¦„ì„ í‰ë©´í™” ì‹œí‚¤ëŠ” ë‚œë…í™” ê¸°ìˆ ì…ë‹ˆë‹¤. Loop, conditional branch ê°™ì€ ì½”ë“œì˜ íë¦„ì„ ì „ë¶€ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ switch ë¬¸ì— ì§‘ì–´ë„£ì–´ì„œ ëª¨ë“  ë‹¤ë¥¸ ë¸”ë¡ìœ¼ë¡œì˜ ì´ë™ì´ ë‹¨ í•˜ë‚˜ì˜ ë¸”ë¡ìœ¼ë¡œë¶€í„° ì´ë£¨ì–´ì§€ë„ë¡ ë§Œë“¤ì–´ ì½”ë“œë¥¼ ë¶„ì„í•˜ê¸° ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤. íë¦„ ê·¸ë˜í”„ê°€ ë§ˆì§€ë§‰ ì‚¬ì§„ê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ë³€ê²½ë©ë‹ˆë‹¤. í™˜ê²½ êµ¬ì„± ì´ ê¸€ì—ì„œëŠ” llvm 13 ë²„ì „ì„ ë°”íƒ•ìœ¼ë¡œ LLVMì„ ë¹Œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤. ì•„ë˜ cmake ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„ ninjaë¥¼ í†µí•´ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. LLVM ê°œë°œì€ ìƒ˜í”Œ íŒ¨ìŠ¤ì¸ llvm/lib/Transforms/Helloë¥¼ ë®ì–´ì”Œì›Œ íë¦„ í‰ë©´í™”ë¥¼ ìœ„í•œ ì»¤ìŠ¤í…€ íŒ¨ìŠ¤ë¥¼ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤. cmake -G Ninja -DLLVM_PARALLEL_LINK_JOBS=1 -DCMAKE_BUILD_TYPE=Debug -DLLVM_ENABLE_PROJECTS=clang ../llvm-project/llvm íë¦„ í‰ë©´í™” ì ìš© ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ LLVMì—ì„œ Function í´ë˜ìŠ¤ ì•„ë˜ì— ì¡´ì¬í•˜ëŠ” Basic Blockë“¤ì„ íë¦„ í‰ë©´í™”ì˜ ê°œë…ì— ë”°ë¼ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ Switch Instruction ì•„ë˜ì— ì§‘ì–´ë„£ìŒìœ¼ë¡œì¨ êµ¬í˜„í•´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ ìˆ˜ì •ì„ ì‹œë„í•  ê²½ìš° LLVM Verifierì—ì„œ ìˆ˜ì •ëœ ë‚´ìš©ì´ ìœ íš¨í•œì§€ ê²€ì¦í•©ë‹ˆë‹¤. íë¦„ ê·¸ë˜í”„ì™€ ê´€ë ¨ëœ ê²€ì¦ì—ëŠ” predsë¼ëŠ” ì–´ë–¤ ë¸”ë¡ì—ì„œ ì´ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ê°€ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ”ë°, ì´ì™€ ê´€ë ¨ëœ ì•„ë˜ 3ê°€ì§€ ê²€ì¦ì—ì„œ ì˜¤ë¥˜ê°€ ìì£¼ ë°œìƒí•©ë‹ˆë‹¤. phi nodeì˜ ê²½ìš° ëª¨ë“  ì¼€ì´ìŠ¤ì™€ predsê°€ ì¼ì¹˜í•´ì•¼ í•œë‹¤. PHINode should have one entry for each predecessor of its parent basic block! %62 = phi i32 [ %30, %23 ], [ %35, %32 ], [ %40, %37 ], [ %60, %54 ], !dbg !1211 LLVM ERROR: Broken module found, compilation aborted! ë¸”ë¡ Aì—ì„œ í˜¸ì¶œí•˜ëŠ” ë³€ìˆ˜ëŠ” entry blockì—ì„œ ë¸”ë¡ Aì— ë„ë‹¬í•˜ê¸° ì „ì— ì •ì˜ë˜ì–´ì•¼ í•œë‹¤. Instruction does not dominate all uses! %alloc = alloca i64, align 8 %load = load i64, i64* %alloc, align 8 LLVM ERROR: Broken module found, compilation aborted! Landingpadë¥¼ ê°€ì§„ ë¸”ë¡ì€ ë°˜ë“œì‹œ invokeì— ì˜í•´ì„œ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤. Block containing LandingPadInst must be jumped to only by the unwind edge of an invoke. LLVM ERROR: Broken module found, compilation aborted! ì´ ë¬¸ì œë“¤ ì¤‘ 1ë²ˆê³¼ 2ë²ˆì€ optì— ê¸°ë³¸ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ ìˆëŠ” â€“reg2mem ì˜µì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ëŒ€ë¶€ë¶„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ phi ë…¸ë“œë“¤ì„ ì œê±°í•˜ê³  ëª¨ë“  allocationì„ entry blockì—ì„œ í•˜ë„ë¡ ìˆ˜ì •í•´ì¤ë‹ˆë‹¤. ì´ë¥¼ ì ìš©í•¨ìœ¼ë¡œì¨ íë¦„ í‰ë©´í™”ë¥¼ ì§„í–‰í•˜ê¸° ì‰¬ì›Œì§‘ë‹ˆë‹¤. ë‹¤ë§Œ ì´ ì˜µì…˜ì„ ì ìš©í•˜ì—¬ë„ ë‚¨ì•„ìˆëŠ” phi nodeê°€ ìˆëŠ” ê²½ìš°ê°€ ìˆì–´ ì´ì— ëŒ€í•œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤. 3ë²ˆì˜ ê²½ìš° switch-case ë¸”ë¡ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤. í‰ë©´í™” ì½”ë“œ êµ¬í˜„ ìš°ì„  switch-case ë¬¸ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ë¸”ë¡ë“¤ì„ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤. Function í´ë˜ìŠ¤ì— iteratorë¥¼ ëŒë©´ì„œ ìœ„ì˜ 3ë²ˆ, LandingPadë¥¼ ê°€ì¡ŒëŠ”ì§€ í™•ì¸í•˜ê³  ì•„ë‹Œ ê²ƒë“¤ì„ ë²¡í„° í˜•íƒœë¡œ ìˆ˜ì§‘í•©ë‹ˆë‹¤. Allocationì´ ì´ë£¨ì–´ì§€ëŠ” ë¸”ë¡ì€ ë”°ë¡œ ë¶„ë¦¬í•´ ë‘ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— entry blockì„ ì œê±°í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. vector&amp;lt;BasicBlock *&amp;gt; origBB; for (Function::iterator i = F.begin(); i != F.end(); ++i) { BasicBlock *block = &amp;amp;*i; if (!block-&amp;gt;isLandingPad()) { origBB.push_back(block); } } origBB.erase(origBB.begin()); return origBB; ê·¸ ë‹¤ìŒ IRBuilderë¥¼ ì‚¬ìš©í•˜ì—¬ Switch Instructionì„ ê°€ì§€ê²Œ ë  Basic Blockì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. Switch ë¸”ë¡ì—ëŠ” defaultë¡œ ì–´ë–¤ ë¸”ë¡ìœ¼ë¡œ ì í”„í•  ê²ƒì¸ì§€ë¥¼ ì§€ì •í•´ ì£¼ì–´ì•¼ í•˜ëŠ”ë° ì´ê²ƒ ì—­ì‹œ ìƒˆë¡œìš´ ë¹ˆ ë¸”ë¡, swDefaultë¥¼ ìƒì„±í•˜ì—¬ ì§€ì •í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤. BasicBlock *swDefault = BasicBlock::Create(Context, &quot;StealienCFGSwitchDefault&quot;, &amp;amp;F, *origBB.begin()); IRBuilder&amp;lt;&amp;gt; IRBswDefault(swDefault); IRBswDefault.CreateBr(*origBB.begin()); BasicBlock *startSwitch = BasicBlock::Create(Context, &quot;StealienCFGswitch&quot;, &amp;amp;F, swDefault); IRBuilder&amp;lt;&amp;gt; IRBswitch(startSwitch); ê·¸ ë‹¤ìŒ Switchì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ë¥¼ Entry Blockì—ì„œ allocationì„ í•´ ì¤€ ë’¤, Switch ë¸”ë¡ì—ì„œ ì´ ê°’ì„ Value addë¡œ ê°€ì ¸ì˜¤ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. AllocaInst *switchVar = new AllocaInst(llvm::Type::getInt64Ty(Context), AddrSpace, nullptr, AllocaAlign, &quot;&quot;, entryBlock-&amp;gt;getTerminator()); LoadInst *load = IRBswitch.CreateAlignedLoad(llvm::Type::getInt64Ty(Context), switchVar, MaybeAlign(8)); Value *add = IRBswitch.CreateAdd(load, ConstantInt::get(llvm::Type::getInt64Ty(Context), 762167)); ê·¸ í›„ IRBSwitchì— Switch Instructionì„ ìƒì„±í•©ë‹ˆë‹¤. randomArrì€ íŠ¹ì • ë²”ìœ„ì˜ ìˆ˜ë¥¼ ëœë¤í•œ ìˆœì„œë¡œ ì„ì€ ë¦¬ìŠ¤íŠ¸ì´ë©°, ì´ ê°’ë“¤ì„ ì‚¬ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ caseë“¤ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤. switchI = IRBswitch.CreateSwitch(add, swDefault, randomArr[origBB.size()]); for (BasicBlock *setSwitchBlocks : origBB) { BasicBlock *selectedBlock = setSwitchBlocks; if(!this-&amp;gt;hasPHI(selectedBlock)) { ConstantInt *constCase = llvm::ConstantInt::get(llvm::Type::getInt64Ty(Context), randomArr[index]); switchI-&amp;gt;addCase(constCase, selectedBlock); } } ë§ˆì§€ë§‰ìœ¼ë¡œ origBBì— ìˆëŠ” BasicBlock ë“¤ì˜ Terminatorë¥¼ BranchInstì¸ì§€ ê·¸ë¦¬ê³  Successor ê°œìˆ˜ì— ë”°ë¼ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. BranchInstëŠ” 1ê°œ í˜¹ì€ 2ê°œì˜ Successorë¥¼ ê°€ì§€ë©°, ì´ê²ƒë“¤ì´ ìˆ˜ì • ëŒ€ìƒì…ë‹ˆë‹¤. Branch Instructionì´ ì•„ë‹Œ ê²½ìš° : return í˜¹ì€ unreachable ê°™ì€ ì¢…ë¥˜ë˜ëŠ” ê²½ìš° í˜¹ì€ invokeì™€ ê°™ì´ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•œ Terminating Instructionì¸ ê²½ìš° Branch Instructionì˜ Successorê°€ 1ì¸ ê²½ìš° : branch BlockA ê°™ì´ ë‹¤ë¥¸ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš° Branch Instructionì˜ Successorê°€ 2ì¸ ê²½ìš° : branch condition BlockA BlockB ì²˜ëŸ¼ condition ê°’ì— ë”°ë¼ ì´ë™í•˜ëŠ” ë¸”ë¡ì´ ì´ë™ë˜ëŠ” ê²½ìš° ë”°ë¼ì„œ Branch Instructionì—ì„œ ì´ë™í•  ë¸”ë¡ì— ì§€ì •ëœ ê°’ì„ Switch Instructionì—ì„œ ì°¾ì•„ì„œ ìœ„ì—ì„œ ìƒì„±í•´ë‘” switchVarì— ì €ì¥í•´ì£¼ê³  Switch Blockìœ¼ë¡œ ëŒì•„ê°€ë©´ ìë™ìœ¼ë¡œ ì´ê±¸ ë¡œë“œí•´ì„œ ì›í•˜ëŠ” ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. Successorì˜ ê°œìˆ˜ê°€ 1ì¸ ê²½ìš°ì— ëŒ€í•œ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. 2ì¸ ê²½ìš°ì—ë„ ë‘˜ ë‹¤ì— ëŒ€í•´ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•´ì£¼ë©´ ë©ë‹ˆë‹¤. ì•„ë˜ ì½”ë“œì—ì„œëŠ” Switch Instructionì—ì„œ ê°€ì ¸ì˜¨ intCase ê°’ì´ ì§ì ‘ ë“œëŸ¬ë‚˜ëŠ” ê²ƒì„ ìˆ¨ê¸°ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ë§ì…ˆê³¼ ê³±ì…ˆì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. if(!isa&amp;lt;BranchInst&amp;gt;(selectedBlock-&amp;gt;getTerminator())){ continue; } uint64_t successors = selectedBlock-&amp;gt;getTerminator()-&amp;gt;getNumSuccessors(); if (successors == 1) { BasicBlock *follow = selectedBlock-&amp;gt;getTerminator()-&amp;gt;getSuccessor(0); ConstantInt *intCase = switchI-&amp;gt;findCaseDest(follow); if (intCase == NULL) { continue; } selectedBlock-&amp;gt;getTerminator()-&amp;gt;eraseFromParent(); IRBuilder&amp;lt;NoFolder&amp;gt; tempBuilder(selectedBlock); uint64_t origCase = intCase-&amp;gt;getSExtValue() - addVal; uint64_t randVal = 17+rand()%10000; Value * mul = tempBuilder.CreateMul(ConstantInt::get(llvm::Type::getInt64Ty(Context), origCase/randVal), ConstantInt::get(llvm::Type::getInt64Ty(Context), randVal)); Value * add = tempBuilder.CreateAdd(mul, ConstantInt::get(llvm::Type::getInt64Ty(Context), origCase%randVal)); tempBuilder.CreateAlignedStore(add, switchVar, MaybeAlign(8)); tempBuilder.CreateBr(startSwitch); } ì „í›„ë¹„êµ ìœ„ì™€ ê°™ì€ Control Flow Flattening ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Optì˜ -dot-cfg ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ íë¦„ í‰ë©´í™” ì „ìš© ì „ê³¼ í›„ë¥¼ ë¹„êµí•˜ë©´ StealienCFGswitch ë¼ëŠ” Switch ë¸”ë¡ì´ ì¶”ê°€ëœ ê²ƒê³¼ ëª¨ë“  ë¸”ë¡ì´ ë‹¤ì‹œ ì´ ë¸”ë¡ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ë‚œë…í™” ê¸°ëŠ¥ì´ ì ìš©ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë‚œë…í™” ê¸°ëŠ¥ì€ ë‹¤ë¥¸ ë‚œë…í™” ê¸°ëŠ¥ë“¤ê³¼ í•¨ê»˜ ì ìš©í•˜ë©´ í›¨ì”¬ ë” ë¶„ì„í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì¡´ íë¦„ ê·¸ë˜í”„ í‰ë©´í™” ëª¨ë“ˆ ì ìš© í›„ íë¦„ ê·¸ë˜í”„</summary></entry><entry xml:lang="ko"><title type="html">Stealien Security Seminar 1íšŒ ë¦¬ë·°</title><link href="http://ufo.stealien.com/2022-06-30/stealien-security-seminar" rel="alternate" type="text/html" title="Stealien Security Seminar 1íšŒ ë¦¬ë·°" /><published>2022-06-30T00:00:00+09:00</published><updated>2022-06-30T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-06-30/2022_3s_review-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-06-30/stealien-security-seminar">&lt;h1 id=&quot;stealien-security-seminar-1íšŒ-ë¦¬ë·°&quot;&gt;Stealien Security Seminar 1íšŒ ë¦¬ë·°&lt;/h1&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/banner.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Banner&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ìŠ¤í‹¸ë¦¬ì–¸ì˜ ê¹€ë„í˜„ ì„ ì„ì—°êµ¬ì›ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;2022ë…„ 6ì›” 29ì¼, ìŠ¤í‹¸ë¦¬ì–¸ì—ì„œ ì£¼ê´€í•˜ëŠ” ì²« ì„¸ë¯¸ë‚˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ëŒ€ë§ì˜ ì²« ì„¸ë¯¸ë‚˜ì—ì„œëŠ” SSL&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; ìˆ˜ë£Œìƒ ë¶„ë“¤ì˜ ì—°êµ¬ì— ëŒ€í•´ ì†Œê°œí•˜ëŠ” &lt;strong&gt;SSL ì„¸ì…˜&lt;/strong&gt;ê³¼, ìŠ¤í‹¸ë¦¬ì–¸ ì—°êµ¬ì›ë“¤ì˜ ì—°êµ¬ì— ëŒ€í•´ ì†Œê°œí•˜ëŠ” &lt;strong&gt;Open ì„¸ì…˜&lt;/strong&gt; ê·¸ë¦¬ê³  ì˜¤í”„ë¼ì¸ì—ì„œë§Œ ì§„í–‰í•˜ëŠ” &lt;strong&gt;Secret ì„¸ì…˜&lt;/strong&gt;ì´ ìˆì—ˆëŠ”ë°ìš”, ì´ë²ˆ ì„¸ë¯¸ë‚˜ëŠ” &lt;a href=&quot;https://www.youtube.com/watch?v=6YgSTZ9i7Vk&quot;&gt;ìœ íŠœë¸Œë¥¼ í†µí•´ ì˜¨ë¼ì¸&lt;/a&gt;ìœ¼ë¡œë„ ì†¡ì¶œí•˜ì˜€ê¸° ë•Œë¬¸ì— í˜¹ì‹œë‚˜ ë‚´ìš©ì„ ì¤‘ê°„ì— ë†“ì¹˜ì…¨ê±°ë‚˜, ì‹œê°„ì´ ì—†ì–´ ì°¸ì„í•˜ì§€ ëª»í•˜ì‹  ë¶„ë“¤ì€ ë‹¤ì‹œë³´ê¸°ë¥¼ í†µí•´ ì–¸ì œë“  ììœ ë¡­ê²Œ ì €í¬ì˜ ë°œí‘œë¥¼ ì¦ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜¹ì‹œë‚˜ ì•„ì§ ì´ë²ˆ ì„¸ë¯¸ë‚˜ì˜ ì¬ë¯¸ìˆëŠ” ë°œí‘œ ì£¼ì œë“¤ì„ ë“£ì§€ ëª» í•˜ì‹ ë¶„ë“¤ì„ ìœ„í•´ì„œ ì´ë ‡ê²Œ ì£¼ì œë“¤ì— ëŒ€í•œ ê°„ë‹¨í•œ ì†Œê°œì™€ ìš”ì•½ì„ ì‘ì„±í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;open-static-vulnerability-analysis&quot;&gt;[Open] Static Vulnerability Analysis&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/dhkim.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ì„¸ë¯¸ë‚˜ì˜ ì²«ë°œì€ ì œê°€ ë‚´ë””ë ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì €ì˜ ì£¼ìš” ê´€ì‹¬ì‚¬ ì¤‘ í•œê°€ì§€ëŠ” ë‹¤ì–‘í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ì„ë² ë””ë“œ ì¥ë¹„ì˜ ì·¨ì•½ì ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì´ëŸ°ë¥˜ì˜ ë²„ê·¸ë°”ìš´í‹° ë˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ í•´ ë³´ì‹ ë¶„ë“¤ì€ ì˜ ì•„ì‹œê² ì§€ë§Œ, ìƒê°ë³´ë‹¤ëŠ” êµ­ë‚´ì˜ íƒ€ê²Ÿë“¤ì€ ì•„ì§ë„ ë³µì¡ë„ê°€ ë‚®ì€ ì·¨ì•½ì ë“¤ì´ ë§ì´ ë‚˜ì˜¤ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ° ì·¨ì•½ì ë“¤ì„ effortlessí•˜ê²Œ ë°œêµ´í•˜ê¸° ìœ„í•´ì„œ ì €ëŠ” Static Vulnerability Analysis ë˜ëŠ” Static Program Analysis for Vulnerability Researchë¼ëŠ” ë°©ë²•ì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤. ì´ë²ˆ ë°œí‘œì—ì„œëŠ” Static Vulnerability Analysisì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì†Œê°œì™€, Fuzzingê³¼ ë¹„êµí•˜ì—¬ ì´ ê¸°ë²•ì˜ ì¥ì ê³¼ ë‹¨ì ì— ëŒ€í•´ ì„¤ëª…í•˜ê³ , ê°„ë‹¨í•œ ëª‡ê°€ì§€ í…Œí¬ë‹‰ì— ëŒ€í•´ ë°œí‘œí–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ ë§ˆì§€ë§‰ì—ëŠ” ì†Œê°œë“œë¦° ì£¼ì œë¥¼ ë°”íƒ•ìœ¼ë¡œ SSL 3ê¸°ì—ì„œ ì§„í–‰í•  ë‚´ìš©ì— ëŒ€í•´ ì†Œê°œ ë“œë ¸ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=1729&quot;&gt;28:49&lt;/a&gt;ë¶€í„° ì €ì˜ ë°œí‘œê°€ ì‹œì‘ë˜ë‹ˆ, ì¬ë¯¸ìˆê²Œ ë“¤ì–´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤ ğŸ¤©&lt;/p&gt;

&lt;h2 id=&quot;ssl-idapythonìœ¼ë¡œ-ë¶„ì„ì„-ë”-í¸í•˜ê²Œ-í•˜ëŠ”-ë°©ë²•&quot;&gt;[SSL] IDAPythonìœ¼ë¡œ ë¶„ì„ì„ ë” í¸í•˜ê²Œ í•˜ëŠ” ë°©ë²•&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/snwo.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ë‘ë²ˆì§¸ ë°œí‘œëŠ” SSL 2ê¸° ìˆ˜ë£Œìƒ í™©ì„ ìš°ë‹˜ì´ ì§„í–‰í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;IDA Proì—ì„œ ì œê³µí•˜ëŠ” APIë¥¼ ì´ìš©í•˜ì—¬ malware ë¶„ì„, pluginì— ëŒ€í•œ ì†Œê°œ ë° CTF ë¬¸ì œë¥¼ IDAPythonìœ¼ë¡œ í•´ê²°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì†Œê°œ í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.
íŠ¹íˆ Windows OSì˜ applicationì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GetModuleHandleA()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LoadLibraryA()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GetProcAddress()&lt;/code&gt; chainì„ ì´ìš©í•´ binaryì—ì„œ ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” procedureì˜ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¬ ë•Œ, IDAPythonì„ ì´ìš©í•˜ì—¬ ë‚œë…í™” ëœ ëŒ€ìƒ library ë° procedureì˜ ì´ë¦„(ë¬¸ìì—´)ì„ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì†Œê°œ í•´ ì£¼ì…¨ë˜ ì ì´ ì €ì—ê²ŒëŠ” ì¸ìƒê¹Šì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´í›„ì—ëŠ” &lt;a href=&quot;https://ctftime.org/event/1583&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b01lers CTF - TM&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://ctftime.org/task/20424&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DCTF - Glade&lt;/code&gt;&lt;/a&gt; ë¬¸ì œë¥¼ ì§ì ‘ IDAPythonì„ ì´ìš©í•˜ì—¬ ë¶„ì„í•˜ëŠ” ì˜ˆë¥¼ ë³´ì—¬ì£¼ì‹œê¸°ë„ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=4105&quot;&gt;1:08:25&lt;/a&gt;ë¶€í„° ì„ ìš°ë‹˜ì˜ ë°œí‘œê°€ ì‹œì‘ë˜ë‹ˆ, IDAPythonì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì´ìš©í•´ ë³´ê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì€ í•œë²ˆ ê¼­ ì‹œì²­ í•´ ë³´ì…”ì•¼ê² ë„¤ìš” ğŸ˜&lt;/p&gt;

&lt;h2 id=&quot;ssl-ê¶Œí•œ-ìƒìŠ¹-ì·¨ì•½ì -ë¶„ì„-ë°©ë²•ë¡ --a&quot;&gt;[SSL] ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì  ë¶„ì„ ë°©ë²•ë¡  + a&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/jhjang.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ì„¸ë²ˆì§¸ ë°œí‘œ ë˜í•œ SSL 2ê¸° ìˆ˜ë£Œìƒ ì¥ì¬í›ˆë‹˜ì´ ì§„í–‰í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¥ì¬í›ˆë‹˜ê»˜ì„œëŠ” SSL 2ê¸°ì˜ ì£¼ì œì¸ â€˜ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì  ë¶„ì„ ë°©ë²•ë¡ â€™ì„ ë°”íƒ•ìœ¼ë¡œ ì¶”ê°€ë¡œ ì—°êµ¬í•œ ë‚´ìš©ì„ ë”í•´ ì´ë²ˆ ë°œí‘œë¥¼ í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.
ë°©ë²•ë¡ &lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;ì—ëŠ” ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì ì„ ê´€ë¦¬ì  ì¸¡ë©´, ê¸°ìˆ ì  ì¸¡ë©´ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì†Œê°œí•˜ê³  ìˆëŠ”ë°, ê° ì·¨ì•½ì ì— ëŒ€í•œ ë””í…Œì¼ì´ ë”í•´ì ¸ ë³´ëŠ” ë§›ì´ ìˆëŠ” ë°œí‘œì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ ì´ë²ˆ ë°œí‘œì—ëŠ” â€˜File Junctionâ€™, â€˜Named Pipe Impersonationâ€™ ë“± ê°œë°œìê°€ ìœ ì˜í•˜ì§€ ì•Šìœ¼ë©´ ë°œìƒí•˜ê¸° ì‰½ê³ , ì¹˜ëª…ì ì¸ ë²„ê·¸ í´ë˜ìŠ¤ë“¤ì— ëŒ€í•´ì„œë„ ì†Œê°œ í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìš”ì¦˜ì˜ ì‹œìŠ¤í…œë“¤ì€ ê¶Œí•œ ë¶„ë¦¬ê°€ ì˜ ë˜ì–´ìˆëŠ” ê²½ìš°ê°€ ë§ì•„ì§€ê³  ìˆì§€ë§Œ, ê¶Œí•œì´ ë¶„ë¦¬ ëœ í™˜ê²½ì—ì„œë„ ì—¬ì „íˆ ì‹¤ìˆ˜ê°€ ë°œìƒí•˜ë©´ ì„±ê³µì ìœ¼ë¡œ ê³µê²©ì„ ìˆ˜í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì´ë²ˆ ë°œí‘œë¥¼ í†µí•´ ì˜ ë³´ì—¬ì£¼ì‹  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=7145&quot;&gt;1:59:05&lt;/a&gt;ë¶€í„° ì¬í›ˆë‹˜ì˜ ë°œí‘œê°€ ì‹œì‘ë©ë‹ˆë‹¤. SSLì„ í†µí•´ ì–´ë–¤ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ë­˜ ë°°ì›Œê°ˆ ìˆ˜ ìˆì„ì§€ì— ëŒ€í•´ ê¶ê¸ˆí•˜ì‹  ë¶„ë“¤ì€ í•œë²ˆ ì‹œì²­ í•´ ë³´ì‹œëŠ” ê²ƒì„ ì¶”ì²œ ë“œë¦½ë‹ˆë‹¤! ğŸ‘&lt;/p&gt;

&lt;h2 id=&quot;open-ëª¨ë˜-ì›¹-í™˜ê²½ì—ì„œì˜-ë²„ê·¸ì¼€ì´ìŠ¤ì™€-ì‹œíì–´ì½”ë”©&quot;&gt;[Open] ëª¨ë˜ ì›¹ í™˜ê²½ì—ì„œì˜ ë²„ê·¸ì¼€ì´ìŠ¤ì™€ ì‹œíì–´ì½”ë”©&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/scyoon.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ë„¤ë²ˆì§¸ ë°œí‘œëŠ” ì €í¬ íšŒì‚¬ì—ì„œ ë§ì€ ê·€ì—¬ì›€ì„ ë°›ê³  ìˆëŠ” ìœ¤ì„ì°¬ ì„ ì„ ì—°êµ¬ì›ì´ ë°œí‘œ í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ¤ì„ì°¬ ì—°êµ¬ì›ì€ ì ì  ìŠ¤íƒì´ ë†’ê²Œ ìŒ“ì—¬ì§€ëŠ” ëª¨ë˜ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì–´ë–¤ ë°©ì‹ì˜ ì·¨ì•½ì ì„ ì°¾ì„ ìˆ˜ ìˆê³ , ì´ë¥¼ ë³´ì™„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì†Œê°œí•´ ì£¼ì…¨ìŠµë‹ˆë‹¤. ëˆˆë†’ì´ì— ë§ì¶° í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ì•Œë ¤ì£¼ëŠ” ìœ¤ì„ì°¬ ì—°êµ¬ì›ì˜ ìŠ¤ìœ—í•¨ì— ë¹ ì§ˆê²ƒ ê°™ì•˜ì§€ë§Œ ê²¨ìš°ê²¨ìš° ì‚´ì•„ ëŒì•„ì™”ë„¤ìš”. ì´ ë°œí‘œëŠ” ìœ¤ì„ì°¬ ì—°êµ¬ì›ì´ ì§ì ‘ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ë°°ìš´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•˜ê³  ìˆìœ¼ë‹ˆ, êµ‰ì¥íˆ practicalí•œ ë°œí‘œë¼ê³  ë³¼ ìˆ˜ë„ ìˆê² ë„¤ìš”!&lt;/p&gt;

&lt;p&gt;ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì¼ë°˜ì ì¸ ì·¨ì•½ì ë“¤ê³¼, Django, React.jsì™€ ê°™ì€ íŠ¹ì •í•œ í”Œë«í¼, í”„ë ˆì„ì›Œí¬ì—ì„œë§Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì·¨ì•½ì ë“¤ì„ ì˜ ì•Œë ¤ ì£¼ì…”ì„œ ë„ˆë¬´ ì¢‹ì•˜ë‹¤ëŠ” í‰ì´ ê°€ë“í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=10110&quot;&gt;2:48:30&lt;/a&gt;ë¶€í„° ì„ì°¬ë‹˜ì˜ ë°œí‘œê°€ ì‹œì‘ë©ë‹ˆë‹¤. í‰ì†Œ CTFë¥¼ í†µí•´ ì›¹í•´í‚¹ì€ ì–´ëŠì •ë„ í•  ìˆ˜ ìˆì§€ë§Œ, real-worldì— ì…ë¬¸í•˜ê³  ì‹¶ì€ ì›¹í•´ì»¤ë“¤ì—ê²Œ ì´ ë°œí‘œë¥¼ ì¶”ì²œí•˜ëŠ” ë°”ì…ë‹ˆë‹¤. ğŸ&lt;/p&gt;

&lt;h2 id=&quot;open-mev&quot;&gt;[Open] MEV&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/hjhan.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ë‹¤ì„¯ë²ˆì§¸ ë°œí‘œëŠ” ìŠ¤í‹¸ë¦¬ì–¸ì˜ í•œí˜¸ì • ì—°êµ¬ì›ë‹˜ì´ ì§„í–‰í•´ì£¼ì…¨ìŠµë‹ˆë‹¤&lt;/p&gt;

&lt;p&gt;í•œí˜¸ì • ì—°êµ¬ì›ë‹˜ì€ í•´ë‹¹ ë°œí‘œì—ì„œ Blockchainì— ëŒ€í•œ ì·¨ì•½ì  ë¶„ì„ ì™¸ì— MEV(Miner Extractable Value)ì— ëŒ€í•´ì„œ ì†Œê°œí•´ì£¼ì…¨ìŠµë‹ˆë‹¤
Blockchainì— ëŒ€í•œ Security Audit ì‚°ì—…ì´ MEVì— ëŒ€í•œ researchë¡œë„ ë°œì „í•  ê²ƒì´ë¼ê³  ë³´ëŠ” í•œí˜¸ì • ì—°êµ¬ì›ë‹˜ì˜ ê²¬í•´ëŠ” ë§¤ìš° í¥ë¯¸ë¡œìš´ê²ƒê°™ìŠµë‹ˆë‹¤&lt;/p&gt;

&lt;p&gt;í•´ë‹¹ ë°œí‘œì—ì„œëŠ” MEVê°€ ë¬´ì—‡ì¸ì§€, ë˜ MEVì—ëŠ” ì–´ë– í•œ ì¢…ë¥˜ë“¤ì´ ìˆì—ˆëŠ”ì§€, MEVë¥¼ ì™„í™”ì‹œí‚¤ê±°ë‚˜ ì œê±°í•˜ê¸°ìœ„í•´ì„œ ì–´ë– í•œê²ƒë“¤ì´ ì¡´ì¬í•˜ëŠ”ì§€, ë§ˆì§€ë§‰ìœ¼ë¡œ í•œí˜¸ì •ì—°êµ¬ì›ë‹˜ì´ ì§ì ‘ MEVì— ëŒ€í•´ì„œ ì¶”ì¶œí•œ ê²½í—˜ë‹´ì— ëŒ€í•´ì„œ ì†Œê°œí•©ë‹ˆë‹¤&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=12465&quot;&gt;3:27:38&lt;/a&gt;ë¶€í„° í˜¸ì •ë‹˜ì˜ ë°œí‘œê°€ ì‹œì‘ë©ë‹ˆë‹¤. í‰ì†Œ Blockchainì— ëŒ€í•´ì„œ ê´€ì‹¬ìˆëŠ” ë¶„ë“¤ì´ë¼ë©´ í•œë²ˆ ì‹œì²­í•´ë³´ì‹œëŠ”ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. ğŸ’°&lt;/p&gt;

&lt;h2 id=&quot;closing&quot;&gt;Closing&lt;/h2&gt;

&lt;p&gt;ì´ì œ ì²«ë²ˆì§¸ Stealien Securit Seminarë¥¼ ëª¨ë‘ ëŒì•„ ë´¤ìŠµë‹ˆë‹¤. í¥ë¯¸ì§„ì§„í•œ ì£¼ì œë¡œ ë°œí‘œí•´ ì£¼ì‹  ë°œí‘œìë‹˜ë“¤ ëª¨ë‘ì—ê²Œ ê°ì‚¬ë“œë¦¬ë©°, ìŠ¤í‹¸ë¦¬ì–¸ì— ê´€ì‹¬ì„ ê°€ì ¸ì£¼ì‹œê³  ë°©ë¬¸í•´ì£¼ì‹  ë¶„ë“¤ì—ê²Œ ë¬´í•œí•œ ê°ì‚¬ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ë˜í•œ, ë¹„ë¡ í˜„ì¥ì— ê³„ì‹œì§„ ëª»í–ˆì§€ë§Œ ì˜¨ë¼ì¸ìœ¼ë¡œ ì €í¬ë¥¼ ì‘ì›í•´ ì£¼ì‹  ë¶„ë“¤ì—ê²Œë„ ê°ì‚¬ë¥¼ ë“œë¦½ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•ìœ¼ë¡œë„ ë©‹ì§€ê²Œ ë°œì „í•´ ë‚˜ê°€ëŠ” ìŠ¤í‹¸ë¦¬ì–¸ê³¼ ìŠ¤í‹¸ë¦¬ì–¸ì˜ í•´ì»¤ë“¤ì´ ë˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê°ì‚¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Stealien Security Leader, ìŠ¤í‹¸ë¦¬ì–¸ ì£¼ê´€ ë©˜í† ë§ í”„ë¡œê·¸ë¨Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://drive.google.com/file/d/1Mk46m5tFapZZ0y4upKxD3R6YsXb4EVZ1/view?usp=sharing&quot;&gt;Paper: ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì  ì ê²€ ê°€ì´ë“œ ë° íƒì§€ ë°©ë²• ì œì•ˆ&lt;/a&gt;, &lt;a href=&quot;https://drive.google.com/file/d/1LscZyKqve60LQsPU98-RgONbP43Mivy1/view?usp=sharing&quot;&gt;Doc: ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì  ì ê²€ ê°€ì´ë“œ&lt;/a&gt;Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>ê¹€ë„í˜„</name></author><category term="R&amp;D" /><summary type="html">Stealien Security Seminar 1íšŒ ë¦¬ë·°</summary></entry><entry xml:lang="ko"><title type="html">Reactë¡œ pdf ë‹¤ë£¨ê¸°</title><link href="http://ufo.stealien.com/2022-06-30/pdf-with-react" rel="alternate" type="text/html" title="Reactë¡œ pdf ë‹¤ë£¨ê¸°" /><published>2022-06-30T00:00:00+09:00</published><updated>2022-06-30T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-06-30/PDF-with-React-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-06-30/pdf-with-react">&lt;h1 id=&quot;reactë¡œ-pdf-ë‹¤ë£¨ê¸°&quot;&gt;Reactë¡œ pdf ë‹¤ë£¨ê¸°&lt;/h1&gt;

&lt;p&gt;ì˜¬í•´ ì´ˆ, &lt;strong&gt;ì›”ê°„ ë ˆí¬íŠ¸ ë¦¬ë‰´ì–¼&lt;/strong&gt; ì´ë¼ëŠ” ì—…ë¬´ë¥¼ ìƒˆë¡­ê²Œ ë°°ì •ë°›ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ë””ìì¸ì€ íšŒì‚¬ ëŒ€í‘œ ë””ìì´ë„ˆì´ì‹  ì¬ì„±ë‹˜ì´ ì•„ì£¼ ì•„ë¦„ë‹µê²Œ ë§Œë“¤ì–´ì£¼ì…¨ì§€ë§Œ, ì½”ë“œë¡œ PDFë¥¼ ë§Œë“¤ê±°ë‚˜ ë‹¤ë¤„ë³¸ ì ì´ ì—†ëŠ” ì €ëŠ” ë§‰ì—°í•œ ë‘ë ¤ì›€ì„ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ì™œ-ë¦¬ë‰´ì–¼ì„-ì§„í–‰í–ˆë‚˜&quot;&gt;ì™œ ë¦¬ë‰´ì–¼ì„ ì§„í–‰í–ˆë‚˜?&lt;/h2&gt;

&lt;p&gt;ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ ì½”ë“œë¡œë„ ì›”ë§ë§ˆë‹¤ íšŒì‚¬ Jiraì— ì €ì¥ë˜ëŠ” ì´ìŠˆë“¤ì„ ì •ë¦¬í•˜ì—¬ ë©”ì¼ë¡œ ë³´ë‚´ê¸°ì—ëŠ” ì¶©ë¶„í–ˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ í”„ë¡œì íŠ¸ ì½”ë“œê°€ ê´€ë¦¬ê°€ ì˜ ë˜ì§€ ì•Šì•„ì„œ ìƒˆë¡œìš´ ë””ìì¸ì„ ì ìš©í•˜ê³ , ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë½‘ì•„ë‚´ê¸° ìœ„í•´ ì´ ì½”ë“œë¥¼ ì²˜ìŒë¶€í„° ë¦¬ë”©í•˜ê¸°ëŠ” ì¡°ê¸ˆ í˜ë“  ìƒí™©ì´ì˜€ìŠµë‹ˆë‹¤.
íŠ¹íˆ, ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ë„ ë‹¤ë¥´ê¸°ë„ í–ˆêµ¬ìš”.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;img src=&quot;/assets/2022-06-30-PDF-with-React/code-manage-not-good.png&quot; alt=&quot;codemanage&quot; style=&quot;max-width:800px; height:auto;&quot; /&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ì½”ë“œ ê´€ë¦¬ ì ˆë§í¸&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ë”°ë¼ì„œ ì €ëŠ” ì œê°€ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” Typescriptì™€ React ê¸°ë°˜ìœ¼ë¡œ ì›”ê°„ ë ˆí¬íŠ¸ ì‹œìŠ¤í…œì„ ìƒˆë¡œ ë§Œë“¤ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ì²˜ëŸ¼ ìŠ¤í¬ë¦½íŠ¸ í˜•íƒœë¡œë„ ì‘ì„±í•  ìˆ˜ ìˆì§€ë§Œ, ì˜ˆì „ì— ë³´ë‚¸ ë ˆí¬íŠ¸ ì¡°íšŒë‚˜ ì´ë¯¸ì§€ ë³€ê²½ ë“±ì„ ê°œë°œìì¸ ì € ë¿ë§Œ ì•„ë‹ˆë¼, ë‹¤ë¥¸ ë¶„ë“¤ë„ í”Œë«í¼ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©´ ë” ì¢‹ì„ ê²ƒ ê°™ì•„ì„œ ì›¹ ì‹œìŠ¤í…œìœ¼ë¡œ ê°œë°œí•˜ê¸° ìœ„í•œ ê³„íšì„ ì„¸ì› ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;react-pdf&quot;&gt;React-PDF&lt;/h2&gt;

&lt;p&gt;ì›”ê°„ ë ˆí¬íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ëŠ” ì €í¬ Jiraì™€ Confluenceì—ì„œ ê°€ì ¸ì˜¤ê²Œ ë©ë‹ˆë‹¤.
ì‚¬ì‹¤ Jiraë‚˜ Confluenceì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê±°ë‚˜ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ëŠ” &lt;a href=&quot;https://github.com/mrrefactoring/jira.js/&quot;&gt;API&lt;/a&gt;ëŠ” ë„ˆë¬´ë‚˜ë„ ì˜ ë˜ì–´ìˆì–´ì„œ í° ë¬´ë¦¬ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ, ê°€ì¥ í° ë¬¸ì œëŠ” ì—­ì‹œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ PDF ë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì´ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-30-PDF-with-React/react-pdf.png&quot; alt=&quot;react-pdf&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://react-pdf.org/&quot;&gt;react-pdf&lt;/a&gt;ëŠ” Reactë¥¼ ê¸°ë°˜ìœ¼ë¡œ PDFë¥¼ ë Œë”ë§í•˜ê±°ë‚˜ ìƒì„±í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì…ë‹ˆë‹¤.
ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Document&lt;/code&gt; ì»´í¬ë„ŒíŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ PDF íŒŒì¼ì„ ë Œë”ë§í•˜ë©°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StyleSheet&lt;/code&gt;ë¥¼ í†µí•´ì„œ ê¸°ì¡´ jsx ì²˜ëŸ¼ ê¸€ìë‚˜ ë·° ìì²´ì— ìŠ¤íƒ€ì¼ë§ì„ í•  ìˆ˜ ìˆë„ë¡í•˜ëŠ” ë‹¤ì–‘í•˜ê³  í•„ìˆ˜ì ì¸ ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;svg&lt;/code&gt;ë„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì—, ì´ë¯¸ì§€ë‚˜ ì°¨íŠ¸ ë“±ë„ ì‰½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë˜ì„œ ì €ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-pdf&lt;/code&gt;ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë””ìì¸ëœ PDFë¥¼ ë§Œë“¤ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ìœ„ê¸°&quot;&gt;ìœ„ê¸°&lt;/h2&gt;

&lt;p&gt;ì‚¬ì‹¤ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-pdf&lt;/code&gt;ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë°œê²¬í–ˆì„ ë•Œ, ì‘ì—…ì´ ê¸ˆë°© ëë‚  ì¤„ ì•Œì•˜ìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ, ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ ìƒê°í•˜ì§€ ëª»í•œ ëª‡ ê°€ì§€ ë¬¸ì œì ë“¤ì„ ë§ˆì£¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Vite í™˜ê²½ì—ì„œ react-pdfê°€ ì˜ ì‘ë™í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/vitejs/vite/issues/3405&quot;&gt;issue&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Viteì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì¶”ê°€ì ìœ¼ë¡œ ë¸Œë¼ìš°ì €ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/li&gt;
      &lt;li&gt;ì´ &lt;a href=&quot;https://github.com/exogee-technology/vite-plugin-shim-react-pdf&quot;&gt;ë¼ì´ë¸ŒëŸ¬ë¦¬&lt;/a&gt; ë¡œ í•´ê²°í–ˆìŠµë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;í”„ë¡ íŠ¸ì—”ë“œì—ì„œ pdfë¥¼ ìƒì„±í•˜ë‹¤ë³´ë‹ˆ, ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ë§ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
    &lt;ul&gt;
      &lt;li&gt;í´ë¼ì´ì–¸íŠ¸ìª½ì—ì„œ ë Œë”ë§ì„ í•˜ëŠ” ê³¼ì •ì—ì„œ ì´ìŠˆê°€ ìˆëŠ” ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/li&gt;
      &lt;li&gt;ë‹¤í–‰íˆ, ì‘ë™ì—ëŠ” ì´ìƒì´ ì—†ì–´ì„œ ìš°ì„  ë„˜ì–´ê°€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ì°¨íŠ¸ë¥¼ ê·¸ë¦¬ê¸°ê°€ ì¡°ê¸ˆ ê¹Œë‹¤ë¡œì› ìŠµë‹ˆë‹¤.
    &lt;ul&gt;
      &lt;li&gt;svgë¥¼ ì§€ì›í•œë‹¤ê³  í•´ì„œ &lt;a href=&quot;https://nivo.rocks/&quot;&gt;nivo&lt;/a&gt;ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í–ˆëŠ”ë°, êµ¬ì¡°ìƒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ì°¨íŠ¸ì»´í¬ë„ŒíŠ¸ -&amp;gt; svg -&amp;gt; react-pdf&lt;/code&gt; ì˜ í˜•ì‹ìœ¼ë¡œ ì“°ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ë°”ëŒì— ê²°êµ­ ìŠ¤ìŠ¤ë¡œ ë§Œë“¤ì–´ì„œ ì¼ìŠµë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;íŠ¹íˆ, ë§ˆì§€ë§‰ 3ë²ˆì´ ì €ë¥¼ êµ‰ì¥íˆ ê´´ë¡­íˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì›”ê°„ ë ˆí¬íŠ¸ì˜ íŠ¹ì„± ìƒ, ì°¨íŠ¸ë‚˜ í‘œê°€ ëŒ€ë¶€ë¶„ì˜ ë°ì´í„°ë¥¼ ì´ë£¨ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
íŠ¹íˆ, ì°¨íŠ¸ëŠ” ì›í˜•, ë§‰ëŒ€í˜• ê·¸ë˜í”„ ë“± ë‹¤ì–‘í•œ ê·¸ë˜í”„ë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì´ì˜€ê¸° ë•Œë¬¸ì— ì‘ì—…ì— ì§€ì¥ì´ ìˆì„ ìˆ˜ ë°–ì— ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤í–‰íˆ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-pdf&lt;/code&gt; ì—ì„œëŠ” svgë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ì¡´ì¬í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
ê·¸ ì¤‘ì—ì„œ ì‚¬ìš©í•œ ê²ƒì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Path&lt;/code&gt; ì´ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;PieGraphë¥¼ ë§Œë“¤ ë•Œ, ì „ì²´ ë°ì´í„° ì¤‘ì—ì„œ ì°¨ì§€í•˜ëŠ” ë¶€ë¶„ì˜ ê°ë„ì™€ ë°˜ì§€ë¦„ì„ í†µí•´ ê°ê°ì˜ ì¢Œí‘œë¥¼ êµ¬í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;degrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;rad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;degrees&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;180.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;rad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;rad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;toPieChartItemPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;270&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;270&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endIn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arcSweep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;180&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;M&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arcSweep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;endOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;endOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;endIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;endIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arcSweep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ë¥¼ Svg ì•ˆì˜ Path ê°ì²´ë¡œ ì„ ì„ ê·¸ë¦¬ê³ , ê·¸ ì•ˆì„ ìƒ‰ìœ¼ë¡œ ì±„ì›Œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤. ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PieGraph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;React&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;FC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;datas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;datas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Svg&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;172&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Path&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toPieChartItemPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;86&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])}&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]}&lt;/span&gt;
        &lt;span class=&quot;sr&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;      &lt;span class=&quot;p&quot;&gt;))}&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/Svg&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ì˜ˆì‹œ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-30-PDF-with-React/chart.png&quot; alt=&quot;chart&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PolyLine&lt;/code&gt; ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ ì™¸ë¶€ì— í¼ì„¼íŠ¸ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆê²Œë„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ° ë°©ì‹ìœ¼ë¡œ PieGraphì™€ LineGraphë„ ê·¸ë¦´ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë§ˆë„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-pdf&lt;/code&gt;ì—ì„œ ì¼ë°˜ì ì¸ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì„œ nivoì™€ ê°™ì€ ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ì‘ë™í•˜ì§€ ì•Šì•˜ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ê²°ë¡ &quot;&gt;ê²°ë¡ &lt;/h2&gt;

&lt;p&gt;ì´ì œëŠ” ì œê°€ ë§Œë“  ìƒˆë¡œìš´ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§ì€ ê³ ê°ì‚¬ì— ì•±ìŠˆíŠ¸ ì›”ê°„ ë ˆí¬íŠ¸ê°€ ì „ë‹¬ë˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì²˜ìŒì— ê¸°íší–ˆë˜ ê¸°ëŠ¥ë“¤ì„ ì „ë¶€ ë„£ì§€ëŠ” ëª»í–ˆì§€ë§Œ, ê³„ì† ì—…ë°ì´íŠ¸ë¥¼ í•´ì„œ ì‚¬ë‚´ì—ì„œ ê°€ì¥ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì íŠ¸ê°€ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.&lt;/p&gt;</content><author><name>í•˜ì¤€í˜</name></author><category term="Dev" /><summary type="html">Reactë¡œ pdf ë‹¤ë£¨ê¸°</summary></entry><entry xml:lang="ko"><title type="html">Homomorphism in RSA</title><link href="http://ufo.stealien.com/2022-06-08/homomorphism-in-rsa" rel="alternate" type="text/html" title="Homomorphism in RSA" /><published>2022-06-08T00:00:00+09:00</published><updated>2022-06-08T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-06-08/homomorphism-in-rsa-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-06-08/homomorphism-in-rsa">&lt;h1 id=&quot;homomorphism-in-rsa&quot;&gt;Homomorphism in RSA&lt;/h1&gt;

&lt;h1 id=&quot;ì„œë¡ &quot;&gt;ì„œë¡ &lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/001_markus-spiske-iar-afB0QQw-unsplash_edit.jpg&quot; alt=&quot;001_markus-spiske-iar-afB0QQw-unsplash_edit.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;í•´í‚¹ì— ê´€ì‹¬ì„ ê°€ì§€ê²Œ ëœ ì‚¬ëŒì´ë¼ë©´ ëˆ„êµ¬ë“ ì§€ ê·¸ ì‹¤ë ¥ì„ ê¸°ë¥´ê¸° ìœ„í•´ ì›Œê²Œì„(Wargame) ì‚¬ì´íŠ¸ì—ì„œ ë¬¸ì œë“¤ì„ í’€ê±°ë‚˜ CTF(Capture The Flag) ëŒ€íšŒì— ì¶œì „í•´ ë³¸ ì ì´ ìˆì„ ê²ƒì´ë‹¤. ì›¹(Web), ë¦¬ë²„ì‹±(Reversing), í¬ë„ˆë¸”(Pwnable) ë“± ì—¬ëŸ¬ ë¶„ì•¼ì˜ ë¬¸ì œë“¤ì„ ë§Œë‚˜ë³¼ ìˆ˜ ìˆëŠ”ë°, íŠ¹ë³„í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³  í•­ìƒ ë“±ì¥í•˜ëŠ” ë¶„ì•¼ê°€ ìˆë‹¤. ë°”ë¡œ &lt;strong&gt;ì•”í˜¸í•™(Cryptography)&lt;/strong&gt; ë¶„ì•¼ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ìì£¼ ë“±ì¥í•˜ëŠ” ë§Œí¼ íŒ¨ê¸° ìˆê²Œ ë¬¸ì œë¥¼ í’€ì–´ë³´ë ¤ í•˜ì§€ë§Œ ì•”í˜¸í•™ ë¶„ì•¼ì˜ ë¬¸ì œë¥¼ ì²˜ìŒ ì ‘í•´ë³´ëŠ” ì‚¬ëŒì´ë¼ë©´ ëˆ„êµ¬ë“ ì§€ ê´´ìƒí•˜ê²Œ ë’¤ì£½ë°•ì£½ ì„ì—¬ ìˆê±°ë‚˜ ìˆ«ìë¡œë§Œ ë˜ì–´ ìˆëŠ” ì•”í˜¸ë¬¸ì„ ë°›ì•„ë³´ë©° ì´ê²ƒì„ í’€ì–´ì„œ ì •ë‹µì„ ì œì¶œí•˜ë¼ëŠ” ë§ì— ì–´ë–»ê²Œ í•´ì•¼ í• ì§€ ì‹œì‘ë¶€í„° &lt;strong&gt;ë§‰ë§‰í–ˆë˜ ê²½í—˜&lt;/strong&gt;ì´ ìˆì„ ê²ƒì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë²ˆ ê¸€ì—ì„œëŠ” ì•”í˜¸í•™ì´ë¼ëŠ” ë¶„ì•¼ì— ëŒ€í•´ ë§‰ì—°íˆ ì–´ë µê³  ë³µì¡í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ì‚¬ëŒë“¤ì„ ìœ„í•´ ì•”í˜¸í•™ ë¶„ì•¼ì˜ ì›Œê²Œì„ ë¬¸ì œì—ì„œ ê°€ì¥ í”í•˜ê²Œ ë‚˜ì˜¤ê³  ì‹¤ì œ í•„ë“œì—ì„œë„ ë§ì´ ì“°ì´ëŠ” ê³µê°œí‚¤ ì•”í˜¸í™” ê¸°ë²•ì˜ ê¸°ë³¸ ì¤‘ì˜ ê¸°ë³¸, &lt;strong&gt;RSA&lt;/strong&gt; ì™€ ê´€ë ¨ëœ ë¬¸ì œë¥¼ í’€ì–´ë³´ë©° ì•”í˜¸í•™ì´ë¼ëŠ” ê²Œ ê·¸ë ‡ê²Œ ì–´ë µê³  ë§‰ë§‰í•˜ê¸°ë§Œ í•œ ê²ƒì€ ì•„ë‹ˆë¼ëŠ” ì ì„ ë°°ì›Œê°ˆ ìˆ˜ ìˆë‹¤ë©´ ì¢‹ê² ë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;ë³¸ë¡ &quot;&gt;ë³¸ë¡ &lt;/h1&gt;

&lt;h2 id=&quot;ê·¸ë˜ì„œ-rsa-ê°€-ë­”ê°€ìš”&quot;&gt;ê·¸ë˜ì„œ RSA ê°€ ë­”ê°€ìš”?&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/002_RSA_inventors.jpeg&quot; alt=&quot;002_RSA_inventors.jpeg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;RSA ëŠ” 1978ë…„ì— ìµœì´ˆë¡œ ì´ ì•”í˜¸ì‹œìŠ¤í…œì„ ì—°êµ¬í•˜ì—¬ ì²´ê³„í™”ì‹œí‚¨ Ron &lt;strong&gt;R&lt;/strong&gt;ivest, Adi &lt;strong&gt;S&lt;/strong&gt;hamir, Leonard &lt;strong&gt;A&lt;/strong&gt;dleman ì˜ ì´ë¦„ ì• ê¸€ìë¥¼ ë”° ë§Œë“¤ì–´ì§„ &lt;strong&gt;ì•”í˜¸í™”&lt;/strong&gt;ë¿ë§Œ ì•„ë‹ˆë¼ &lt;strong&gt;ì „ìì„œëª…&lt;/strong&gt;ê¹Œì§€ ê°€ëŠ¥í•œ ìµœì´ˆì˜ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ RSA ì˜ ê°•ë ¥í•¨ì€ ë‹¤ìŒ ë‘ ê°€ì§€ì—ì„œ ë‚˜ì˜¨ë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ì•”/ë³µí˜¸í™”, ì„œëª…/ê²€ì¦ì— í•„ìš”í•œ ìˆ˜í•™ì ì¸ ê³„ì‚° ê³¼ì •ì´ êµ‰ì¥íˆ ê°„ë‹¨í•˜ê³  ë¹ ë¥´ë‹¤ëŠ” ê²ƒ.&lt;/li&gt;
  &lt;li&gt;í° ìˆ«ìì˜ ì†Œì¸ìˆ˜ë¶„í•´ì˜ ì–´ë ¤ì›€ì„ ì´ìš©í•œ ê°•ë ¥í•œ ì•ˆì „ì„±ì„ ì œê³µí•˜ê³  ìˆë‹¤ëŠ” ê²ƒ.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ìœ„ ë‘ ê°€ì§€ì˜ ê°•ì ìœ¼ë¡œ ì¸í•´ í˜„ì¬ê¹Œì§€ë„ RSA ëŠ” ë„ë¦¬ ì“°ì´ê³  ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ìŒìœ¼ë¡œëŠ” ì™œ RSA ì˜ ê°•ì ì„ ìœ„ ë‘ ê°€ì§€ë¡œ ê¼½ì•˜ëŠ”ì§€ í‚¤ ìƒì„±ë¶€í„° ì•”/ë³µí˜¸í™”, ì„œëª…/ê²€ì¦ ê³¼ì •ì„ ì‚´í´ë³´ë©° ì•Œì•„ë³´ë„ë¡ í•˜ê² ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;rsa-í‚¤-ìƒì„±&quot;&gt;RSA í‚¤ ìƒì„±&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;ì„œë¡œ ë‹¤ë¥¸ &lt;strong&gt;ì†Œìˆ˜ p, q&lt;/strong&gt; ë¥¼ ëœë¤í•˜ê²Œ ì„ íƒí•œë‹¤.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;n = p * q&lt;/strong&gt; ë¥¼ ê³„ì‚°í•œë‹¤.
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/003_npq.png&quot; alt=&quot;003_n=pq.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;n ì— ëŒ€í•˜ì—¬ &lt;strong&gt;ì˜¤ì¼ëŸ¬ í”¼ í•¨ìˆ˜(Eulerâ€™s phi (totient) function)&lt;/strong&gt; ë˜ëŠ” &lt;strong&gt;ì¹´ë§ˆì´í´ í•¨ìˆ˜(Carmichael function)&lt;/strong&gt; ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ê³„ì‚°í•œë‹¤.
    &lt;ul&gt;
      &lt;li&gt;ì˜¤ì¼ëŸ¬ í”¼ í•¨ìˆ˜ (&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%98%A4%EC%9D%BC%EB%9F%AC_%ED%94%BC_%ED%95%A8%EC%88%98&quot;&gt;https://ko.wikipedia.org/wiki/ì˜¤ì¼ëŸ¬_í”¼_í•¨ìˆ˜&lt;/a&gt;)
 &lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/004_phi.png&quot; alt=&quot;004_phi.png&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;ì¹´ë§ˆì´í´ í•¨ìˆ˜ (&lt;a href=&quot;https://en.wikipedia.org/wiki/Carmichael_function&quot;&gt;https://en.wikipedia.org/wiki/Carmichael_function&lt;/a&gt;)
 &lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/005_lambda.png&quot; alt=&quot;005_lambda.png&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;3ë²ˆì—ì„œ ì„ íƒí•œ ìˆ˜ì™€ &lt;strong&gt;ì„œë¡œì†Œì¸ ì •ìˆ˜ e&lt;/strong&gt; ë¥¼ ê³ ë¥¸ë‹¤.&lt;/p&gt;

    &lt;p&gt;(ë‘ ì •ìˆ˜ a, b ì˜ ìµœëŒ€ê³µì•½ìˆ˜(gcd)ê°€ 1 ì´ë©´ ë‘˜ì€ ì„œë¡œì†Œì´ë‹¤.)&lt;/p&gt;

    &lt;p&gt;(ë‘ ìˆ˜ê°€ ì„œë¡œì†Œê°€ ì•„ë‹ˆë©´ ëª¨ë“ˆëŸ¬ ì—­ì›ì„ êµ¬í•  ìˆ˜ ì—†ë‹¤ â†’ ê°œì¸í‚¤ë¥¼ êµ¬í•  ìˆ˜ ì—†ë‹¤.)&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/006_gcd_coprime.png&quot; alt=&quot;006_gcd_coprime.png&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;(ì¼ë°˜ì ìœ¼ë¡œ ê³„ì‚°ì˜ íš¨ìœ¨ì„±ì„ ìœ„í•´ &lt;a href=&quot;https://ko.wikipedia.org/wiki/%ED%8E%98%EB%A5%B4%EB%A7%88_%EC%88%98&quot;&gt;í˜ë¥´ë§ˆ ìˆ˜(Fermat Number)&lt;/a&gt;ê°€ ì„ íƒëœë‹¤.)&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/007_Fermat_numbers.png&quot; alt=&quot;007_Fermat_numbers.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ì •ìˆ˜ e ì— ëŒ€í•œ &lt;strong&gt;ëª¨ë“ˆëŸ¬ ì—­ì›ì¸ d&lt;/strong&gt; ë¥¼ ê³„ì‚°í•œë‹¤.
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/008_private_key_d.png&quot; alt=&quot;008_private_key_d.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;ìœ„ì—ì„œ ê³„ì‚°í•œ ê°’ë“¤ ì¤‘ &lt;strong&gt;n, e ë¥¼ ê³µê°œí‚¤&lt;/strong&gt;ë¡œì¨ ë°°í¬í•˜ê³ , &lt;strong&gt;d ë¥¼ ê°œì¸í‚¤&lt;/strong&gt;ë¡œì¨ ì ˆëŒ€ ë…¸ì¶œë˜ì§€ ì•Šê²Œ í•œë‹¤.
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/009_keys.png&quot; alt=&quot;009_keys.png&quot; /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì´ì œ í•´ë‹¹ ê³µê°œí‚¤ë¥¼ ì´ìš©í•˜ì—¬ ëˆ„êµ¬ë“ ì§€ ë©”ì‹œì§€ë¥¼ ì•”í˜¸í™”í•´ì„œ ë³´ë‚´ë©´ ê°œì¸í‚¤ë¥¼ ê°€ì§€ê³  ìˆëŠ” ì†Œìœ ìë§Œ í•´ë‹¹ ë©”ì‹œì§€ë¥¼ ë³µí˜¸í™”í•  ìˆ˜ ìˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì•”/ë³µí˜¸í™”ëŠ” ì–´ë–»ê²Œ ìˆ˜í–‰ë ê¹Œ? í•œë²ˆ ì‚´í´ë³´ì.&lt;/p&gt;

&lt;h2 id=&quot;rsa-ì•”í˜¸í™”&quot;&gt;RSA ì•”í˜¸í™”&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/010_enc.png&quot; alt=&quot;010_enc.png&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;rsa-ë³µí˜¸í™”&quot;&gt;RSA ë³µí˜¸í™”&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/011_dec.png&quot; alt=&quot;011_dec.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì´ ì •ë§ ê°„ë‹¨í•˜ê²Œ ì•”/ë³µí˜¸í™”ê°€ ìˆ˜í–‰ë˜ë©° ì´ì— ëŒ€í•œ ì¦ëª…ì€ &lt;a href=&quot;https://en.wikipedia.org/wiki/RSA_(cryptosystem)#Proofs_of_correctness&quot;&gt;RSA ìœ„í‚¤&lt;/a&gt;ì— ìƒì„¸í•˜ê²Œ ë‚˜ì™€ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;(í˜ë¥´ë§ˆ ì†Œì •ë¦¬, ì˜¤ì¼ëŸ¬ ì •ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ì¦ëª…í•¨)&lt;/p&gt;

&lt;p&gt;ì´ë²ˆì—ëŠ” ì„œëª…/ê²€ì¦ì´ ì–´ë–»ê²Œ ìˆ˜í–‰ë˜ëŠ”ì§€ ì‚´í´ë³´ì.&lt;/p&gt;

&lt;h2 id=&quot;rsa-ì„œëª…&quot;&gt;RSA ì„œëª…&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/012_sign.png&quot; alt=&quot;012_sign.png&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;rsa-ê²€ì¦&quot;&gt;RSA ê²€ì¦&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/013_verify.png&quot; alt=&quot;013_verify.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì•”/ë³µí˜¸í™” ê³¼ì •ê³¼ ìˆœì„œë§Œ ë°”ë€Œì—ˆì„ ë¿ ê±°ì˜ ë™ì¼í•˜ê²Œ ì„œëª…/ê²€ì¦ì´ ìˆ˜í–‰ë˜ë©° ì„œëª… ì‹œ ê°œì¸í‚¤ d ë¥¼ ì´ìš©í•´ ì„œëª…ì´ ë˜ê¸° ë•Œë¬¸ì— ëˆ„êµ¬ì—ê²Œë‚˜ ê³µê°œë˜ëŠ” e ë¥¼ ì´ìš©í•´ ë©”ì‹œì§€ m ì„ ë³µì›í•  ìˆ˜ ì—†ë„ë¡ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë©”ì‹œì§€ m ì˜ í•´ì‹œê°’ì¸ h ì— ì„œëª…ì„ ì§„í–‰í•˜ë„ë¡ í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ë©”ì‹œì§€ì— ëŒ€í•œ ì„œëª…ì´ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ì•”í˜¸í™”ëœ ë©”ì‹œì§€ì™€ ì„œëª…ì„ í•¨ê»˜ ì „ì†¡í•˜ê³  ì´í›„ ê²€ì¦ ë‹¨ê³„ì—ì„œëŠ” ë³µí˜¸í™”ëœ ë©”ì‹œì§€ì˜ í•´ì‹œê°’ê³¼ s^e (mod n) ì„ ê³„ì‚°í•˜ì—¬ ë‚˜ì˜¨ í•´ì‹œê°’ h ë¥¼ ë¹„êµí•˜ì—¬ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ë©´ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì œ RSA ì‹œìŠ¤í…œì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ê°œë…ì„ ë°°ì› ìœ¼ë‹ˆ í¥ë¯¸ë¡œìš´ ì†ì„± í•˜ë‚˜ë¥¼ ì¶”ê°€ë¡œ ì•Œë ¤ì£¼ë ¤ê³  í•œë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ì¤€ë™í˜•-ì‚¬ìƒhomomorphism&quot;&gt;ì¤€ë™í˜• ì‚¬ìƒ(Homomorphism)&lt;/h2&gt;

&lt;p&gt;ì¤€ë™í˜• ì‚¬ìƒì´ë€ ëŒ€ìˆ˜í•™ì—ì„œ êµ¬ì¡°ìƒ ë‹®ì€ ë‘ ëŒ€ìˆ˜ êµ¬ì¡°ì˜ ëª¨ë“  ì—°ì‚° ë° ê´€ê³„ë¥¼ ë³´ì¡´í•˜ëŠ” ê²½ìš°ë¥¼ ë§í•œë‹¤. ì‰½ê²Œ ë§í•˜ìë©´, ì–´ë– í•œ í•¨ìˆ˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f(x)&lt;/code&gt; ê°€ ìˆë‹¤ê³  í•  ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f(a * b)&lt;/code&gt; ê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f(a) * f(b)&lt;/code&gt; ì™€ ê°™ë‹¤ëŠ” ê²ƒì´ë‹¤ (ë‚˜ëˆ—ì…ˆë„ ë§ˆì°¬ê°€ì§€). ì´ëŠ” ì‹ ê¸°í•˜ê²Œë„ RSA ì—ë„ ê·¸ëŒ€ë¡œ ì ìš©ì´ ë˜ëŠ”ë° í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;m&lt;/code&gt; ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a * b&lt;/code&gt; ë¼ê³  í•  ë•Œ c â‰¡ m^e (mod n) ê³¼ c â‰¡ (a * b)^e â‰¡ a^e * b^e (mod n) ì´ ì„œë¡œ ì¼ì¹˜í•œë‹¤. ì´ëŠ” ì„œëª…ì—ì„œë„ ë§ˆì°¬ê°€ì§€ì´ë©° ì˜ˆì‹œë¥¼ í†µí•´ í™•ì¸í•´ë³´ì.&lt;/p&gt;

&lt;h2 id=&quot;ì˜ˆì‹œ&quot;&gt;ì˜ˆì‹œ&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;ì„ì˜ì˜ ì†Œìˆ˜ p, q ì„ íƒ
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/014_pq.png&quot; alt=&quot;014_pq.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;n = p * q ê³„ì‚°
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/015_npq3233.png&quot; alt=&quot;015_n=pq=3233.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ì˜¤ì¼ëŸ¬ í”¼í•¨ìˆ˜ ê³„ì‚°
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/016_phi(n).png&quot; alt=&quot;016_phi(n).png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ì˜¤ì¼ëŸ¬ í”¼í•¨ìˆ˜ì™€ ì„œë¡œì†Œì¸ ì •ìˆ˜ e ì„ íƒ
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/017_e17.png&quot; alt=&quot;017_e=17.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ê°œì¸í‚¤ d ê³„ì‚°
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/018_private_key_d.png&quot; alt=&quot;018_private_key_d.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;í‰ë¬¸ m = a * b ë¼ê³  í•  ë•Œ ì•”í˜¸í™” ê³¼ì • ë¹„êµ
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/019_enc.png&quot; alt=&quot;019_enc.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ì„œëª… ê³¼ì • ë¹„êµ (ê³„ì‚° í¸ì˜ë¥¼ ìœ„í•´ í•´ì‹œ í•¨ìˆ˜ëŠ” ë¯¸ì ìš©)
&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/020_sign.png&quot; alt=&quot;020_sign.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;CTF ì˜ RSA ë¬¸ì œì—ì„œ ìœ„ ì†ì„±ì„ ì´ìš©í•œ ë¬¸ì œê°€ ê½¤ë‚˜ ìì£¼ ì¶œì œë˜ë©° í•œë²ˆ ì‹¤ì œë¡œ ì¶œì œëœ ë¬¸ì œë¥¼ í’€ì–´ë³´ë©° ì–´ë–¤ ì‹ìœ¼ë¡œ ì‘ìš©ë˜ëŠ”ì§€ ì‚´í´ë³´ì.&lt;/p&gt;

&lt;h2 id=&quot;ë¬¸ì œ-í’€ì´&quot;&gt;ë¬¸ì œ í’€ì´&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;LINECTF2022&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ë¬¸ì œëª…&lt;/th&gt;
      &lt;th&gt;X Factor&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ë‚œì´ë„&lt;/td&gt;
      &lt;td&gt;Easy&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì„¤ëª…&lt;/td&gt;
      &lt;td&gt;Decrypt it!&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì œê³µíŒŒì¼&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;/assets/2022-06-08-homomorphism-in-rsa/x_factor.md&quot;&gt;x_factor.md&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ë¨¼ì €, ì œê³µëœ íŒŒì¼ì„ ì—´ì–´ì„œ í™•ì¸í•´ë³´ì.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Â» Part 1&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;have&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generated&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RSA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1024&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pair&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10001&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modulus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xa9e7da28ebecf1f88efe012b8502122d70b167bdcfa11fd24429c23f27f55ee2cc3dcd7f337d0e630985152e114830423bfaf83f4f15d2d05826bf511c343c1b13bef744ff2232fb91416484be4e130a007a9b432225c5ead5a1faf02fa1b1b53d1adc6e62236c798f76695bb59f737d2701fe42f1fbf57385c29de12e79c5b3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì²«ë²ˆì§¸ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RSA ê³µê°œí‚¤ ìŒ(Public Exponent: e, Public Modulus: n)&lt;/code&gt;ì„ 16ì§„ìˆ˜ í˜•íƒœë¡œ ì œê³µí•´ì£¼ê³  ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Â» Part 2&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Here&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;some&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;known&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plain&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signature&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pairs&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generated&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x945d86b04b2e7c7&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x17bb21949d5a0f590c6126e26dc830b51d52b8d0eb4f2b69494a9f9a637edb1061bec153f0c1d9dd55b1ad0fd4d58c46e2df51d293cdaaf1f74d5eb2f230568304eebb327e30879163790f3f860ca2da53ee0c60c5e1b2c3964dbcf194c27697a830a88d53b6e0ae29c616e4f9826ec91f7d390fb42409593e1815dbe48f7ed4&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x5de2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x3ea73715787028b52796061fb887a7d36fb1ba1f9734e9fd6cb6188e087da5bfc26c4bfe1b4f0cbfa0d693d4ac0494efa58888e8415964c124f7ef293a8ee2bc403cad6e9a201cdd442c102b30009a3b63fa61cdd7b31ce9da03507901b49a654e4bb2b03979aea0fab3731d4e564c3c30c75aa1d079594723b60248d9bdde50&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xa16b201cdd42ad70da249&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x9444e3fc71056d25489e5ce78c6c986c029f12b61f4f4b5cbd4a0ce6b999919d12c8872b8f2a8a7e91bd0f263a4ead8f2aa4f7e9fdb9096c2ea11f693f6aa73d6b9d5e351617d6f95849f9c73edabd6a6fde6cc2e4559e67b0e4a2ea8d6897b32675be6fc72a6172fd42a8a8e96adfc2b899015b73ff80d09c35909be0a6e13a&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x6d993121ed46b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x2b7a1c4a1a9e9f9179ab7b05dd9e0089695f895864b52c73bfbc37af3008e5c187518b56b9e819cc2f9dfdffdfb86b7cc44222b66d3ea49db72c72eb50377c8e6eb6f6cbf62efab760e4a697cbfdcdc47d1adc183cc790d2e86490da0705717e5908ad1af85c58c9429e15ea7c83ccf7d86048571d50bd721e5b3a0912bed7c&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x726fa7a7&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xa7d5548d5e4339176a54ae1b3832d328e7c512be5252dabd05afa28cd92c7932b7d1c582dc26a0ce4f06b1e96814ee362ed475ddaf30dd37af0022441b36f08ec8c7c4135d6174167a43fa34f587abf806a4820e4f74708624518044f272e3e1215404e65b0219d42a706e5c295b9bf0ee8b7b7f9b6a75d76be64cf7c27dfaeb&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x31e828d97a0874cff&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x67832c41a913bcc79631780088784e46402a0a0820826e648d84f9cc14ac99f7d8c10cf48a6774388daabcc0546d4e1e8e345ee7fc60b249d95d953ad4d923ca3ac96492ba71c9085d40753cab256948d61aeee96e0fe6c9a0134b807734a32f26430b325df7b6c9f8ba445e7152c2bf86b4dfd4293a53a8d6f003bf8cf5dffd&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x904a515&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x927a6ecd74bb7c7829741d290bc4a1fd844fa384ae3503b487ed51dbf9f79308bb11238f2ac389f8290e5bcebb0a4b9e09eda084f27add7b1995eeda57eb043deee72bfef97c3f90171b7b91785c2629ac9c31cbdcb25d081b8a1abc4d98c4a1fd9f074b583b5298b2b6cc38ca0832c2174c96f2c629afe74949d97918cbee4a&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë‘ë²ˆì§¸ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(í‰ë¬¸ - ì„œëª…)&lt;/code&gt; ìŒ 7 ê°œë¥¼ 16ì§„ìˆ˜ í˜•íƒœë¡œ ì œê³µí•´ì£¼ê³  ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Â» Part 3&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;**What is the signature of 0x686178656c696f6e?**

Take the least significant 16 bytes of the signature, encode them in lowercase hexadecimal and format it as `LINECTF{sig_lowest_16_bytes_hex}` to obtain the flag.
E.g. the last signature from the list above would become `LINECTF{174c96f2c629afe74949d97918cbee4a}`.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì„¸ë²ˆì§¸ë¡œ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ì˜ &lt;strong&gt;ì„œëª…ì´ ë¬´ì—‡ì¸ì§€&lt;/strong&gt; ë§ì¶°ë³´ë¼ë©° ì„œëª…ì˜ 16ì§„ìˆ˜ í˜•íƒœì˜ ë§ˆì§€ë§‰ 16 ë°”ì´íŠ¸ë¥¼ FLAG í˜•ì‹ì— ë§ì¶° ì œì¶œí•˜ë©´ ëœë‹¤ê³  í•œë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì¬ ìš°ë¦¬ê°€ ì•Œê³  ìˆëŠ” ì •ë³´ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ê³µê°œí‚¤(e, n)&lt;/code&gt;ì™€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(í‰ë¬¸ - ì„œëª…)&lt;/code&gt; ìŒ 7ê°œ, ê·¸ë¦¬ê³  FLAG ì¸ ì„œëª…ì„ êµ¬í•˜ê¸° ìœ„í•´ í•„ìš”í•œ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ë¿ì´ë‹¤. ì˜ë¯¸ë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” 16ì§„ìˆ˜ í˜•íƒœì˜ ìˆ«ìë¡œë§Œ ê°€ë“í•œ í…ìŠ¤íŠ¸ë¡œë¶€í„° &lt;strong&gt;ì–´ë–»ê²Œ ê°œì¸í‚¤ d ë„ ì—†ì´ ì„œëª…ì„ êµ¬í•  ìˆ˜ ìˆì„ê¹Œ?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ë°”ë¡œ ìœ„ì—ì„œ ë°°ìš´ ì¤€ë™í˜• ì‚¬ìƒ(Homomorphism)ì„ ì´ìš©í•˜ì—¬ í’€ë©´ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;ë¨¼ì € í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ì„ ì†Œì¸ìˆ˜ë¶„í•´ í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤ (SageMath ì˜ factor í•¨ìˆ˜):&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Implemented in SageMath
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x686178656c696f6e&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# 7521425229691318126
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# 2 * 197 * 947 * 2098711 * 9605087
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì´ 5 ê°œì˜ ì†Œì¸ìˆ˜ì˜ ê³±ìœ¼ë¡œ í‰ë¬¸ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. (m = a * b * c * d * e)&lt;/p&gt;

&lt;p&gt;ì´ë²ˆì—ëŠ” ì£¼ì–´ì¡Œë˜ (í‰ë¬¸ - ì„œëª…) ìŒì—ì„œ í‰ë¬¸ë“¤ë§Œ ì†Œì¸ìˆ˜ë¶„í•´ í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pt1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x945d86b04b2e7c7&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pt2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x5de2&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pt3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xa16b201cdd42ad70da249&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pt4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x6d993121ed46b&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pt5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x726fa7a7&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pt6&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x31e828d97a0874cff&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pt7&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x904a515&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pt1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;pt&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;factor(pt&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;): &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;&apos;&apos;&apos;
[+] Output: 
pt1:  668178073886320583
factor(pt1):  811 * 947^3 * 970111

pt2:  24034
factor(pt2):  2 * 61 * 197

pt3:  12196433909207788967273033
factor(pt3):  970111 * 2098711^2 * 2854343

pt4:  1928075547694187
factor(pt4):  947 * 970111 * 2098711

pt5:  1919920039
factor(pt5):  61 * 197^2 * 811

pt6:  57538707471611677951
factor(pt6):  2098711 * 2854343 * 9605087

pt7:  151299349
factor(pt7):  197 * 811 * 947
&apos;&apos;&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì‹ ê¸°í•˜ê²Œë„ ëª‡ëª‡ ì†Œì¸ìˆ˜ë“¤ì´ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ì˜ &lt;strong&gt;ì†Œì¸ìˆ˜ë“¤ê³¼ ê²¹ì¹œë‹¤&lt;/strong&gt;ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì†Œì¸ìˆ˜ê°€ ê²¹ì¹˜ëŠ”ê²Œ ë­ ì–´ë–»ê¸¸ë˜ ê·¸ëŸ°ê±¸ê¹Œ? ìš°ë¦¬ëŠ” 7 ê°œì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(í‰ë¬¸ - ì„œëª…)&lt;/code&gt; ìŒì„ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ í‰ë¬¸ì„ &lt;strong&gt;ì˜ ì¡°í•©&lt;/strong&gt;í•´ì„œ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ê³¼ ì¼ì¹˜í•˜ê²Œ ë§Œë“ ë‹¤ë©´ RSA ì—ì„œì˜ &lt;strong&gt;ì¤€ë™í˜• ì‚¬ìƒ&lt;/strong&gt;ìœ¼ë¡œ ì¸í•´ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ì— ê°œì¸í‚¤ d ë¥¼ ì´ìš©í•˜ì—¬ ê³„ì‚°í•œ ì„œëª…ê³¼ ë™ì¼í•œ ì„œëª…ì„ &lt;strong&gt;ê°œì¸í‚¤ d ì—†ì´ë„ êµ¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;ì´ê²Œ-ë¬´ìŠ¨-ì†Œë¦¬&quot;&gt;ì´ê²Œ ë¬´ìŠ¨ ì†Œë¦¬?&lt;/h2&gt;

&lt;p&gt;ìœ„ì—ì„œ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ì´ 5 ê°œì˜ ì†Œì¸ìˆ˜ì˜ ê³± í˜•íƒœë¡œ í‘œí˜„ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/021_m_factor.png&quot; alt=&quot;021_m_factor.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ìš°ë¦¬ëŠ” ê°œì¸í‚¤ d ë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì— m ì— ëŒ€í•œ ì„œëª…ì„ êµ¬í•  ìˆ˜ ì—†ì§€ë§Œ, 7 ê°œì˜ (í‰ë¬¸ - ì„œëª…) ìŒì„ ì•Œê³  ìˆê³  ê° í‰ë¬¸ì˜ ì†Œì¸ìˆ˜ê°€ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ì˜ ì†Œì¸ìˆ˜ì™€ ê²¹ì¹˜ê¸° ë•Œë¬¸ì— ê³±í•˜ê¸°ì™€ ë‚˜ëˆ„ê¸°ë¥¼ ì ì ˆíˆ ì´ìš©í•˜ì—¬ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ê³¼ ì¼ì¹˜í•˜ëŠ” ìˆ˜ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤ë©´ í•´ë‹¹ ìˆ˜ë¥¼ êµ¬í–ˆì„ ë•Œì˜ ì‹ê³¼ ë™ì¼í•˜ê²Œ 7 ê°œì˜ ì„œëª…ì— ì ìš©í•˜ì—¬ ê³„ì‚°í•˜ë©´ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; ì— ê°œì¸í‚¤ d ë¥¼ ì´ìš©í•˜ì—¬ ê³„ì‚°í•œ ì„œëª…ê³¼ ë™ì¼í•œ ì„œëª…ì„ ê°œì¸í‚¤ d ì—†ì´ë„ êµ¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤ëŠ” ë§ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/022_m_sign.png&quot; alt=&quot;022_m_sign.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/023_find_m.png&quot; alt=&quot;023_find_m.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/024_original_signature.png&quot; alt=&quot;024_original_signature.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;(í˜„ì¬ë¡œì¨ëŠ” ê³±í•˜ê¸°, ë‚˜ëˆ„ê¸° ì¤‘ ì–´ë–¤ ì—°ì‚°ìê°€ ë“¤ì–´ê°€ì•¼ í•˜ëŠ”ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ë¬¼ìŒí‘œ(â€™?â€™)ë¡œ ë‘ì—ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; (target)ê³¼ ì¼ì¹˜í•˜ëŠ” ìˆ˜ë¥¼ êµ¬í•˜ê¸° ìœ„í•´ì„œëŠ” ì•½ê°„ì˜ ë¨¸ë¦¬ë¥¼ ì¨ì„œ 7 ê°œì˜ í‰ë¬¸ì„ ê³±í•˜ê³  ë‚˜ëˆ„ë©´ ëœë‹¤. ë‚˜ì˜ ê²½ìš°ì—ëŠ” ì‘ì€ ì†Œì¸ìˆ˜ë¥¼ ê°€ì§„ í‰ë¬¸ë¶€í„° ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•´ë³´ì•˜ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pt2   : 2 * 61 * 197
pt5   :     61 * 197^2 * 811
pt7   :          197   * 811 * 947
pt1   :                  811 * 947^3 * 970111
pt4   :                        947   * 970111 * 2098711
pt3   :                                970111 * 2098711^2 * 2854343
pt6   :                                         2098711   * 2854343 * 9605087
-----------------------------------------------------------------------------
target: 2      * 197         * 947            * 2098711             * 9605087
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ì œ ê³±í•˜ê¸°, ë‚˜ëˆ„ê¸°ë¥¼ ì´ìš©í•˜ì—¬ target ê³¼ ì¼ì¹˜í•˜ëŠ” ìˆ˜ë¥¼ ë§Œë“¤ë©´ ëœë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    pt2: 2 * 61 * 197
(/) pt5:     61 * 197^2    * 811
-----------------------------------------------------------------------------------------
         2      * 197^(-1) * 811^(-1)
(*) pt7:          197      * 811      * 947
-----------------------------------------------------------------------------------------
         2                            * 947
(*) pt7:          197      * 811      * 947
-----------------------------------------------------------------------------------------
         2      * 197      * 811      * 947^2
(/) pt1:                     811      * 947^3    * 970111
-----------------------------------------------------------------------------------------
         2      * 197                 * 947^(-1) * 970111^(-1)
(*) pt4:                                947      * 970111 * 2098711
-----------------------------------------------------------------------------------------
         2      * 197                                     * 2098711
(*) pt4:                                947      * 970111 * 2098711
-----------------------------------------------------------------------------------------
         2      * 197                 * 947      * 970111 * 2098711^2
(/) pt3:                                           970111 * 2098711^2 * 2854343
-----------------------------------------------------------------------------------------
         2      * 197                 * 947                           * 2854343^(-1)
(*) pt6:                                                    2098711   * 2854343 * 9605087
-----------------------------------------------------------------------------------------
 answer: 2      * 197                 * 947               * 2098711             * 9605087

Therefore, answer = pt2 / pt5 * pt7^2 / pt1 * pt4^2 / pt3 * pt6.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;7 ê°œì˜ í‰ë¬¸ì„ ì´ìš©í•˜ì—¬ í‰ë¬¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x686178656c696f6e&lt;/code&gt; (target)ê³¼ ì¼ì¹˜í•˜ëŠ” ìˆ˜(answer)ë¥¼ êµ¬í–ˆê¸° ë•Œë¬¸ì— ì´ì œ 7 ê°œì˜ ì„œëª…ì„ ì´ìš©í•˜ì—¬ ë™ì¼í•œ ì‹ìœ¼ë¡œ target ì˜ ì„œëª…ì„ êµ¬í•  ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” target ì˜ ì„œëª…ê³¼ FLAG ë¥¼ êµ¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œ ì½”ë“œì´ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Implemented in SageMath
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x686178656c696f6e&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;target: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# 7521425229691318126
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;factor(target): &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# 2 * 197 * 947 * 2098711 * 9605087
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;answer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pt6&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;answer: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;answer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# 7521425229691318126
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;factor(answer): &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;answer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# 2 * 197 * 947 * 2098711 * 9605087
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;answer&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Using the same formula as answer including modular n.
# This is possible because of the homomorphism in unpadded RSA.
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newsig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sig2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sig5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sig7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sig1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sig4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sig3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sig6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;newsig (int): &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newsig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# 111219533890621461179460792242241632450808153632799554790302537773885731996725665970159819970061237994467913213678895572474822930918390150774003109045699291202079975387595071497569834504251162974827309324614046581068300485342202365281472704413710935864495616184160512233863134373547246784976501532318112012352
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newsig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;hex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newsig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;newsig (hex): &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newsig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# 9e61c276f698ec48aab7dabfd663f3b2ee75d31c68bf16f6810a3bb9bb1c377e47b2ae8cd7055c7c5848bbedc94798d2965c38b317e42191df0e3f25ca2ee58c5f3e125745479b337516a13e420da29ba48a92ca2ee9720487cda6cdf070e83a4a251c52e331174a0ef642a97a251462a049347a7db8226d496eb55c15b1d840
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;&apos;&apos;&apos;
Take the least significant 16 bytes of the signature, encode them in lowercase hexadecimal and format it as `LINECTF{sig_lowest_16_bytes_hex}` to obtain the flag.
E.g. the last signature from the list above would become `LINECTF{174c96f2c629afe74949d97918cbee4a}`.
&apos;&apos;&apos;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;LINECTF{&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newsig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;}&apos;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;flag: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# flag:  LINECTF{a049347a7db8226d496eb55c15b1d840}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;aside&gt;
ğŸš© FLAG : LINECTF{a049347a7db8226d496eb55c15b1d840}

&lt;/aside&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;ê²°ë¡ &quot;&gt;ê²°ë¡ &lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-08-homomorphism-in-rsa/025_philip-estrada-vJr3t39a0xw-unsplash_edit.jpg&quot; alt=&quot;025_philip-estrada-vJr3t39a0xw-unsplash_edit.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì§€ê¸ˆê¹Œì§€ &lt;strong&gt;RSA&lt;/strong&gt; ë€ ë¬´ì—‡ì¸ì§€, &lt;strong&gt;í‚¤ ìƒì„±&lt;/strong&gt;, &lt;strong&gt;ì•”/ë³µí˜¸í™”&lt;/strong&gt;, &lt;strong&gt;ì„œëª…/ê²€ì¦&lt;/strong&gt;ì€ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ì•Œì•„ë³´ì•˜ê³ , ë˜ ëŒ€ìˆ˜í•™ì—ì„œì˜ &lt;strong&gt;ì¤€ë™í˜• ì‚¬ìƒ(Homomorphism)&lt;/strong&gt; ê°œë…ì„ CTF ì—ì„œ ìì£¼ ì¶œì œë˜ëŠ” ìœ í˜•ì˜ RSA ë¬¸ì œì— ì ìš©í•˜ì—¬ í’€ì–´ë³´ì•˜ë‹¤. ì´ì™¸ì—ë„ ìˆ˜ë§ì€ ë°©ì‹ì˜ RSA ê³µê²© ê¸°ë²•ë“¤ì´ ì¡´ì¬í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ ìœ„ ë¬¸ì œ í’€ì´ì—ì„œ ë³¸ ê²ƒê³¼ ê°™ì´ ìˆ˜í•™ì ì¸ ê°œë…ì„ ê°€ì§€ê³  ì‚¬ì¹™ì—°ì‚°ë§Œ í•  ì¤„ ì•ˆë‹¤ë©´ ê¸ˆë°© ì´í•´í•˜ê³  ê·¸ê²ƒì„ ë¬¸ì œì— ì ìš©í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì•”í˜¸&lt;/strong&gt;ë¥¼ í‘¼ë‹¤ëŠ” ê²ƒì€ &lt;strong&gt;ì–½íˆê³ ì„¤í‚¨ ì‹¤íƒ€ë˜ë¥¼ í‘¸ëŠ” ê²ƒ&lt;/strong&gt;ê³¼ë„ ê°™ë‹¤ê³  ìƒê°í•œë‹¤. ì²˜ìŒ ë¬¸ì œë¥¼ ì ‘í–ˆì„ ë•ŒëŠ” ë„ë¬´ì§€ ì–´ë–»ê²Œ ì´ê²ƒì„ í’€ì–´ì•¼ í•œë‹¤ëŠ” ê±´ì§€ ê°ì„ ì¡ì„ ìˆ˜ì¡°ì°¨ ì—†ì§€ë§Œ ì²œì²œíˆ ë‘˜ëŸ¬ë³´ë‹¤ ë³´ë©´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” &lt;strong&gt;ì‹¤ë§ˆë¦¬&lt;/strong&gt;ë¥¼ ì¡ì„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì´ ê¸€ì´ ì•”í˜¸í•™ ë¬¸ì œë¥¼ í‘¸ëŠ” ì´ë“¤ì—ê²Œ ì¢‹ì€ ì‹œì‘ì ì´ ë˜ê¸°ë¥¼ ê¸°ì›í•˜ë©° ê¸€ì„ ë§ˆë¬´ë¦¬í•˜ë„ë¡ í•˜ê² ë‹¤.&lt;/p&gt;</content><author><name>ë°•ì§€ì›</name></author><category term="R&amp;D" /><summary type="html">Homomorphism in RSA</summary></entry><entry xml:lang="ko"><title type="html">How to root your RouterOS v7 Virtual Machine</title><link href="http://ufo.stealien.com/2022-06-01/how-to-root-your-routeros-v7-virtual-machine" rel="alternate" type="text/html" title="How to root your RouterOS v7 Virtual Machine" /><published>2022-06-01T00:00:00+09:00</published><updated>2022-06-01T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-06-01/how-to-root-routeros-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-06-01/how-to-root-your-routeros-v7-virtual-machine">&lt;h1 id=&quot;how-to-root-your-routeros-v7-virtual-machine&quot;&gt;How to root your RouterOS v7 Virtual Machine&lt;/h1&gt;

&lt;p&gt;Finding vulnerabilities in RouterOS is tricky, and this is especially because it does not provide a shell environment like ash or bash.&lt;/p&gt;

&lt;p&gt;Many vulnerability researchers working on RouterOS felt the same and found various ways to enable the root shell on RouterOS. Unfortunately, most of the methods are no longer available on the latest RouterOS version.&lt;/p&gt;

&lt;p&gt;Thankfully, there is a way to jailbreak RouterOS v7 using netboot functionality. &lt;a href=&quot;https://github.com/adron-s/mtik_initrd_hacks/issues&quot;&gt;This method&lt;/a&gt; achieves a root shell by booting through a modified kernel image. However, You need an actual RouterBOARD to use this method, and it is a bit complicated process to generate a modified kernel image and network boot through it.&lt;/p&gt;

&lt;p&gt;While researching RouterOS, we eventually wanted to use virtual machines as a testing environment for various reasons. The netboot jailbreak method doesnâ€™t work on virtual machines. So we had to find another way to acheive the root shell, and we did.&lt;/p&gt;

&lt;p&gt;This article suggests a simple trick to get a temporary root shell on RouterOS which can only be used on virtual machines and is easy to use.&lt;/p&gt;

&lt;h2 id=&quot;previously-on-routeros&quot;&gt;Previously on RouterOSâ€¦&lt;/h2&gt;

&lt;p&gt;RouterOS has a hidden â€œdevelâ€ login which is only enabled when specific conditions are met. When enabled, RouterOS gives you an ash shell if you login with id â€œdevelâ€ via telnet. Most of the RouterOS jailbreaking methods focus on enabling the â€œdevelâ€ login.&lt;/p&gt;

&lt;p&gt;Before RouterOS version 6.41, There were two options to enable the â€œdevelâ€ login feature.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;â€˜optionâ€™ package is installed.&lt;/li&gt;
  &lt;li&gt;/nova/etc/devel-login file exists.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;/nova/etc/devel-login was removed in version 6.41. So the only option left is the â€˜optionâ€™ package.&lt;/p&gt;

&lt;h2 id=&quot;devel-login-on-routeros-v7&quot;&gt;â€˜develâ€™ login on RouterOS v7&lt;/h2&gt;

&lt;p&gt;When the telnet connection is made, RouterOS uses /nova/bin/login binary for login authentication. This binary contains the code that checks whether the â€œdevelâ€ login option is enabled or not by checking the â€˜optionâ€™ package.&lt;/p&gt;

&lt;p&gt;/nova/bin/login checks if the â€˜optionâ€™ package is installed by executing nv::hasOptionPackage function. By analyzing /lib/libumsg.so library, you can see that nv::hasOptionPackage is equaviliant to nv::hasPackage(â€œoptionâ€).&lt;/p&gt;

&lt;p&gt;In RouterOS v7, nv::hasPackage returns true only when the following conditions are met&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;If the target is a symbolic link, it should point to â€œ/bndl/(package_name)â€ which is located in the read-only file system.&lt;/li&gt;
  &lt;li&gt;If the target is not a symbolic link, it should be stored in the read-only(squashfs) file system.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It is hard to bypass the nv::hasPackage function unless we have an arbitrary code execution vulnerability. Even if we somehow managed to pass the nv::hasPackage(â€œoptionâ€) check, the login binary explicitly executes â€œ/pckg/option/bin/bashâ€ as shell which does not exist by default. we still need to somehow write the shell binary on the location.&lt;/p&gt;

&lt;h2 id=&quot;simple-trick&quot;&gt;Simple trick&lt;/h2&gt;

&lt;p&gt;So, bypassing the â€œoptionâ€ package verifying code is not easy, Unless we can change the program code itself. But that would require you to modify the code running on the live memory. Thatâ€¦ is impossible. Isnâ€™t it?&lt;/p&gt;

&lt;p&gt;Wait, actually it is possible! Of course, it is. Itâ€™s a â€˜virtualâ€™ machine after all.&lt;/p&gt;

&lt;p&gt;What if the login binary checks for an â€œipv6â€ package instead of the â€œoptionâ€ package? What if the login binary executes â€œ/rw/disk/bashâ€ as shell instead of â€œ/pckg/option/bin/bashâ€?&lt;/p&gt;

&lt;p&gt;We can make that happen.&lt;/p&gt;

&lt;h2 id=&quot;how-to-root-your-routeros-vm&quot;&gt;How to root your RouterOS VM&lt;/h2&gt;

&lt;p&gt;What you need:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Ubuntu VM&lt;/li&gt;
  &lt;li&gt;RouterOS x86 ISO Image&lt;/li&gt;
  &lt;li&gt;VMWare Workstation&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Step:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;First, install RotuerOS on your VM. After the installation, turn the VM off.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Attach RouterOS VMâ€™s Disk to Ubuntu VM&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Boot the Ubuntu VM, and browse into RouterOS Diskâ€™s volume called â€˜RouterOSâ€™. Go to /RW/disk/ and execute the following command to download the busybox binary. Exit the Ubuntu VM.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo mkdir &lt;/span&gt;busybox &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;busybox
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;wget &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; ash https://www.busybox.net/downloads/binaries/1.31.0-i686-uclibc/busybox_ASH
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;wget https://www.busybox.net/downloads/binaries/1.31.0-i686-uclibc/busybox
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;a+x ash busybox
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Boot RouterOS VM and make several login attempts with the invalid credential.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Suspend the RouterOS VM. Go to the RouterOS VM folder and open vmem file with hex editor.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Find &amp;amp; Replace as follows&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Original: 00 2F 62 6E 64 6C 2F 00 6F 70 74 69 6F 6E 00
Replaced: 00 2F 62 6E 64 6C 2F 00 69 70 76 36 00 00 00

Original: 00 2F 70 63 6B 67 2F 6F 70 74 69 6F 6E 2F 62 69 6E 2F 62 61 73 68 00
Replaced: 00 2F 72 77 2F 64 69 73 6B 2F 62 75 73 79 62 6F 78 2F 61 73 68 00 00
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Save the vmem file. Resume the RouterOS VM&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Login with devel/(adminâ€™s password)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;You will get a shell. If not, repeat the process from stage 4.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Execute the following commands to install the busybox.
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /rw/disk/busybox
./busybox &lt;span class=&quot;nt&quot;&gt;--install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;:/rw/disk/busybox/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;If everything is done correctly, you should get an ash shell with busybox as the screenshot.
&lt;img src=&quot;/assets/2022-06-01-how-to-root-routeros/6d99def97b5f4aa312ca4519056a67ffb624cd4059f38c21bd7f9a08b82c530b.png&quot; alt=&quot;picture 4&quot; /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;limitation&quot;&gt;Limitation&lt;/h2&gt;

&lt;p&gt;This is a â€˜simple trickâ€™ method and the shell is not persistent. If you reboot the RouterOS VM, you will have to repeat the process from stage 4.&lt;/p&gt;</content><author><name>ì˜¤ì„¸ì¤€</name></author><category term="R&amp;D" /><summary type="html">How to root your RouterOS v7 Virtual Machine</summary></entry></feed>