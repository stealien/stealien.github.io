<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta property="og:type" content="article">
<meta property="og:image" content="http://ufo.stealien.com/assets/og_image.png">
<meta property="og:title" content="STEALIEN Technical Blog">
<meta property="og:description" content="Membangun sistem ERP menggunakan Slackbot">
<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700&display=swap" rel="stylesheet">
<title>Membangun sistem ERP menggunakan Slackbot</title>
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Membangun sistem ERP menggunakan Slackbot | STEALIEN Technical Blog</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Membangun sistem ERP menggunakan Slackbot" />
<meta name="author" content="이창호" />
<meta property="og:locale" content="id" />
<meta name="description" content="Membangun sistem ERP menggunakan Slackbot" />
<meta property="og:description" content="Membangun sistem ERP menggunakan Slackbot" />
<link rel="canonical" href="http://ufo.stealien.com/id/dev/2021/07/13/Slackbot%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-ERP-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%B6%95.html" />
<meta property="og:url" content="http://ufo.stealien.com/dev/2021/07/13/Slackbot%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-ERP-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%B6%95.html" />
<meta property="og:site_name" content="STEALIEN Technical Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-07-12T21:13:02-07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Membangun sistem ERP menggunakan Slackbot" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Membangun sistem ERP menggunakan Slackbot","url":"http://ufo.stealien.com/dev/2021/07/13/Slackbot%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-ERP-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%B6%95.html","dateModified":"2021-07-12T21:13:02-07:00","datePublished":"2021-07-12T21:13:02-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://ufo.stealien.com/dev/2021/07/13/Slackbot%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-ERP-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%B6%95.html"},"author":{"@type":"Person","name":"이창호"},"description":"Membangun sistem ERP menggunakan Slackbot","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name=“naver-site-verification” content=“74a9ec74d48a1ffca92bf9ac4704ba73be9afd65" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"/>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/assets/css/style.css">

<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">

<link rel="stylesheet" href="/id//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>

<link href="/assets/css/syntax.css" rel="stylesheet" >


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-06FFJEF76M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-06FFJEF76M');
</script>
</head>
<body>
	<header>
		<div class="container"></div><div id="header">
    <div class="container" style="display: flex;justify-content: space-between;">
        <a href="/id/">
            <img
                class="header_image_logo"
                src="/assets/logo.png"
                style="width: 140px; margin: 20px 28px 0px;"
            />
        </a>
        <a href="https://www.stealien.com/" target="_blank" style="font-family: 'NotoSansKR Medium', sans-serif;font-size: 14px;margin-right: 30px; color: #000; line-height: 70px;">스틸리언 홈페이지</a>
    </div>
</div>
</header>
	<section>
		<div>
			<div class="header_image_bg header_image_post" style="background-image: url('/assets/bg.png');">
    <div class="header_image_post_body">
        <div class="container">
            <div class="page-category">Dev</div>
            <div class="page-title">Membangun sistem ERP menggunakan Slackbot</div>
            <div class="page-summary">
                <div style="float:left;">
                    <img class="page-profile_image" src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/slackbot.png" />
                    <span>이창호</span>
                </div>
                <div style="float:right;" class="page-date">Jul 12, 2021</div>
            </div>
        </div>
    </div>
</div>
<div class="container page-content">
    <h1 id="membangun-sistem-erp-menggunakan-slackbot">Membangun sistem ERP menggunakan Slackbot</h1>

<h2 id="ringkasan">Ringkasan</h2>
<p>Sebelumnya, tidak ada sistem manajemen yang terpisah karena tidak banyak orang di perusahaan, tetapi dengan bertambahnya jumlah anggota perusahaan, diperlukan sesuatu yang dapat mengatur proses secara sistematis seperti permintaan/persetujuan/pengelolaan pembayaran.</p>

<p>Karena perusahaan telah lama menggunakan Slack sebagai in-house messenger, ada pendapat untuk mengelola proses pembayaran di Slack.</p>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/thirdparty.png" alt="thirdparty" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kami tidak memiliki aplikasi yang kami inginkan.</td>
    </tr>
  </tbody>
</table>

<p>Namun, saya mencari berbagai kata kunci seperti HR/Setuju/kantor/manajemen dan mencari aplikasi dalam kategori terkait, tetapi tidak ada aplikasi yang saya suka.</p>

<p>Setelah itu, saya mencari beberapa alternatif lagi, tetapi pada akhirnya, saya sampai pada kesimpulan bahwa yang terbaik adalah menerapkannya sendiri.</p>

<h2 id="konfigurasi-lingkungan">konfigurasi lingkungan</h2>
<p>Pertama, Anda memerlukan server web untuk menangani acara slackbot. Saya membangun server yang menangani permintaan menggunakan Flask dan mengatur semua koneksi domain untuk terhubung dari luar.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/slack_msg"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">slack_msg</span><span class="p">():</span>
    <span class="n">slack_event</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">make_response</span><span class="p">(</span><span class="n">slack_event</span><span class="p">[</span><span class="s">"challenge"</span><span class="p">],</span> <span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="s">"content_type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">})</span>
    <span class="c1"># Untuk verifikasi server, data tantangan slackbot harus dikembalikan, dan setelah verifikasi server selesai, data tersebut dapat dihapus.
</span><span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">"0.0.0.0"</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8391</span><span class="p">)</span>
</code></pre></div></div>

<p><br />
Setelah itu, atur pengaturan terkait bot di https://api.slack.com/apps.</p>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/1.create_slackbot.png" alt="create_slackbot" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>membuat bot</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/2.event_subscription.png" alt="event_subscription" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Siapkan Langganan Acara</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/3.request_url.png" alt="request_url" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Masukkan url server yang Anda buat sebelumnya.</td>
    </tr>
  </tbody>
</table>

<p>Sekarang mari kita uji apakah lingkungan yang dibangun bekerja secara normal.</p>

<table>
  <tbody>
    <tr>
      <td><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/4.dm_slack.png" alt="request_url" style="max-width:800px; height:auto;" /></td>
    </tr>
  </tbody>
</table>

<p>Jika Anda mengirim DM ke slackbot</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:{</span><span class="w">
      </span><span class="err">...</span><span class="w">
              </span><span class="nl">"elements"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"text"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"text"</span><span class="p">:</span><span class="s2">"Hello World!"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>Anda dapat melihat bahwa acara tersebut berjalan dengan baik.</p>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/5.slackbot_token.png" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pastikan token tidak terekspos ke luar</td>
    </tr>
  </tbody>
</table>

<p>Sekarang, setelah mendapatkan token slackbot untuk berinteraksi</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">make_response</span>
<span class="kn">from</span> <span class="nn">slack</span> <span class="kn">import</span> <span class="n">WebClient</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">app</span>  <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">slack</span> <span class="o">=</span> <span class="n">WebClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="s">"my-secret-token"</span><span class="p">)</span>
<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/slack_msg"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">slack_msg</span><span class="p">():</span>
    <span class="n">slack_event</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">data</span><span class="p">)</span>
    <span class="n">user_message</span> <span class="o">=</span> <span class="n">slack_event</span><span class="p">[</span><span class="s">"event"</span><span class="p">][</span><span class="s">"blocks"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">"elements"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">"elements"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">"text"</span><span class="p">]</span>
    <span class="n">user</span>         <span class="o">=</span> <span class="n">slack_event</span><span class="p">[</span><span class="s">"event"</span><span class="p">][</span><span class="s">"user"</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">user_message</span> <span class="o">==</span> <span class="s">"Hello World!"</span><span class="p">:</span>
        <span class="n">slack</span><span class="p">.</span><span class="n">chat_postMessage</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">user</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">user_message</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">make_response</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="s">"X-Slack-No-Retry"</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">"0.0.0.0"</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8391</span><span class="p">)</span>
</code></pre></div></div>

<p>Jika Anda menulis kode seperti ini</p>

<table>
  <tbody>
    <tr>
      <td><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/6.response.png" style="max-width:800px; height:auto;" /></td>
    </tr>
  </tbody>
</table>

<p>Anda dapat melihat pengguna berinteraksi dengan slackbot.</p>

<h2 id="implementasi-fitur">Implementasi fitur</h2>
<p>Akhirnya, pengaturan lingkungan selesai. Sekarang mari kita masuk ke implementasi fungsi yang sebenarnya.</p>

<p>Hal pertama yang harus dipertimbangkan adalah “bagaimana menerima permintaan pengguna”.</p>

<p>Awalnya, permintaan pengguna ditangani oleh input teks.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$Ajukan cuti
Liburan: Lee Chang-ho
Tanggal Liburan: 1/7 ~ 12/31
Alasan: alasan pribadi
</code></pre></div></div>
<p>Dengan menandai bot, menginformasikan bahwa “pengguna telah mengirim permintaan”, memisahkan permintaan dengan $, dan kemudian mengisi konten sesuai dengan formulir.</p>

<p>Namun, ketika metode ini digunakan, pengguna harus menyalin dan menempelkan konten setiap kali mereka mendaftar untuk menulis konten, dan sisi server harus menerima konten yang diminta dan memprosesnya dengan ekspresi reguler, yang tidak praktis untuk kedua sisi.</p>

<p>Sebagai alternatif untuk ini, modal slackbot ditemukan.</p>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/7.slackbot_modal.png" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Untuk informasi lebih lanjut, kunjungi https://api.slack.com/surfaces/modals/using</td>
    </tr>
  </tbody>
</table>

<p>Modal adalah metode yang membuat formulir sesuai keinginan pengembang dan memproses permintaan jika pengguna hanya memasukkannya sesuai dengan formulir.</p>

<p>Padahal, dengan membuat form terlebih dahulu dengan modal, pengguna hanya perlu menginput nilai dan developer hanya perlu mendapatkan nilai dari format yang telah ditetapkan, sehingga logika yang ada dapat ditangani dengan lebih rapi.</p>

<p>Untuk menggunakan modal, modal harus diatur untuk menangani tindakan pengguna (acara dan tindakan berbeda).</p>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/8.action_url.png" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Tidak seperti Langganan Acara, proses verifikasi url terdaftar tidak diperlukan.</td>
    </tr>
  </tbody>
</table>

<p>Pertama, daftarkan URL untuk memproses tindakan di slackbot.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">request_buttons</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"type"</span><span class="p">:</span><span class="s">"actions"</span><span class="p">,</span>
      <span class="s">"block_id"</span><span class="p">:</span><span class="s">"msg_button_click"</span><span class="p">,</span>
      <span class="s">"elements"</span><span class="p">:[</span>
        <span class="p">{</span>
          <span class="s">"type"</span><span class="p">:</span><span class="s">"button"</span><span class="p">,</span>
          <span class="s">"action_id"</span><span class="p">:</span><span class="s">"msg_button_click_vacation"</span><span class="p">,</span>
          <span class="s">"text"</span><span class="p">:{</span>
            <span class="s">"type"</span><span class="p">:</span><span class="s">"plain_text"</span><span class="p">,</span>
            <span class="s">"text"</span><span class="p">:</span><span class="s">"Tinggalkan permintaan"</span><span class="p">,</span>
            
          <span class="p">},</span>
          <span class="s">"value"</span><span class="p">:</span><span class="s">"request_vacation_button"</span>
        <span class="p">}</span>        
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>

<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/slack_msg"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">slack_msg</span><span class="p">():</span>
    <span class="n">slack_event</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">data</span><span class="p">)</span>
    <span class="n">user_message</span> <span class="o">=</span> <span class="n">slack_event</span><span class="p">[</span><span class="s">"event"</span><span class="p">][</span><span class="s">"blocks"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">"elements"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">"elements"</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">"text"</span><span class="p">]</span>
    <span class="n">user</span>         <span class="o">=</span> <span class="n">slack_event</span><span class="p">[</span><span class="s">"event"</span><span class="p">][</span><span class="s">"user"</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">user_message</span> <span class="o">==</span> <span class="s">"Tinggalkan permintaan"</span><span class="p">:</span>
        <span class="n">slack</span><span class="p">.</span><span class="n">chat_postMessage</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">user</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">user_message</span><span class="p">,</span> <span class="n">blocks</span><span class="o">=</span><span class="n">request_buttons</span><span class="p">)</span>
</code></pre></div></div>

<p>Tulis kode untuk membuat tombol ketika input tertentu diterima</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">"/action"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">action</span><span class="p">():</span>
    <span class="n">slack_event</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">form</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"payload"</span><span class="p">))</span>
    <span class="n">trigger_id</span> <span class="o">=</span> <span class="n">slack_event</span><span class="p">[</span><span class="s">"trigger_id"</span><span class="p">]</span>
    <span class="c1">#modal view를 열기 위해서는 action의 input data중 하나인 trigger_id가 필요하며 해당 값은 3초간 유효하다.
</span>    <span class="n">slack</span><span class="p">.</span><span class="n">views_open</span><span class="p">(</span><span class="n">trigger_id</span><span class="o">=</span><span class="n">trigger_id</span><span class="p">,</span> <span class="n">view</span><span class="o">=</span><span class="n">modal</span><span class="p">.</span><span class="n">request_vacation</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">make_response</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="s">"X-Slack-No-Retry"</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
</code></pre></div></div>

<p>들어온 action을 처리할 코드를 짜준다.</p>
<ul>
  <li>modal view 코드는 너무 길어서 <a href="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/modal_view.html" target="_blank">링크</a>로 대체한다.</li>
</ul>

<p>이렇게 해주면 slackbot을 (드디어)interactive하게 사용할 수 있다.</p>

<table>
  <tbody>
    <tr>
      <td><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/9.interactive_sample.png" style="max-width:800px; height:auto;" /></td>
    </tr>
  </tbody>
</table>

<p>지정한 input이 들어오면 버튼을 생성해주고</p>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/10.modal.png" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>개발은 텍스트 input으로 받는게 더 쉬웠다는건 비밀</td>
    </tr>
  </tbody>
</table>

<p>버튼을 누르면 이런 창이 나온다.</p>

<p>여기까지 왔으면 절반은 완성된거다. 나머지 필요한 로직들은 지금까지 개발했던 코드들을 활용해 주기만 하면 된다.</p>

<p>이후 구현한 알고리즘은 아래와 같다.</p>
<ul>
  <li>관리자 채널에 요청한 내용을 전달해준다.</li>
  <li>관리자는 요청을 승인or거절한다.</li>
  <li>직원에게는 결과를 dm으로 보내고 이력을 저장한다.</li>
</ul>

<p>사용자가 요청을 Submit했을 때 관련 데이터는 /action으로 들어오게 되고, 그 다음은 입맛에 맞게 코딩하다 보면 어느순간 프로그램은 완성되어 있을 것이다.</p>

<h3 id="후기">후기</h3>
<p>slackbot을 활용해 보면서 느낀 점은 slack을 활용하기에 따라서 만들 수 있는 것들이 무궁무진해 진다는 것이다.</p>

<p>결재요청 프로그램을 만들고 나서 회사가 자율출퇴근제로 변경이 됐는데, 지금은 출결관리도 slackbot으로 하고 있다.</p>

<table>
  <thead>
    <tr>
      <th><img src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/11.app_home.png" style="max-width:800px; height:auto;" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>이거 만들려고 원래 있던 코드 싹 갈아 엎고 새로 만들었다.</td>
    </tr>
  </tbody>
</table>

<p>위 기능은 slackbot의 app_home을 활용해 만들었으며, 관련된 내용은 다음에 기회가 된다면 포스팅  할 예정이다.</p>

    <div class="page-profile-detail">
        <div class="page-profile-detail-info">
            <div>
                <img class="page-profile_image-detail" src="/assets/2021-07-13-Slackbot을-활용한-ERP-시스템-구축/slackbot.png" />
            </div>
            <div style="position: relative; top: 12px;left: 10px;">
                <div class="page-profile-author">이창호</div>
                <div class="page-profile-email">chlee@stealien.com</div>
            </div>
        </div>
    </div>
</div>

<div class="recent-post-area">
    <div class="posts container">
        <div class="h1-recent-post">RECENT POST</div>
            <div class="row">
    <div class="col-sm-2 col-md-2">
        <div class="profile">
            <img src="/assets/stealien_inverse.png" class="profile_image" />
            <div class="profile_author">Minjoong Kim</div>
        </div>
    </div>
    <div class="col">
        <a href="/id/2024-03-10/Android-1day-Exploit-Analysis-ko">
            <div class="post-title">
                Android 1day Exploit Analysis (CVE-2019-2215)
            </div>
        </a>
        <div class="post-summary">Android 1day Exploit Analysis by Newbie</div>
        <div class="post-info">
            <span style="color: #545454" class="post-author-mobile">
                Minjoong Kim
                <span style="color: #f5f5f5; margin: 2px">|</span>
            </span>
            Mar 10, 2024
            <span style="color: #f5f5f5; margin: 2px">|</span>
            <span>R&D</span>
        </div>
    </div>
</div><div class="row">
    <div class="col-sm-2 col-md-2">
        <div class="profile">
            <img src="/assets/stealien_inverse.png" class="profile_image" />
            <div class="profile_author">이주협, 이주영</div>
        </div>
    </div>
    <div class="col">
        <a href="/id/2024-02-05/IoT-TechBlog-ko">
            <div class="post-title">
                뉴비들의 하드웨어 해킹 입문기
            </div>
        </a>
        <div class="post-summary">뉴비들의 하드웨어 해킹 입문기</div>
        <div class="post-info">
            <span style="color: #545454" class="post-author-mobile">
                이주협, 이주영
                <span style="color: #f5f5f5; margin: 2px">|</span>
            </span>
            Feb 5, 2024
            <span style="color: #f5f5f5; margin: 2px">|</span>
            <span>R&D</span>
        </div>
    </div>
</div>
        </div>
    </div>
</div>
		</div>
	</section><footer>
  <div class="container" style="display: flex; justify-content: space-between;">
    <!-- <a href="#top">
      <img src="/assets/white_logo.png" class="footer-logo" />
    </a> -->
    <div class="footer-copyright">Copyright &copy; Stealien Inc.</div>
    <div class="footer-icons">
      <a target="_blank" href="https://twitter.com/stealien"><img class="sns" src="/assets/icons/twitter_ic.png"/></a>
      <a target="_blank" href="https://blog.naver.com/stealien_official"><img class="sns" src="/assets/icons/blog_ic.png"/></a>
      <a target="_blank" href="https://www.facebook.com/stealien/"><img class="sns" src="/assets/icons/facebook_ic.png"/></a>
      <a target="_blank" href="https://www.youtube.com/c/STEALIEN"><img class="sns" src="/assets/icons/youtube_ic.png"/></a>
    </div>
  </div>
</footer></body>
</html>
