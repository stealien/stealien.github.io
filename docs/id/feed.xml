<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="http://ufo.stealien.com/id/feed.xml" rel="self" type="application/atom+xml" /><link href="http://ufo.stealien.com/id/" rel="alternate" type="text/html" /><updated>2024-02-06T16:29:13+09:00</updated><id>http://ufo.stealien.com/feed.xml</id><title type="html">STEALIEN Technical Blog</title><subtitle>ì²¨ë‹¨ê¸°ìˆ ì„ ê°„í¸í•˜ê²Œ ì œê³µí•˜ëŠ” ê¸°ì—…, ìŠ¤í‹¸ë¦¬ì–¸ì´ ìš´ì˜í•˜ëŠ” ê¸°ìˆ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.</subtitle><entry xml:lang="ko"><title type="html">ë‰´ë¹„ë“¤ì˜ í•˜ë“œì›¨ì–´ í•´í‚¹ ì…ë¬¸ê¸°</title><link href="http://ufo.stealien.com/id/2024-02-06/IoT-TechBlog-ko" rel="alternate" type="text/html" title="ë‰´ë¹„ë“¤ì˜ í•˜ë“œì›¨ì–´ í•´í‚¹ ì…ë¬¸ê¸°" /><published>2024-02-06T10:00:00+09:00</published><updated>2024-02-06T10:00:00+09:00</updated><id>http://ufo.stealien.com/2024-02-06/IoT-TechBlog-ko</id><content type="html" xml:base="http://ufo.stealien.com/2024-02-06/IoT-TechBlog-ko">&lt;h1 id=&quot;ë‰´ë¹„ë“¤ì˜-í•˜ë“œì›¨ì–´-í•´í‚¹-ì…ë¬¸ê¸°&quot;&gt;ë‰´ë¹„ë“¤ì˜ í•˜ë“œì›¨ì–´ í•´í‚¹ ì…ë¬¸ê¸°&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;ì´ í¬ìŠ¤íŠ¸ëŠ” ìŠ¤í‹¸ë¦¬ì–¸ ì„ ì œëŒ€ì‘íŒ€ì˜ â€˜ì´ì£¼í˜‘â€™ ì„ ì„ ì—°êµ¬ì›ë‹˜ê³¼ â€˜ì´ì£¼ì˜â€™ ì—°êµ¬ì›ë‹˜ì´ ì •ì„±ìŠ¤ëŸ½ê²Œ ì‘ì„± í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

  &lt;p&gt;ì„ ì œëŒ€ì‘íŒ€(Team Defend Forward)ì€ IoT, ì„ë² ë””ë“œ ë””ë°”ì´ìŠ¤, ë„¤íŠ¸ì›Œí¬ ë””ë°”ì´ìŠ¤ê°™ì€ ì¥ë¹„ì˜ ì·¨ì•½ì  ë¶„ì„ì€ ë¬¼ë¡ ì´ê³ ,
ëª¨ë°”ì¼ ë””ë°”ì´ìŠ¤ ì–´í”Œë¦¬ì¼€ì´ì…˜, ì›¹ ì„œë¹„ìŠ¤/ì–´í”Œë¦¬ì¼€ì´ì…˜, ë°ìŠ¤í¬íƒ‘/ì„œë²„ ì–´í”Œë¦¬ì¼€ì´ì…˜/ì„œë¹„ìŠ¤ ë“± ë‹¤ì–‘í•œ ì†Œí”„íŠ¸ì›¨ì–´ì— ëŒ€í•œ
í™”ì´íŠ¸ë°•ìŠ¤/ë¸”ë™ë°•ìŠ¤ íœí…ŒìŠ¤íŒ… ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

  &lt;p&gt;by ì„ ì œëŒ€ì‘íŒ€ íŒ€ì¥ ê¹€ë„í˜„&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;ëª©ì°¨&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;UART
    &lt;ul&gt;
      &lt;li&gt;í•„ìš”í•œ ì¥ë¹„ ì •ë¦¬&lt;/li&gt;
      &lt;li&gt;ë©”ì¸ ì¹©ì…‹ ë°ì´í„° ì‹œíŠ¸ ì°¸ê³ í•˜ëŠ” ë²•&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Desoldering&lt;/li&gt;
  &lt;li&gt;FlashROMì„ í†µí•œ íŒì›¨ì–´ ì¶”ì¶œ&lt;/li&gt;
  &lt;li&gt;íŒì›¨ì–´ ì¡°ì‘ - ì‰˜ ë–¨êµ¬ê¸°&lt;/li&gt;
  &lt;li&gt;Soldering&lt;/li&gt;
  &lt;li&gt;Glitching
    &lt;ul&gt;
      &lt;li&gt;Serial Data Output Pin Glitching&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;1-ì¸íŠ¸ë¡œ&quot;&gt;1. ì¸íŠ¸ë¡œ&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;ë³¸ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ëŠ” SPIë¥¼ ì‚¬ìš©í•˜ëŠ” Routerì˜ í•˜ë“œì›¨ì–´ í•´í‚¹ì„ ê¸°ì¤€ í•´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ë¼ìš°í„°ì˜ êµ¬í˜„ì— ë”°ë¥¸ í•œê°€ì§€ ë°©ë²•ì¼ ë¿, ì¼ë°˜ì ìœ¼ë¡œ í†µìš©ë˜ëŠ” í•˜ë“œì›¨ì–´ í•´í‚¹ ë°©ë²•ë¡ ì´ ì•„ë‹˜ì„ ëª…ì‹œí•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;2-uart&quot;&gt;2. UART&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/UART.drawio.png&quot; alt=&quot;UART drawio&quot; /&gt;&lt;/p&gt;

&lt;p&gt;UART(Universal Asynchronous Receiver/Transmitter)ëŠ” ë‘ í•˜ë“œì›¨ì–´ ê¸°ê¸°ê°€ ì„œë¡œ Serial í†µì‹ í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤. ì£¼ë¡œ í•˜ë“œì›¨ì–´ ê°œë°œìë“¤ì´ ë””ë²„ê¹… ìš©ë„ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;21-uartë¥¼-ì‚¬ìš©í•˜ëŠ”-ì´ìœ &quot;&gt;2.1. UARTë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ &lt;/h3&gt;

&lt;p&gt;ê²½ìš°ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ UARTë¡œ Login Prompt ë˜ëŠ” OS Shellì„ ì œê³µí•˜ëŠ” í•˜ë“œì›¨ì–´ ê¸°ê¸°ê°€ ìˆìŠµë‹ˆë‹¤. í•˜ë“œì›¨ì–´ ê¸°ê¸°ì˜ ì‰˜ì— ì ‘ê·¼í•˜ë©´ ê¸°ê¸° ë‚´ì— ë™ì‘í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ í™•ì¸í•˜ê±°ë‚˜ gdbì™€ ê°™ì€ ë””ë²„ê±°ë¥¼ ì›ê²©ìœ¼ë¡œ ì—…ë¡œë“œí•˜ì—¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§ì ‘ ë””ë²„ê¹…í•˜ëŠ” ë“±ì˜ ë¶„ì„ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;UARTë¡œ ì‰˜ì„ ì œê³µí•˜ì§€ ì•Šë”ë¼ë„ ë¶€íŒ… ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš°, ë¶€íŒ… ë¡œê·¸ì— íŒì›¨ì–´ ë³µí˜¸í™” í‚¤ì™€ ê°™ì€ ë¯¼ê°í•œ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í•˜ë“œì›¨ì–´ ê¸°ê¸°ì˜ UARTë¥¼ í™•ì¸í•´ì•¼ í•˜ëŠ” ê·¼ê±°ëŠ” ì¶©ë¶„í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;22-uart-ì—°ê²°-ì¤€ë¹„&quot;&gt;2.2. UART ì—°ê²° ì¤€ë¹„&lt;/h3&gt;

&lt;p&gt;UART ì—°ê²°ì— í•„ìš”í•œ ì¥ë¹„ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì¥ë¹„&lt;/th&gt;
      &lt;th&gt;ì—­í• &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;USB to TTL&lt;/td&gt;
      &lt;td&gt;ê¸°ê¸°ì˜ UARTì™€ PC ê°„ ì‹œë¦¬ì–¼ í†µì‹ ì„ ìœ„í•œ USB Converter&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì í¼ ì¼€ì´ë¸”(optional)&lt;/td&gt;
      &lt;td&gt;USB to TTLê³¼ ê¸°ê¸°ì˜ UART í•€ì„ ì—°ê²°í•˜ëŠ” ì¼€ì´ë¸”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;MultiMeter&lt;/td&gt;
      &lt;td&gt;ì „ê¸° ë° ì „ì ì¥ë¹„ì˜ ì „ì••, ì „ë¥˜, ì €í•­ ë“±ì„ ì¸¡ì •í•˜ëŠ” í…ŒìŠ¤íŠ¸ê¸°&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;221-uartì˜-ì¢…ë¥˜&quot;&gt;2.2.1. UARTì˜ ì¢…ë¥˜&lt;/h3&gt;

&lt;p&gt;UARTì— ì—°ê²°í•˜ê¸° ì „ ê¸°ê¸°ë§ˆë‹¤ ê°€ì§ˆ ìˆ˜ ìˆëŠ” UART í˜•íƒœì˜ ì¢…ë¥˜ë¥¼ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/ipTIME_N704VS_UART.jpg&quot; alt=&quot;ipTIME N704VS router UART PIN&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ipTIME N704VS router UART PIN&lt;/p&gt;

&lt;p&gt;ipTIME N704VS ë¼ìš°í„°ì˜ ê²½ìš°, UARTì— í•€ í—¤ë”ê°€ ì—°ê²°ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê° í•€ì˜ ì—­í• ë§Œ ì°¾ìœ¼ë©´ ë°”ë¡œ USB to TTLê³¼ ì—°ê²°í•˜ì—¬ Serial í†µì‹ ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/Netis_UART.jpg&quot; alt=&quot;Netis router UART PIN&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Netis router UART PIN&lt;/p&gt;

&lt;p&gt;Netis ë¼ìš°í„°ì˜ UART í•€ì…ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ UART í•€ì€ ìœ„ ì‚¬ì§„ê³¼ ê°™ì´ 4ê°œì˜ íŒ¨ë“œë¡œ ì¡´ì¬í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê²½ìš° ì•”-ìˆ˜ ì í¼ ì¼€ì´ë¸”ì„ ì—°ê²°í•˜ê±°ë‚˜, í™€ì— í—¤ë”í•€ì„ ë‚©ë•œí•˜ì—¬ ì•”-ì•” ì í¼ì¼€ì´ë¸”ë¡œ USB to TTLê³¼ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;222-ì í¼-ì¼€ì´ë¸”-ì¢…ë¥˜&quot;&gt;2.2.2. ì í¼ ì¼€ì´ë¸” ì¢…ë¥˜&lt;/h3&gt;

&lt;p&gt;ì í¼ ì¼€ì´ë¸”ì˜ ì¢…ë¥˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì¼€ì´ë¸” ëª…&lt;/th&gt;
      &lt;th&gt;ì„¤ëª…&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ì•”-ì•” ì í¼ ì¼€ì´ë¸”&lt;/td&gt;
      &lt;td&gt;ì¼€ì´ë¸” í—¤ë”ì— í•€ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„ UART í•€ê³¼ íƒˆë¶€ì°©í•  ìˆ˜ ìˆëŠ” ì¼€ì´ë¸”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì•”-ìˆ˜ ì í¼ ì¼€ì´ë¸”&lt;/td&gt;
      &lt;td&gt;ì¼€ì´ë¸”ì˜ í•œìª½ í—¤ë”ì—ë§Œ í•€ì´ ê³ ì • ë˜ì–´ìˆëŠ” ì¼€ì´ë¸”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ìˆ˜-ìˆ˜ ì í¼ ì¼€ì´ë¸”&lt;/td&gt;
      &lt;td&gt;ì¼€ì´ë¸”ì˜ ì–‘ìª½ í—¤ë”ì— í•€ì´ ê³ ì • ë˜ì–´ìˆëŠ” ì¼€ì´ë¸”&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ì¼ë°˜ USB to TTLì€ ë³„ë„ì˜ ì•”-ìˆ˜ ì í¼ ì¼€ì´ë¸”ì´ë‚˜ ì•”-ì•” ì í¼ ì¼€ì´ë¸”ê³¼ í•€ í—¤ë”ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¼€ì´ë¸” ì¼ì²´í˜• USB to TTLì€ ì•”-ì•” ì í¼ ì¼€ì´ë¸”ì´ ë‚´ì¥ë˜ì–´ ìˆì–´ ë³„ë„ì˜ ì•”-ì•” ì í¼ ì¼€ì´ë¸” ì—†ì´ë„ UART í•€ì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° UART í•€ì˜ ì—­í• ì„ ì í¼ ì¼€ì´ë¸”ì˜ ìƒ‰ê¹”ë¡œ êµ¬ë¶„í•˜ì—¬ ì—°ê²°í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;223-uart-pinì˜-ì¢…ë¥˜&quot;&gt;2.2.3. UART Pinì˜ ì¢…ë¥˜&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/UART_Pin.drawio.png&quot; alt=&quot;UART Pin drawio&quot; /&gt;&lt;/p&gt;

&lt;p&gt;UART í•€ì˜ ê° ì—­í• ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;UART í•€&lt;/th&gt;
      &lt;th&gt;ì—­í• &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;GND&lt;/td&gt;
      &lt;td&gt;ë©”ì¸ ë³´ë“œì˜ ê¸°ì¤€ ì „ì••ì„ ë§ì¶°ì£¼ëŠ” í•€&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;TX&lt;/td&gt;
      &lt;td&gt;ì‹œë¦¬ì–¼ ë°ì´í„°ë¥¼ ì†¡ì‹ í•˜ëŠ” í•€&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;RX&lt;/td&gt;
      &lt;td&gt;ì‹œë¦¬ì–¼ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ëŠ” í•€&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;VCC&lt;/td&gt;
      &lt;td&gt;ì „ì›ì„ ê³µê¸‰í•˜ëŠ” í•€&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;í•˜ë“œì›¨ì–´ ê¸°ê¸°ì— ì „ì› ì¼€ì´ë¸”ì„ í†µí•´ì„œ ì „ì› ê³µê¸‰ì´ ê°€ëŠ¥í•˜ë‹¤ë©´ VCC í•€ì€ ì—°ê²°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;UART í•€ì˜ ì—­í• ì„ ì•Œì•„ë³´ì•˜ìœ¼ë‹ˆ ê° UART í•€ì„ ì‹ë³„í•´ ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;23-uart-pin-ì‹ë³„&quot;&gt;2.3. UART PIN ì‹ë³„&lt;/h2&gt;

&lt;h3 id=&quot;231-uart-gnd-pin-ì‹ë³„&quot;&gt;2.3.1. UART GND PIN ì‹ë³„&lt;/h3&gt;

&lt;p&gt;UARTì˜ GND í•€ì€ ë©€í‹°ë¯¸í„°ë¥¼ í†µí•´ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë©€í‹°ë¯¸í„°ì˜ Conductivity ëª¨ë“œëŠ” ì „ê¸°íšŒë¡œê°€ ì„œë¡œ ì—°ê²° ë˜ì–´ìˆì„ ë•Œ ë¶€ì €ìŒì„ ì¶œë ¥í•©ë‹ˆë‹¤. PCB&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;ì—ì„œ SPI Flash ì¹©ì˜ GND í•€ê³¼ UARTì˜ GND í•€ì€ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë”°ë¼ì„œ SPI Flash ì¹©ì˜ GND í•€ ìœ„ì¹˜ë¥¼ ì°¾ê³  ê° UART í•€ê³¼ í•œë²ˆì”© ì—°ê²°í•´ë³´ëŠ” ë°©ì‹ìœ¼ë¡œ ë¶€ì €ìŒì„ í†µí•´ì„œ UARTì˜ GND í•€ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;(1) SPI Flash Chip GND PIN â†’ UART GND PIN&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;SPI Flash ì¹©ì—ì„œ GND í•€ ìœ„ì¹˜ëŠ” ë°ì´í„° ì‹œíŠ¸ë¥¼ í†µí•´ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. SPI Flash ì¹©ì˜ ëª¨ë¸ëª…ì„ í™•ì¸í•˜ì—¬ ë°ì´í„° ì‹œíŠ¸ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/flashchip.jpg&quot; alt=&quot;SPI Flash chip&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/flashchip_datasheet.png&quot; alt=&quot;SPI Flash chip datasheet&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/flashchip_datasheet_table.png&quot; alt=&quot;SPI Flash chip datasheet table&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë°ì´í„° ì‹œíŠ¸ë¥¼ í†µí•´ SPI Flash ì¹©ì˜ GND í•€ì€ ì ì„ ê¸°ì¤€ìœ¼ë¡œ 4ë²ˆì§¸ í•€ì¸ VSS í•€ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì œ UARTì˜ GND í•€ì„ ì‹ë³„í•´ë´…ì‹œë‹¤. ê¸°ê¸°ì— ì „ì›ì„ ê³µê¸‰í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ, ë©€í‹°ë¯¸í„°ë¥¼ Conductivity ëª¨ë“œë¡œ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/conductivity_mode.jpg&quot; alt=&quot;conductivity mode&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë©€í‹°ë¯¸í„°ì˜ ê²€ì€ ë¦¬ë“œì„ &lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;ì„ SPI Flash ì¹©ì˜ GND í•€ì— ê³ ì •í•œ ìƒíƒœì—ì„œ ë¹¨ê°„ ë¦¬ë“œì„ ì„ ê° UART í•€ì— í•œë²ˆì”© ì—°ê²°í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;(2) Other Method&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ë°ì´í„°ì‹œíŠ¸ë¥¼ ì°¾ì§€ ëª»í•œ ì´ìœ ë¡œ SPI Flash ì¹©ì˜ GND í•€ ìœ„ì¹˜ë¥¼ ì°¾ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê²½ìš°ì—ëŠ” ë©€í‹°ë¯¸í„°ì˜ ê²€ì€ ë¦¬ë“œì„ ì„ PCBì˜ êµ¬ë¦¬ í™€ì— ì—°ê²°í•˜ê³ , ë¹¨ê°„ ë¦¬ë“œì„ ì„ ê° UART í•€ì— í•œë²ˆì”© ì—°ê²°í•˜ì—¬ UARTì˜ GND í•€ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;232-tx--rx-ì‹ë³„&quot;&gt;2.3.2. TX &amp;amp; RX ì‹ë³„&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;(1) MCUì™€ UARTì˜ ë‹¨ë½ ìƒíƒœ ê²€ì‚¬&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;UARTì˜ TX, RXí•€ì€ MCUì˜ TXì™€ RX í•€ê³¼ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì´ìš©í•´ì„œ MCUì˜ TXì™€ RX í•€ì„ ì°¾ê³  ë©€í‹°ë¯¸í„° Conductivity ëª¨ë“œë¡œ UARTì˜ TXì™€ RX í•€ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/mcu.jpg&quot; alt=&quot;mcu&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ê²½ìš°ì— ë”°ë¼ MCU ìœ„ì— ë°©ì—´íŒì´ ë®ê³  ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. MCUë¥¼ ë®ê³  ìˆëŠ” ë°©ì—´íŒì„ ì œê±°í•˜ê³  MCU ì¹© ì •ë³´ë¥¼ í™•ì¸í•˜ì—¬ ë°ì´í„° ì‹œíŠ¸ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/mcu_datasheet.png&quot; alt=&quot;mcu datasheet&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/mcu_datasheet_table.png&quot; alt=&quot;mcu datasheet table&quot; /&gt;&lt;/p&gt;

&lt;p&gt;UART í•€ì€ 125ë²ˆ í•€ê³¼ 126ë²ˆ í•€ì…ë‹ˆë‹¤. MCUì˜ ê¸°ì¤€ì (ì‚¬ì§„ì˜ ë¹¨ê°„ ë™ê·¸ë¼ë¯¸)ì„ ë°”íƒ•ìœ¼ë¡œ 125ë²ˆ, 126ë²ˆ í•€ì˜ ì‹¤ì œ ìœ„ì¹˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/mcu_highlighted.jpg&quot; alt=&quot;mcu highlighted&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ì œ ê¸°ê¸°ì— ì „ì›ì„ ê³µê¸‰í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë©€í‹°ë¯¸í„°ë¥¼ Conductivity ëª¨ë“œë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ê²€ì€ìƒ‰ ë¦¬ë“œì„ ì„ MCUì˜ RXì— ê³ ì •í•˜ê³  ë¹¨ê°„ìƒ‰ ë¦¬ë“œì„ ì„ ê° UART í•€ì— ì—°ê²°í–ˆì„ ë•Œ, ë¶€ì €ìŒì„ ì¶œë ¥í•˜ëŠ” í•€ì´ UARTì˜ RX í•€ì…ë‹ˆë‹¤. TXë„ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‹ë³„í•´ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;(2) í•€ì˜ ì „ì••, ì „ë¥˜ ì¸¡ì •&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ì´ë²ˆì—ëŠ” MCUì˜ ë°ì´í„°ì‹œíŠ¸ê°€ ì—†ì–´ RXì™€ TXë¥¼ ì°¾ì§€ ëª»í•œ ê²½ìš°ì— UARTì˜ RXì™€ TX í•€ì„ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì‚¬ìš©í•´ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;ë©€í‹°ë¯¸í„°ë¥¼ DCV(ì§ë¥˜ì „ì••) ëª¨ë“œë¡œ ì„¤ì •í•œ í›„ ê²€ì€ìƒ‰ í”„ë¡œë¸Œë¥¼ COM ë‹¨ì, ë¹¨ê°„ìƒ‰ í”„ë¡œë¸Œë¥¼ V-Î© ë‹¨ìì— ì—°ê²°í•©ë‹ˆë‹¤. ê¸°ê¸°ì— ì „ì›ì„ ê³µê¸‰í•œ í›„, ê²€ì€ìƒ‰ ë¦¬ë“œì„ ì„ ê¸°ê¸°ì˜ GNDì™€ ì ‘ì´‰í•˜ê³ , ë¹¨ê°„ìƒ‰ ë¦¬ë“œì„ ì€ ì‹ë³„í•˜ê³ ì í•˜ëŠ” UARTí•€ê³¼ ì ‘ì´‰í•˜ì—¬ ì „ì••ì„ ì¸¡ì •í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/dcv.jpg&quot; alt=&quot;dcv&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì¼ë°˜ì ìœ¼ë¡œ ì „ì••ì´ 2.4V ~ 3.3V ì‚¬ì´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ë³€í•œë‹¤ë©´ TX í•€, ì „ì••ì´ 0.0Vì´ë©´ RX í•€ì…ë‹ˆë‹¤. TX í•€ì€ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ì†¡ì‹ í•˜ê¸° ë•Œë¬¸ì— 2.4V ~ 3.3V ì‚¬ì´ì—ì„œ ì „ì••ì´ ì§€ì†ì ìœ¼ë¡œ ë³€í•©ë‹ˆë‹¤. RX í•€ì€ ì†¡ì‹  í–‰ìœ„ ì—†ì´ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ì—­í• ë§Œ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— 0.0Vì˜ ì „ì••ì„ ë„ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì „ì›ì´ ë“¤ì–´ì˜¨ ìƒíƒœì—ì„œ TXì™€ RXì˜ ì „ì••ì„ ì¸¡ì •í•  ë•Œ ë…¸ì´ì¦ˆê°€ ë°œìƒí•˜ë¯€ë¡œ ê²½ìš°ì— ë”°ë¼ UARTì˜ TXì™€ RX ì „ì••ì´ ê±°ì˜ ë™ì¼í•˜ê²Œ ì¸¡ì •ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì „ì••ìœ¼ë¡œ TXì™€ RXë¥¼ êµ¬ë¶„í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ë¼ë©´ ì „ë¥˜ë¥¼ ì¸¡ì •í•˜ì—¬ êµ¬ë¶„í•´ë´…ë‹ˆë‹¤. ë©€í‹°ë¯¸í„°ë¥¼ DCA(ì§ë¥˜ ì „ì••) ëª¨ë“œë¡œ ì„¤ì •í•œ í›„ ê²€ì€ìƒ‰ í”„ë¡œë¸ŒëŠ” COM ë‹¨ìì—, ë¹¨ê°„ìƒ‰ í”„ë¡œë¸ŒëŠ” ì „ë¥˜ì¸¡ì •ë‹¨ì(~mA)ì— ì—°ê²°í•©ë‹ˆë‹¤. ê²€ì€ìƒ‰ ë¦¬ë“œì„ ì€ ê¸°ê¸°ì˜ GNDì™€ ì ‘ì´‰í•˜ê³  ë¹¨ê°„ìƒ‰ ë¦¬ë“œì„ ì€ ì‹ë³„ëŒ€ìƒ UART í•€ì— ì ‘ì´‰í•©ë‹ˆë‹¤. ê¸°ê¸°ì— ì „ì›ì„ ê³µê¸‰í•œ í›„ ì¸¡ì •ë˜ëŠ” ì „ë¥˜ë¥¼ ê´€ì°°í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ VCC, GND, RXëŠ” ì „ë¥˜ê°€ íë¥´ì§€ ì•Šê³ (0mA) TXì˜ ê²½ìš°ì—ë§Œ 23mA~44mA ì‚¬ì´ì˜ ì „ë¥˜ê°€ íë¥´ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;mode&lt;/th&gt;
      &lt;th&gt;PIN1&lt;/th&gt;
      &lt;th&gt;PIN2&lt;/th&gt;
      &lt;th&gt;PIN3&lt;/th&gt;
      &lt;th&gt;PIN4&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;DCV&lt;/td&gt;
      &lt;td&gt;0 V&lt;/td&gt;
      &lt;td&gt;0 V&lt;/td&gt;
      &lt;td&gt;3.25 V&lt;/td&gt;
      &lt;td&gt;3.25 V&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DCA&lt;/td&gt;
      &lt;td&gt;0 mA&lt;/td&gt;
      &lt;td&gt;0 mA&lt;/td&gt;
      &lt;td&gt;23.4 mA&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;GND&lt;/td&gt;
      &lt;td&gt;RX&lt;/td&gt;
      &lt;td&gt;TX&lt;/td&gt;
      &lt;td&gt;VCC&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;TIP: ë©€í‹°ë¯¸í„°ë¥¼ í†µí•œ RX, TX êµ¬ë¶„ì´ ì–´ë µë‹¤ë©´ :
    &lt;ul&gt;
      &lt;li&gt;MCUì˜ ë°ì´í„°ì‹œíŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ ì •í™•í•˜ê²Œ ì‹ë³„í•©ë‹ˆë‹¤.&lt;/li&gt;
      &lt;li&gt;ì¼ë‹¨ RX, TXë¥¼ ì„ì˜ë¡œ ê°€ì •í•œ í›„ ë’¤ì˜ ê³¼ì •ëŒ€ë¡œ ì—°ê²° ìˆ˜í–‰ â†’ ì‹œë¦¬ì–¼ í†µì‹  ì‹œ ì•„ë¬´ ë°˜ì‘ì´ ì—†ë‹¤ë©´ ë°”ê¿”ì„œ ì—°ê²°í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;24-baud-rateë€&quot;&gt;2.4. Baud Rateë€&lt;/h2&gt;

&lt;p&gt;GND, TX, RX í•€ì„ ëª¨ë‘ ì‹ë³„í•˜ì˜€ìœ¼ë‹ˆ UART í†µì‹ ì— í•„ìš”í•œ Baud Rate ê°œë…ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Baud RateëŠ” 1ì´ˆì— ì „ì†¡í•  ìˆ˜ ìˆëŠ” symbol&lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;ì˜ ìˆ˜ì…ë‹ˆë‹¤. ë”°ë¼ì„œ IoT ê¸°ê¸°ì™€ UART Serial í†µì‹ ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ê° ê¸°ê¸°ë§ˆë‹¤ ì‚¬ìš©í•˜ëŠ” Baud Rateì— ë§ì¶° í†µì‹  ì†ë„ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” UARTì—ì„œ í”íˆ ì‚¬ìš©í•˜ëŠ” Baud Rate ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;115200&lt;/code&gt; ì´í•˜ ê°’ì„ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Baud Rate&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;4147200&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;921600&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;576000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;460800&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;115200&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;57600&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;38400&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;28800&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;19200&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;9600&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4800&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2400&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1200&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Baud Rate ê°œë…ê¹Œì§€ ì•Œì•˜ìœ¼ë‹ˆ ë‹¤ìŒìœ¼ë¡œëŠ” USB to TTLì„ í†µí•´ UART Serial í†µì‹ ì„ í•´ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ì˜ ê°’ë“¤ì´ ì•„ë‹Œ ë‹¤ë¥¸ Baud Rate ê°’ì„ ì‚¬ìš©í•œë‹¤ë©´, Logical Analyzerë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ê¸°ê¸° ì´ë¦„ì˜ buad rateì— ëŒ€í•´ ê²€ìƒ‰í•˜ëŠ” ë“±ì˜ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;25-uart-ì—°ê²°&quot;&gt;2.5. UART ì—°ê²°&lt;/h2&gt;

&lt;h3 id=&quot;251-mac-í™˜ê²½&quot;&gt;2.5.1. Mac í™˜ê²½&lt;/h3&gt;

&lt;p&gt;ë³¸ í•­ëª©ì—ì„œëŠ” Mac í™˜ê²½ì—ì„œì˜ UART ì—°ê²° ë°©ë²•ì— ëŒ€í•´ì„œ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤. Serial í†µì‹  ì½˜ì†”ì„ ìœ„í•´ minicom í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì í¼ ì¼€ì´ë¸”ì„ ì‚¬ìš©í•´ USB to TTLì˜ ì¼€ì´ë¸”ì„ UARTí•€ì— ì—°ê²° í•©ë‹ˆë‹¤. ê° ì¼€ì´ë¸”ì˜ ì—­í• ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì¼€ì´ë¸” ìƒ‰&lt;/th&gt;
      &lt;th&gt;USB to TTL í•€&lt;/th&gt;
      &lt;th&gt;UART í•€&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ê²€ì€ìƒ‰&lt;/td&gt;
      &lt;td&gt;GND&lt;/td&gt;
      &lt;td&gt;GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;í°ìƒ‰&lt;/td&gt;
      &lt;td&gt;RX&lt;/td&gt;
      &lt;td&gt;TX&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì²­ë¡ìƒ‰&lt;/td&gt;
      &lt;td&gt;TX&lt;/td&gt;
      &lt;td&gt;RX&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ì—°ê²° ì‹œ UARTì˜ TX í•€ì—ëŠ” USB to TTLì˜ RX ì¼€ì´ë¸”ì„, UART RX í•€ì—ëŠ” USB to TTLì˜ TX ì¼€ì´ë¸”ì„ ì—°ê²°í•˜ë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. IoT ê¸°ê¸°ì—ì„œ ì†¡ì‹ í•œ ë°ì´í„°ë¥¼ USB to TTLì´ ìˆ˜ì‹ í•˜ê³ , USB to TTLì´ ì†¡ì‹ í•œ ë°ì´í„°ë¥¼ IoT ê¸°ê¸°ê°€ ìˆ˜ì‹ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/lsusb.png&quot; alt=&quot;lsusb&quot; /&gt;&lt;/p&gt;

&lt;p&gt;USB to TTLì˜ USB í¬íŠ¸ëŠ” PCì— ì—°ê²°í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsusb&lt;/code&gt; ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ USB to TTLì´ PCì— ì œëŒ€ë¡œ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. minicomì˜ Serial ì¥ì¹˜ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ls /dev | grep usb&lt;/code&gt; ëª…ë ¹ì–´ë¡œ ì—°ê²°ëœ USB to TTLì˜ ì¥ì¹˜ ì´ë¦„ì„ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/ls_dev.png&quot; alt=&quot;list dev directory&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/minicom_s.png&quot; alt=&quot;minicom setting&quot; /&gt;&lt;/p&gt;

&lt;p&gt;USB to TTLì˜ ì¥ì¹˜ ì´ë¦„ì„ ì•Œì•˜ìœ¼ë‹ˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minicom -s&lt;/code&gt; ëª…ë ¹ì–´ë¡œ UART í†µì‹ ì„ ì„¤ì •í•©ë‹ˆë‹¤. Serial ì¥ì¹˜ë¥¼ ì„¤ì •í•˜ê³  Baud Rateë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;38400&lt;/code&gt;ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ UART í†µì‹  ì‹œ ì¶œë ¥ì´ ì œëŒ€ë¡œ ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë§Œì•½ ì¶œë ¥ ê²°ê³¼ë¥¼ ì½ì„ ìˆ˜ ì—†ë‹¤ë©´ Baud Rateë¥¼ ë°”ê¿”ê°€ë©´ì„œ ì •í™•í•œ ê°’ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Baud Rateì„ ë°”ê¿”ì¤„ ë•Œë§ˆë‹¤ ì¥ì¹˜ ì¬ë¶€íŒ…ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¶€íŠ¸ ë¡œê·¸ê°€ UARTë¡œ ëª¨ë‘ ì¶œë ¥ë˜ì—ˆë‹¤ë©´ ë” ì´ìƒ ì¶œë ¥í•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ ë•Œë¬¸ì— ì¬ë¶€íŒ… ì—†ì´ Baud Rate ê°’ë§Œ ë°”ê¿”ì£¼ë©´ ê°’ì´ ì˜¬ë°”ë¥¸ì§€ ì—¬ë¶€ê°€ ì˜ì‹¬ìŠ¤ëŸ½ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ Baud Rate í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ë•Œ ê¸°ê¸°ë¥¼ ì¬ë¶€íŒ…í•´ì•¼ ëª¨ë“  ë¶€íŠ¸ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/uart.png&quot; alt=&quot;uart&quot; /&gt;&lt;/p&gt;

&lt;p&gt;í™•ì¸ ê²°ê³¼ ë¶€íŠ¸ë¡œê·¸ê°€ ì œëŒ€ë¡œ ì¶œë ¥ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;252-windows-í™˜ê²½&quot;&gt;2.5.2. Windows í™˜ê²½&lt;/h3&gt;

&lt;p&gt;ë³¸ í•­ëª©ì—ì„œëŠ” Windows í™˜ê²½ì—ì„œ UARTë¥¼ ì—°ê²°í•´ë³´ê² ìŠµë‹ˆë‹¤. Serial í†µì‹ ì„ ìœ„í•´ì„œ PuTTY í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•œë‹¤ëŠ” ì ì´ Mac í™˜ê²½ê³¼ ë‹¤ë¦…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;USB to TTLì˜ ì í¼ ì¼€ì´ë¸”ì„ IoT ê¸°ê¸°ì˜ UARTì— ì—°ê²°í•œ í›„ PCì— USBë¥¼ ì—°ê²°í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ë‚´ ì»´í“¨í„° &amp;gt; ì¥ì¹˜ê´€ë¦¬ì&lt;/code&gt; ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;í¬íŠ¸&lt;/code&gt; íƒ­ì—ì„œ USB to TTLì´ PCì— ì˜¬ë°”ë¥´ê²Œ ì¸ì‹ë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. PuTTYì˜ Serial lineì„ ì„¤ì •í•˜ê¸° ìœ„í•´ ì¸ì‹ëœ USB to TTL ì¥ì¹˜ì˜ ì´ë¦„ì„ í™•ì¸í•©ë‹ˆë‹¤. (ë§Œì•½ í¬íŠ¸ íƒ­ì— ì¥ì¹˜ê°€ ì¸ì‹ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ê¸°íƒ€ ì¥ì¹˜ íƒ­ì„ í™•ì¸í•´ë´…ì‹œë‹¤. ê¸°íƒ€ ì¥ì¹˜ë¡œ ì¸ì‹ë˜ì—ˆë‹¤ë©´ ë“œë¼ì´ë²„ë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/windows_device_manager.png&quot; alt=&quot;windows device manager&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Serial ì¥ì¹˜ë¥¼ ì„¤ì •í•œ í›„ ì •í™•í•œ Baud Rate ê°’ì„ êµ¬í•©ë‹ˆë‹¤. UART í†µì‹ ì„ ëª¨ë‘ ì„¤ì •í•˜ì˜€ë‹¤ë©´ IoT ê¸°ê¸°ì˜ ì „ì›ì„ ê³µê¸‰í•˜ì—¬ ë¶€íŒ… ì‹œ ë¡œê·¸ê°€ ì¶œë ¥ ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/putty_s.png&quot; alt=&quot;putty setting&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/putty.png&quot; alt=&quot;putty&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;3-spi-í†µì‹ ìœ¼ë¡œ-íŒì›¨ì–´-ì¶”ì¶œí•˜ê¸°&quot;&gt;3. SPI í†µì‹ ìœ¼ë¡œ íŒì›¨ì–´ ì¶”ì¶œí•˜ê¸°&lt;/h2&gt;

&lt;h3 id=&quot;31-spië€&quot;&gt;3.1. SPIë€&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/I2C.drawio.png&quot; alt=&quot;I2C drawio&quot; /&gt;&lt;/p&gt;

&lt;p&gt;SPI í†µì‹ ì„ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € I2C í†µì‹ ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. I2C(Inter-Integrated Circuit)ëŠ” 2ê°œì˜ ì§ë ¬ ë²„ìŠ¤ë¡œ ì—¬ëŸ¬ ë””ë°”ì´ìŠ¤ì™€ í†µì‹ í•  ìˆ˜ ìˆëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤. í•œ ê°œì˜ Master ë””ë°”ì´ìŠ¤ì™€ ì—¬ëŸ¬ Slave ë””ë°”ì´ìŠ¤ë¡œ êµ¬ì„±ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 2ê°œì˜ ì§ë ¬ ë²„ìŠ¤ ì¤‘ SDA ì„ ì€ ì‹œë¦¬ì–¼ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•˜ëŠ” ë²„ìŠ¤ì´ê³ , SCL ì„ ì€ Masterê°€ ìƒì„±í•œ ê¸°ì¤€ í´ëŸ­ì„ ì „ì†¡í•˜ëŠ” ë²„ìŠ¤ì…ë‹ˆë‹¤. ë”°ë¼ì„œ Master ë””ë°”ì´ìŠ¤ì—ì„œ ê¸°ì¤€ í´ëŸ­ì„ ìƒì„±í•˜ê³  í•´ë‹¹ í´ëŸ­ì— ë§ì¶°ì„œ I2C í†µì‹ ì—ì„œëŠ” ë°˜ì´ì¤‘(Half-Duplex) ë°©ì‹ìœ¼ë¡œ ì‹œë¦¬ì–¼ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/SPI.drawio.png&quot; alt=&quot;SPI drawio&quot; /&gt;&lt;/p&gt;

&lt;p&gt;SPI(Serial Peripheral Interface)ëŠ” I2C í†µì‹  ë°©ì‹ê³¼ ë¹„ìŠ·í•œ ë°©ì‹ì´ë©°, MCUì™€ ì£¼ë³€ íšŒë¡œ ê°„ í†µì‹ ì—ì„œ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” í†µì‹  ë°©ì‹ì…ë‹ˆë‹¤. SPI í†µì‹ ì€ I2C í†µì‹ ê³¼ ë‹¤ë¥´ê²Œ ì „ì´ì¤‘(Full-Duplex) ë°©ì‹ìœ¼ë¡œ ì‹œë¦¬ì–¼ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•©ë‹ˆë‹¤. ë˜í•œ MOSI ì„ , MISO ì„ , Clock ì„ ê³¼ SS ì„ ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;MOSI(Master Out Slave IN) ì„  : Master â†’ Slave ì‹œë¦¬ì–¼ ë°ì´í„° ì „ì†¡ ì„ &lt;/li&gt;
  &lt;li&gt;MISO(Master In Slave Out) ì„  : Slave â†’ Master ì‹œë¦¬ì–¼ ë°ì´í„° ì „ì†¡ ì„ &lt;/li&gt;
  &lt;li&gt;Clock(SCLK, CLK) ì„  : ë™ê¸°í™” ì‹ í˜¸ë¥¼ ìœ„í•œ í´ëŸ­ ì „ì†¡ ì„ &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;SS, CS(Slave Select, Chip Select) ì„  : ì—¬ëŸ¬ Slave ë””ë°”ì´ìŠ¤ ì¤‘ í†µì‹ ì„ ìœ„í•´ ì‹œë¦¬ì–¼ ë°ì´í„°ë¥¼ ë³´ë‚¼ ê²½ë¡œë¥¼ ê²°ì •í•˜ëŠ” ì‹ í˜¸ ì„ &lt;/p&gt;

    &lt;p&gt;Master ë””ë°”ì´ìŠ¤ê°€ Slave ë””ë°”ì´ìŠ¤ë¡œ ì‹œë¦¬ì–¼ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ë©´, Slave ë””ë°”ì´ìŠ¤ì˜ Shift Register ë°ì´í„°ëŠ” 1 í´ëŸ­ ë‹¹ 1 ë¹„íŠ¸ì˜ ì‹œë¦¬ì–¼ ë°ì´í„°ê°€ MSB(Most Significant Bit) í˜¹ì€ LSB(Least Significant Bit) ë°©ì‹ìœ¼ë¡œ shift ë˜ì–´ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” êµ¬ì¡°ë¡œ ë™ì‘í•©ë‹ˆë‹¤.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;32-ë°©ë²•&quot;&gt;3.2. ë°©ë²•&lt;/h3&gt;

&lt;p&gt;ì¼ë°˜ì ìœ¼ë¡œ MCUëŠ” ë¶€íŒ… ë‹¨ê³„ì—ì„œ SPI Flash ì¹©ê³¼ í†µì‹ í•˜ì—¬ íŒì›¨ì–´ë¥¼ ì–»ìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ë™ì¼í•œ ë°©ë²•ì„ í†µí•´ì„œ SPI Flash ì¹©ìœ¼ë¡œë¶€í„° íŒì›¨ì–´ë¥¼ ì–»ìœ¼ë ¤ê³  í•©ë‹ˆë‹¤. ë”°ë¼ì„œ SPI Flash ì¹©ì˜ ë°ì´í„° ì‹œíŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ SPI í†µì‹ ì— í•„ìš”í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì €í¬ëŠ” flashrom&lt;sup id=&quot;fnref:4&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. flashromì€ Flash ì¹©ì„ ì‹ë³„í•˜ì—¬ reading, writing, verifying, erasing ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•´ì£¼ëŠ” ìœ í‹¸ë¦¬í‹° í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. 476ê°œ ì´ìƒì˜ Flash ì¹©, 291ê°œì˜ ì¹©ì…‹, 500ê°œì˜ ë©”ì¸ë³´ë“œ ë“±ê³¼ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ SPI Flash ì¹©ì˜ ë°ì´í„°ì‹œíŠ¸ì— ëª…ì‹œëœ ëª…ë ¹ì–´ë“¤ì„ ëª°ë¼ë„ flashrom ëª…ë ¹ì–´ë¥¼ í†µí•´ ì½ê¸°, ì“°ê¸° ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìµœì‹  ë²„ì „ì˜ flashromì„ ë¼ì¦ˆë² ë¦¬íŒŒì´ì— ë¹Œë“œí•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;SPI Flash ì¹©ì˜ ë°ì´í„°ì‹œíŠ¸ì—ì„œ í•€ ë§µì„ í™•ì¸í•©ë‹ˆë‹¤. ì´ë¥¼ ë¼ì¦ˆë² ë¦¬íŒŒì´ì˜ SPI í•€ê³¼ ë§¤í•‘í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;33-soic-test-clip-ì‚¬ìš©&quot;&gt;3.3. SOIC Test-Clip ì‚¬ìš©&lt;/h3&gt;

&lt;p&gt;ë°ì´í„° ì‹œíŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ ì•”-ì•” ì í¼ ì¼€ì´ë¸”ë¡œ ë¼ì¦ˆë² ë¦¬íŒŒì´ì™€ SOIC-CLIPì„ ì—°ê²°í•´ì¤ë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì‚¬ìš© ì¥ë¹„&lt;/th&gt;
      &lt;th&gt;ì—­í• &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;POMONA SOIC-CLIP&lt;/td&gt;
      &lt;td&gt;ì í¼ì¼€ì´ë¸”ë¡œ 8 PIN SOICì™€ ì—°ê²°í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ë¼ì¦ˆë² ë¦¬íŒŒì´&lt;/td&gt;
      &lt;td&gt;flashromì„ ì‹¤í–‰í•˜ì—¬ flash memoryì™€ í†µì‹ &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ë¶„ì„ìš© PC&lt;/td&gt;
      &lt;td&gt;ë¼ì¦ˆë² ë¦¬íŒŒì´ì— ì ‘ì†(ssh)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;íŒì›¨ì–´ ì¶”ì¶œ ê³¼ì •&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ë¶„ì„ìš© PCì™€ ë¼ì¦ˆë² ë¦¬íŒŒì´ë¥¼ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì— ì—°ê²°í•œ í›„, PCì—ì„œ ë¼ì¦ˆë² ë¦¬íŒŒì´ì— ì ‘ì†í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ssh user@xxx.xxx.xxx.xxx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë¼ì¦ˆë² ë¦¬íŒŒì´ì—ì„œ flashromì„ ì´ìš©í•´ firmwareë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;flashrom &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; linux_spi:dev&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/spidev0.0 &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;filename]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì¶”ì¶œí•œ íŒì›¨ì–´ë¥¼ binwalkë¥¼ ì´ìš©í•´ì„œ ë¶„ì„í•©ë‹ˆë‹¤. binwalkëŠ” íŒì›¨ì–´ì™€ ê°™ì€ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì˜ êµ¬ì¡°ì„ ë¶„ì„í•˜ê³ , íŒì›¨ì–´ì— í¬í•¨ëœ íŒŒì¼ì„ ì¶”ì¶œ ë° ì••ì¶• í•´ì œí•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤. binwalkëŠ” íŒŒì¼ ì‹œê·¸ë‹ˆì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì˜ êµ¬ì¡°ë¥¼ ë¶„ì„í•´ì¤ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;íŒì›¨ì–´ êµ¬ì¡° í™•ì¸&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;binwalk &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;filename]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;user@raspberrypi:~/ &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;flashrom &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; linux_spi:dev&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/spidev0.0 &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; firmware.bin &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;EN25QH32B&quot;&lt;/span&gt;
flashrom 1.4.0-devel &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;git:v1.2-1386-g5106287e&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; on Linux 6.1.0-rpi6-rpi-v8 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;aarch64&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
flashrom is free software, get the &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;code at https://flashrom.org

Using clock_ gettime &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;delay loops &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;clk_id: 1, resolution: 1ns&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
Using default 2000kHz clock. Use &lt;span class=&quot;s1&quot;&gt;'spispeed'&lt;/span&gt; parameter to override.
Found Eon flash chip &lt;span class=&quot;s2&quot;&gt;&quot;EN25QH32B&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;4096 kB, SPI&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; on linux_spi.
ãƒ‹ãƒ‹ãƒ‹
This flash part has status UNTESTED &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;operations: WP
The &lt;span class=&quot;nb&quot;&gt;test &lt;/span&gt;status of this chip may have been updated &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;the latest development version of flashrom. If you are running the latest development version, please email a report to flashrom@flashrom.org &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;any of the above operations work correctly &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;you with this flash chip. Please include the flashrom log file &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;all operations you tested &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;see the man page &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;details&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, and mention which mainboard or programmer you tested &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;the subject line.
Thanks &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;your &lt;span class=&quot;nb&quot;&gt;help&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
Reading flash... &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;

user@raspberrypi:~/ &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;binwalk firmware.bin
DECIMAL		HEXADECIMAL	  DESCRIPTION
&lt;span class=&quot;nt&quot;&gt;------------------------------------------------------------------------------&lt;/span&gt;
5360		  0x14F0		    LZMA compressed data, properties: 0x5D, dictionary size: 8388608 bytes, uncompressed size: 60784 bytes
65584		  0x10030		    &lt;span class=&quot;nb&quot;&gt;gzip &lt;/span&gt;compressed data, maximum compression, from Unix, last modified: 2013-12-31 15:00:48
141408		0x22860		    LZMA compressed data, properties: 0x5D, dictionary size: 8388608 bytes, uncompressed size: 4119960 bytes
1441792		0x160000	    Squashfs filesystem, little endian, version 4.0, compression:xz, size: 2489160 bytes, 1364 inodes, blocksize: 131072 bytes, created: 2021-04-19 03:14:42
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì¶”ì¶œëœ ê²°ê³¼ì˜ ìƒë‹¨ì—ëŠ” LZMA, gzipìœ¼ë¡œ ì••ì¶•ëœ íŒŒì¼ë“¤ì´ ë³´ì´ê³ , ê·¸ ë°‘ì— SquashFS filesystemì´ íŒŒì¼ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. SquashFSëŠ” ê²½ëŸ‰ ë¦¬ëˆ…ìŠ¤ ë””ë°”ì´ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì½ê¸° ì „ìš© íŒŒì¼ì‹œìŠ¤í…œìœ¼ë¡œ, ì—¬ëŸ¬ íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ë¥¼ ë‹¨ì¼ íŒŒì¼ì— ì••ì¶•í•˜ì—¬ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;offsetì„ í™•ì¸í–ˆì„ ë•Œ ì•ë¶€ë¶„ë¶€í„° ëê¹Œì§€ ì˜ ì‹ë³„í•œ ê±¸ ë³´ë‹ˆ, íŒì›¨ì–´ê°€ ì˜ ì¶”ì¶œëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë§Œì•½ íŒì›¨ì–´ë¥¼ ì œëŒ€ë¡œ ì½ì§€ ëª»í–ˆë‹¤ë©´, 3.4. Desoldering ê³¼ì •ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;34-desoldering&quot;&gt;3.4. Desoldering&lt;/h2&gt;

&lt;p&gt;ì—¬ê¸°ì„œëŠ” ë•œë‚©ì„ ë…¹ì—¬ ì§ì ‘ SPI Flash ì¹©ì„ ë–¼ì–´ë‚¸ í›„ íŒì›¨ì–´ë¥¼ ì¶”ì¶œí•˜ê² ìŠµë‹ˆë‹¤. 3.2. ê³¼ì •ì—ì„œ íŒì›¨ì–´ ì¶”ì¶œì— ì„±ê³µí•˜ì˜€ë‹¤ë©´, Desoldering ê³¼ì •ì€ ìƒëµí•˜ì—¬ë„ ê´œì°®ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì¥ë¹„&lt;/th&gt;
      &lt;th&gt;ì—­í• &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Heat gun&lt;/td&gt;
      &lt;td&gt;ëœ¨ê±°ìš´ ë°”ëŒìœ¼ë¡œ ë‚©ì„ ë…¹ì¸ë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;SOP8 - DIP8 ë³€í™˜ ì†Œì¼“&lt;/td&gt;
      &lt;td&gt;8í•€ flash chipì˜ í•€ì„ ì í¼ì¼€ì´ë¸”(DIP) í•€ ê·œê²©ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ì–´ëŒ‘í„°&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ë¼ì¦ˆë² ë¦¬íŒŒì´&lt;/td&gt;
      &lt;td&gt;flashromì„ ì‹¤í–‰í•˜ì—¬ flash memoryì™€ í†µì‹ &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ë¶„ì„ìš© PC&lt;/td&gt;
      &lt;td&gt;ë¼ì¦ˆë² ë¦¬íŒŒì´ì— ì ‘ì†(ssh)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;í•€ì…‹&lt;/td&gt;
      &lt;td&gt;Flash ì¹©ì„ PCB ê¸°íŒì—ì„œ ë¶„ë¦¬í•  ë•Œ ì‚¬ìš©. ì—†ì–´ë„ ê´œì°®ì§€ë§Œ ìˆìœ¼ë©´ ë§¤ìš° í¸ë¦¬í•˜ë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;SPI Flash ì¹©ì„ PCB ê¸°íŒì—ì„œ ë–¼ì–´ë‚¸ í›„ íŒì›¨ì–´ë¥¼ ì¶”ì¶œí•˜ëŠ” ì´ìœ ëŠ” PCB ê¸°íŒì˜ ë…¸ì´ì¦ˆë¥¼ ì¤„ì—¬ íŒì›¨ì–´ë¥¼ ì •ìƒì ìœ¼ë¡œ ì¶”ì¶œí•˜ê¸° ìœ„í•´ì„œ ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;íˆíŠ¸ê±´ìœ¼ë¡œ ë‚©ì„ ë°ì›Œ ë…¹ì´ê³ (ì €í¬ëŠ” ì˜¨ë„ 380ë„, ë°”ëŒì„¸ê¸° 6ìœ¼ë¡œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤), í•€ì…‹ìœ¼ë¡œ SPI Flash ì¹©ì„ ë“¤ì–´ë‚´ë©´ PCB ê¸°íŒìœ¼ë¡œë¶€í„° ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¶„ë¦¬í•œ SPI Flash ì¹©ì„ SOP8-DIP8 ë³€í™˜ ì†Œì¼“ì— ê½‚ì•„ì£¼ê³ , ì•”-ì•” ì í¼ì¼€ì´ë¸”ì„ ì‚¬ìš©í•´ ë¼ì¦ˆë² ë¦¬íŒŒì´ì™€ ì—°ê²°í•©ë‹ˆë‹¤. ì´í›„ ê³¼ì •ì€ 3.3. SOIC Test-Clip ì‚¬ìš© - íŒì›¨ì–´ ì¶”ì¶œ ê³¼ì •ê³¼ ë™ì¼í•˜ê²Œ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;4-íŒì›¨ì–´-ì¡°ì‘fusing&quot;&gt;4. íŒì›¨ì–´ ì¡°ì‘(Fusing)&lt;/h1&gt;

&lt;p&gt;ì„±ê³µì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;firmware.bin&lt;/code&gt; ì´ë¦„ì˜ íŒì›¨ì–´ íŒŒì¼ì„ íšë“í–ˆìŠµë‹ˆë‹¤. ë³¸ í•­ëª©ì—ì„œëŠ” íŒì›¨ì–´ì˜ íŒŒì¼ì‹œìŠ¤í…œë§Œ ì¶”ì¶œí•  ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;user@raspberrypi:~/ &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;binwalk firmware.bin
DECIMAL		HEXADECIMAL	  DESCRIPTION
&lt;span class=&quot;nt&quot;&gt;------------------------------------------------------------------------------&lt;/span&gt;
5360		  0x14F0		    LZMA compressed data, properties: 0x5D, dictionary size: 8388608 bytes, uncompressed size: 60784 bytes
65584		  0x10030		    &lt;span class=&quot;nb&quot;&gt;gzip &lt;/span&gt;compressed data, maximum compression, from Unix, last modified: 2013-12-31 15:00:48
141408		0x22860		    LZMA compressed data, properties: 0x5D, dictionary size: 8388608 bytes, uncompressed size: 4119960 bytes
1441792		0x160000	    Squashfs filesystem, little endian, version 4.0, compression:xz, size: 2489160 bytes, 1364 inodes, blocksize: 131072 bytes, created: 2021-04-19 03:14:42
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;binwalk ëª…ë ¹ì–´ì˜ ë¶„ì„ ê²°ê³¼ì—ì„œ íŒŒì¼ì‹œìŠ¤í…œì„ ì°¾ê³ , íŒŒì¼ì‹œìŠ¤í…œ ì‹œì‘ offsetê³¼ sizeë¥¼ í™•ì¸í•©ë‹ˆë‹¤. íŒŒì¼ì‹œìŠ¤í…œì˜ offsetì— ë§ì¶°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dd&lt;/code&gt; ëª…ë ¹ì–´ë¡œ íŒŒì¼ì‹œìŠ¤í…œì„ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. skipì€ ì¶”ì¶œí•˜ë ¤ëŠ” íŒŒì¼ì˜ ì‹œì‘ ì˜¤í”„ì…‹, countëŠ” í¬ê¸°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. skipê°’ê³¼ countê°’ì€ 10ì§„ìˆ˜ë¡œ ì „ë‹¬í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dd &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;./firmware.bin &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;./extract_squashfs &lt;span class=&quot;nv&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=[&lt;/span&gt;1441792] &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1 &lt;span class=&quot;nv&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=[&lt;/span&gt;2489160]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì €í¬ì˜ ë¶„ì„ì¥ë¹„ íŒì›¨ì–´ì—ì„œ ì‚¬ìš©í•˜ëŠ” íŒŒì¼ì‹œìŠ¤í…œì€ SquashFS íŒŒì¼ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë”°ë¼ì„œ squashfs-toolsë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶„ì„ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;firmware.bin&lt;/code&gt; íŒŒì¼ì„ skipë¶€í„° countê¹Œì§€ë¥¼ ì¶”ì¶œí•˜ì—¬ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extract_squashfs&lt;/code&gt;ë¡œ ì €ì¥í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;unsquashfsë¥¼ ì‚¬ìš©í•´ì„œ íŒŒì¼ì‹œìŠ¤í…œì„ ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;squashfs-tools
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;unsquashfs ./extract_squashfs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ ê³¼ì •ì„ í†µí•´ íŒŒì¼ì‹œìŠ¤í…œì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;squashfs-root&lt;/code&gt; ë¥¼ íšë“í•˜ì˜€ìŠµë‹ˆë‹¤!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/dd_extract.jpg&quot; alt=&quot;dd extraction&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì—¬ê¸°ì„œ ê¸°ê¸°ê°€ ë¶€íŒ…ëœ í›„ ì´ˆê¸°ì— ì‹¤í–‰ë˜ëŠ” ì½”ë“œë¥¼ ì¡°ì‘í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê¸°ê¸°ê°€ ë¶€íŒ…ë  ë•Œ ê°€ì¥ ì²˜ìŒ ì‹¤í–‰ë˜ëŠ” ì½”ë“œë¥¼ ì°¾ì•„ë´…ì‹œë‹¤. ë³´í†µì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/init.d&lt;/code&gt;ì— ìœ„ì¹˜í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rcS&lt;/code&gt;ê°€ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë©ë‹ˆë‹¤. ì €í¬ ë¶„ì„ ì¥ë¹„ì—ì„œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/default/rcS&lt;/code&gt; ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/inittab.png&quot; alt=&quot;inittab&quot; /&gt;&lt;/p&gt;

&lt;p&gt;í•´ë‹¹ íŒŒì¼ì˜ ì œì¼ ë§ˆì§€ë§‰ì¤„ì— ì›í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•´ë³¼ê²ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/bin&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/sbin&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/bin&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/sbin&lt;/code&gt; ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ë“¤ì„ ì°¾ì•„ë´…ì‹œë‹¤. ì œì¼ ê´€ì‹¬ ìˆëŠ” ëª…ë ¹ì–´ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;telnet&lt;/code&gt;ì´ë‚˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;telnetd&lt;/code&gt; ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/sbin.jpg&quot; alt=&quot;sbin&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/telnetd.jpg&quot; alt=&quot;telnetd&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/default/rcS&lt;/code&gt; ë§ˆì§€ë§‰ì¤„ì— ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/usr/sbin/telnetd -l /bin/sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/firmware_modify.jpg&quot; alt=&quot;firmware modify&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ë©´ ë¶€íŒ… í›„ telnetì„ í†µí•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/bin/sh&lt;/code&gt;ì— ì ‘ì†í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì œ ìš°ë¦¬ê°€ ì‚½ì…í•œ ì½”ë“œë¥¼ ì›ë³¸ íŒŒì¼ì‹œìŠ¤í…œì— íŒ¨ì¹˜í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ìˆ˜ì •í•œ íŒŒì¼ ì‹œìŠ¤í…œì„ ì›ë³¸ íŒŒì¼ì‹œìŠ¤í…œì— íŒ¨ì¹˜
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;mksquashfs squashfs-root squashfs_patched &lt;span class=&quot;nt&quot;&gt;-comp&lt;/span&gt; xz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/recompression.jpg&quot; alt=&quot;recompression&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;hex editorë¥¼ ì‚¬ìš©í•´ íŒì›¨ì–´ì˜ íŒŒì¼ì‹œìŠ¤í…œ ì˜ì—­ì„ ì¡°ì‘í•œ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ë°”ê¾¸ê² ìŠµë‹ˆë‹¤. íŒŒì¼ì‹œìŠ¤í…œì´ ì¡°ì‘ëœ íŒì›¨ì–´ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;firmware_patched.bin&lt;/code&gt; ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/010hexedit.jpg&quot; alt=&quot;010 hexeditor&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì¡°ì‘í•œ íŒì›¨ì–´ì¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;firmware_patched.bin&lt;/code&gt;ì„ ê¸°ê¸°ì˜ SPI Flash ì¹©ì— ë‹¤ì‹œ ì¨ì£¼ë©´ ì™„ì„±ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;flashrom &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; linux_spi:dev&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/spidev0.0 &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; firmware_patched.bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;5-soldering&quot;&gt;5. Soldering&lt;/h1&gt;

&lt;p&gt;ì•ì„œ SPI Flash ì¹©ì„ ë””ì†”ë”ë§í•˜ì—¬ ë¶„ë¦¬í•˜ì˜€ë‹¤ë©´ ë¶€íŒ…ì„ ìœ„í•´ ë‹¤ì‹œ ê¸°ê¸°ì˜ PCB ê¸°íŒì— ì—°ê²°í•´ì•¼í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì¥ë¹„&lt;/th&gt;
      &lt;th&gt;ì—­í• &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ì†”ë” í˜ì´ìŠ¤íŠ¸&lt;/td&gt;
      &lt;td&gt;Fluxë¥¼ í¬í•¨í•˜ê³  ìˆì–´ ë‚©ì˜ ì¹™ì†Œì„±ì„ ë†’ì—¬ì¤€ë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì¸ë‘ê¸°&lt;/td&gt;
      &lt;td&gt;ë‚©ì„ ë°ì›Œì„œ ë…¹ì¸ë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ë‚©ì‹¤&lt;/td&gt;
      &lt;td&gt;PCBì™€ Flash memoryë¥¼ ê²°í•©í•˜ì—¬ ê³ ì •í•œë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ë©´ë´‰&lt;/td&gt;
      &lt;td&gt;ë‚©ë•œ í›„ ì”ì—¬ë¬¼ì„ ë‹¦ì•„ë‚´ëŠ” ë° ì‚¬ìš©í•œë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ì†”ë” í˜ì´ìŠ¤íŠ¸ë¥¼ PCB ê¸°íŒ ìœ„ì— ë°”ë¥´ê³  ê·¸ ìœ„ì— ì¸ë‘ê¸°ë¡œ ë‚©ì„ ë…¹ì—¬ì„œ ë¬¸ì§€ë¥´ë©´ ë‚©ì´ ë™ê·¸ë—ê³  ì˜ˆì˜ê²Œ ì˜¬ë¼ê°‘ë‹ˆë‹¤. SPI Flash ì¹©ì„ ì›ìœ„ì¹˜ì— ì˜¬ë¦¬ê³ , ì—´í’ê¸°ë¡œ ë‚©ì„ ì‚´ì§ ë…¹ì—¬ ë¦¬ì†”ë”ë§ì„ í•´ì¤ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/solderpaste.jpg&quot; alt=&quot;solder paste&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/resoldering.jpg&quot; alt=&quot;resoldering&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;6-glitching&quot;&gt;6. Glitching&lt;/h1&gt;

&lt;p&gt;Fault Injectionì´ë¼ê³ ë„ í•˜ëŠ” ê¸€ë¦¬ì¹­ì€ ì œì¡° ì‹œì˜ í•œê³„ë¥¼ ë²—ì–´ë‚˜ëŠ” ì¡°ê±´ìœ¼ë¡œ ê³µê²© ëŒ€ìƒ ì¥ì¹˜ì—ì„œ ê³ ì¥ì„ ìœ ë°œí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì¸ì¦ ìš°íšŒ, ë¯¸ì¸ê°€ëœ ì½”ë“œ ì ‘ê·¼, ë¡œì§ ê°’ ë³€ê²½, ì¥ì¹˜ì˜ ì¢…ë£Œ ë˜ëŠ” ì¬ì‹œì‘ ë“±ì˜ ê²°ê³¼ë¥¼ ì´ëŒì–´ëƒ…ë‹ˆë‹¤. ê¸€ë¦¬ì¹­ ê³µê²© ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆëŠ”ë°, ì „ì•• ê¸€ë¦¬ì¹­, í´ë¡ ê¸€ë¦¬í‚¹, ì „ìê¸° í´íŠ¸ ì¸ì ì…˜, ê´‘í•™ í´íŠ¸ ì¸ì ì…˜ì´ ê·¸ ì˜ˆì‹œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ì¤‘ ë³„ë„ì˜ ì¥ë¹„ ì—†ì´ ìˆ˜-ìˆ˜ ì í¼ì¼€ì´ë¸”ë¡œ í•´ë³¼ ìˆ˜ ìˆëŠ” Serial Data Output Fault Injectionì„ ìˆ˜í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤. ì´ ë°©ë²•ì€ MCUê°€ íŒì›¨ì–´ë¥¼ ì–»ì§€ ëª»í•˜ëŠ” ì˜¤ë¥˜ë¥¼ ìœ ë°œí•˜ëŠ” ê³µê²©ì…ë‹ˆë‹¤. ë¶€íŒ… ì¤‘ MCUê°€ íŒì›¨ì–´ë¥¼ ì–»ì§€ ëª»í–ˆì„ ë•Œì˜ ê²°ê³¼ê°€ ì œì¡°ì‚¬ë§ˆë‹¤ ë‹¤ë¥´ê³ , ì •êµí•œ ì˜¤ë¥˜ìƒíƒœë¥¼ ì£¼ì…í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì„±ê³µë¥ ì´ ë†’ì§€ ì•Šì€ í¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/spi_flashchip_glitching_point.jpg&quot; alt=&quot;SPI Flash chip glitching point&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/spi_flashchip_glitching.jpg&quot; alt=&quot;SPI Flash chip glitching&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ìš°ì„ , ë°ì´í„°ì‹œíŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ SPI Flash ì¹©ì˜ Serial Data Output í•€ê³¼ GND í•€ì˜ ìœ„ì¹˜ë¥¼ ì•Œì•„ëƒ…ë‹ˆë‹¤. ê·¸ë¦¬ê³  SPI Flash ì¹©ì˜ Data Output í•€ê³¼ GND í•€ì„ ìˆ˜-ìˆ˜ ì í¼ ì¼€ì´ë¸”ë¡œ ì—°ê²°í•©ë‹ˆë‹¤. MCUê°€ SPI Flashë¡œ íŒì›¨ì–´ë¥¼ ìš”ì²­í–ˆì„ ë•Œì˜ output ë°ì´í„°ê°€ MCUê°€ ì•„ë‹Œ GND í•€ìœ¼ë¡œ ë¹ ì§€ê³ , ê²°ê³¼ì ìœ¼ë¡œ MCUê°€ íŒì›¨ì–´ë¥¼ ì œëŒ€ë¡œ ì–»ì§€ ëª»í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2024-02-06-IoT-TechBlog/bootloader_shell.png&quot; alt=&quot;bootloader shell&quot; /&gt;&lt;/p&gt;

&lt;p&gt;UARTë¥¼ ì—°ê²°í•œ ìƒíƒœì—ì„œ Serial Data Output Faul Injection ê³µê²©ì„ ìˆ˜í–‰í•˜ì˜€ê³ , ë¶€íŒ…ì´ ì •ìƒì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì€ ê²°ê³¼ë¡œ ë¶€íŠ¸ ë¡œë”ì˜ ì‰˜ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¶€íŠ¸ ë¡œë”ì˜ Memory Readingì„ í†µí•´ íŒì›¨ì–´ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;7-ë§ˆì¹˜ë©°&quot;&gt;7. ë§ˆì¹˜ë©°&lt;/h1&gt;

&lt;p&gt;ë³¸ ê³¼ì •ì„ ê±°ì³ ê¸°ê¸°ì˜ ì›ë³¸ íŒì›¨ì–´ë¥¼ ì–»ì„ ìˆ˜ ìˆì—ˆê³ , ì›ê²©ìœ¼ë¡œ ì‰˜ ì ‘ì†ì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì·¨ì•½ì ì„ ë””ë²„ê¹…í•˜ê¸°ì— ìˆ˜ì›”í•œ í™˜ê²½ êµ¬ì„±ì´ ëë‚˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë³¸ ê¸€ ì‘ì„±ì„ ë„ì™€ì£¼ì‹  ê¹€ë„í˜„ íŒ€ì¥ë‹˜ê³¼ ì„ì›ë¹ˆ ì„ ì„ì—°êµ¬ì›ë‹˜, êµ¬ë³¸ê·¼ ì„ ì„ì—°êµ¬ì›ë‹˜ì„ ë¹„ë¡¯í•œ ì„ ì œëŒ€ì‘íŒ€ íŒ€ì›ë¶„ë“¤ê»˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ëª¨ë‘ ì¦ê±°ìš´ í•˜ë“œì›¨ì–´ í•´í‚¹í•˜ì„¸ìš”!ğŸ‘½&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;[ê°ì£¼]&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Printed Curcit Board, ì¸ì‡„íšŒë¡œì¡°ë¦½ì²´Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;ì¼ë°˜ì ìœ¼ë¡œ ê²€ì€ìƒ‰ ì„ ì€ (-), ë¹¨ê°„ìƒ‰ ì„ ì€ (+)ì´ë‹¤. ë”°ë¼ì„œ ê²€ì€ìƒ‰ ë¦¬ë“œì„ ì„ GNDì— ì—°ê²°í•œë‹¤.Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;symbol, ì˜ë¯¸ìˆëŠ” ë°ì´í„° ë¬¶ìŒÂ &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://github.com/flashrom/flashrom&quot;&gt;flashrom ë¹Œë“œ ë°©ë²•&lt;/a&gt;&lt;/p&gt;

      &lt;p&gt;ì¹©ì— ì ‘ê·¼í•˜ëŠ” ëª¨ë“  ì‘ì—…ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-p&lt;/code&gt; ë˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--programmer&lt;/code&gt; ì˜µì…˜ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.&lt;/p&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-p &amp;lt;programmername&amp;gt;[:&amp;lt;parameters&amp;gt;]&lt;/code&gt;&lt;/p&gt;

      &lt;ul&gt;
        &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;linux_spi&lt;/code&gt;Â (for SPI flash ROMs accessible via /dev/spidevX.Y on Linux)&lt;/li&gt;
      &lt;/ul&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-r&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--read &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/p&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-w&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--write &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/p&gt;

      &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-c&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-chip &amp;lt;chipname&amp;gt;&lt;/code&gt;Â &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>ì´ì£¼í˜‘, ì´ì£¼ì˜</name></author><category term="R&amp;D" /><summary type="html">ë‰´ë¹„ë“¤ì˜ í•˜ë“œì›¨ì–´ í•´í‚¹ ì…ë¬¸ê¸°</summary></entry><entry xml:lang="ko"><title type="html">Android Malware : ì‚¬ë§ˆê·€ í•´ë¶€í•™</title><link href="http://ufo.stealien.com/id/2023-11-15/Android-malware-%EC%82%AC%EB%A7%88%EA%B7%80-%ED%95%B4%EB%B6%80%ED%95%99-ko" rel="alternate" type="text/html" title="Android Malware : ì‚¬ë§ˆê·€ í•´ë¶€í•™" /><published>2023-11-15T10:00:00+09:00</published><updated>2023-11-15T10:00:00+09:00</updated><id>http://ufo.stealien.com/2023-11-15/Android-malware-%EC%82%AC%EB%A7%88%EA%B7%80-%ED%95%B4%EB%B6%80%ED%95%99-ko</id><content type="html" xml:base="http://ufo.stealien.com/2023-11-15/Android-malware-%EC%82%AC%EB%A7%88%EA%B7%80-%ED%95%B4%EB%B6%80%ED%95%99-ko">&lt;h1 id=&quot;android-malware--ì‚¬ë§ˆê·€-í•´ë¶€í•™&quot;&gt;Android Malware : ì‚¬ë§ˆê·€ í•´ë¶€í•™&lt;/h1&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ëª©ì°¨&lt;/strong&gt;&lt;br /&gt;
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Intro&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Roaming Mantis?&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Analysis&lt;/strong&gt;
    &lt;ol&gt;
      &lt;li&gt;&lt;strong&gt;Download &amp;amp; Install&lt;/strong&gt;&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Dynamic Dex Loading&lt;/strong&gt;&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Behavior Analysis&lt;/strong&gt;&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Outro&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;1-intro&quot;&gt;1. Intro&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/19.png&quot; alt=&quot;19.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì˜ ì£¼ì œê°€ ë˜ëŠ” í”¼ì‹± ë¬¸ìì…ë‹ˆë‹¤. 5ì›” 2ì¼ ì‹¤ì œë¡œ ë§ì€ ì§€ì¸ë“¤ì—ê²Œ í•´ë‹¹ ë¬¸ìê°€ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤. í•„ìì˜ ì•„ë²„ì§€ê°€ ë§¤ì¼ í”¼ì‹± ë¬¸ìë¥¼ ë°›ì§€ë§Œ, ê´‘ê³  í˜ì´ì§€ë¡œ Redirect ë˜ëŠ” ê²ƒì— ê·¸ì³¤ë˜ ê²ƒì— ë°˜í•´ â€¦ ì´ ë¬¸ìëŠ” ì‹¤ì œë¡œ ì•…ì„± ì•±ì´ ì„¤ì¹˜ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì€ í•´ë‹¹ ì•±ì„ ì‹¤ì œë¡œ ì„¤ì¹˜, ë¶„ì„í•˜ì—¬ ì–´ë–¤ ì›ë¦¬ë¡œ ì•…ì„± í–‰ìœ„ê°€ ì¼ì–´ë‚˜ëŠ” ì§€ ë©´ë°€íˆ ê´€ì°°í•œ ë‚´ìš©ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.  ì €ì™€ ê°™ì´ ë³´ì•ˆ ì—°êµ¬ë¥¼ ì§€ë§í•˜ê³ , ì¢…ì‚¬í•˜ì‹œëŠ” ë¶„ë“¤ê»˜ ë„ì›€ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;2-roaming-mantis&quot;&gt;2. Roaming Mantis?&lt;/h1&gt;

&lt;p&gt;ë¶„ì„ ì¤‘ì— ì•Œê²Œ ëœ ì‚¬ì‹¤ì´ì§€ë§Œ, ë„ˆë¬´ ì˜ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì •ì„±ì´ ëŠê»´ì§€ëŠ” ë¡œì§ì´ ì•„ì£¼ ë§ìŠµë‹ˆë‹¤. ê²Œë‹¤ê°€ ì—¬ëŸ¬ ì´ë¦„ìœ¼ë¡œ ë°°í¬ë˜ê³  ìˆë‹¤ëŠ” ê²ƒë„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë¯¸ ì•Œë ¤ì§„ Malwareì¼ ê²ƒ ê°™ì•„ í™•ì¸í•´ë³¸ ê²°ê³¼, ì´ ì•±ì˜ ì •ì²´ëŠ”..&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/0.png&quot; alt=&quot;0.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Android Malwareì¸ &lt;strong&gt;Roaming Mantis&lt;/strong&gt;ì˜€ìŠµë‹ˆë‹¤. 2018ë…„ì— ì²˜ìŒìœ¼ë¡œ ë°œê²¬ëœ ì•„ì£¼ ì˜¤ë˜ ëœ Malwareì…ë‹ˆë‹¤. ê°€ì¥ ë§ì´ ì•Œë ¤ì§„ ê¸°ëŠ¥ì€ &lt;strong&gt;ì·¨ì•½í•œ ê³µìš© ë¼ìš°í„°ë¥¼ ì¥ì•…í•˜ì—¬ DNS ì„œë²„ë¥¼ ë³€ì¡°&lt;/strong&gt;(&lt;strong&gt;DNS Hijacking&lt;/strong&gt;)í•˜ëŠ” ê²ƒìœ¼ë¡œ, ê·¸ë ‡ê²Œ ë˜ë©´ ì‚¬ìš©ìê°€ ì–´ë–¤ ì‚¬ì´íŠ¸ë¡œ ê°€ë”ë¼ë„ ê³µê²©ìì˜ ì„œë²„ë¡œ ì´ë™í•  ìˆ˜ ë°–ì— ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê°€ë ¹, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;google.com&lt;/code&gt;ìœ¼ë¡œ ê°€ë”ë¼ë„ ê³µê²©ìê°€ ë˜‘ê°™ì´ ë§Œë“  Google í˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ê²ƒì€ ê°™ì€ Wifië¥¼ ì“°ëŠ” ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ì•±ì€ ë‹¤êµ­ê°€(ì¼ë³¸, ì˜¤ìŠ¤íŠ¸ë¦¬ì•„, ëŒ€í•œë¯¼êµ­ ë“±) ëŒ€ìƒì´ì§€ë§Œ, 2023ë…„ ê´€ë ¨ í¬ìŠ¤íŒ…ì— ë”°ë¥´ë©´ í•œêµ­ì— ìœ„ì¹˜í•œ ìœ ëª… ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ ê³µê¸‰ ì—…ì²´ë“¤ì˜ ë¼ìš°í„°ë§Œì„ í‘œì ìœ¼ë¡œ ì‚¼ê³  ìˆë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ &lt;strong&gt;Wrobaê³„ì—´ì˜ Mobile banking Trojan&lt;/strong&gt;ì„ í¬í•¨í•˜ê³  ìˆì–´, í•´ë‹¹ ë¶€ë¶„ë„ ê°™ì´ ì‚´í´ë³´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¶œì²˜ : &lt;a href=&quot;https://www.kaspersky.com/about/press-releases/2023_roaming-mantis-uses-dns-changers-to-target-users-via-compromised-public-routers&quot;&gt;https://www.kaspersky.com/about/press-releases/2023_roaming-mantis-uses-dns-changers-to-target-users-via-compromised-public-routers&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;3-analysis&quot;&gt;3. Analysis&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/2.png&quot; alt=&quot;2.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë¶„ì„ Flow Chartì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê°ê°ì˜ ê³¼ì •ì´ ë§¤ìš° ë³µì¡í•˜ê¸° ë•Œë¬¸ì— ì–´ë–¤ ë¶€ë¶„ì„ ë¶„ì„í•˜ëŠ”ì§€ ì´í•´í•˜ê³  ì½ì–´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;1-download--install&quot;&gt;1) Download &amp;amp; Install&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/3.png&quot; alt=&quot;3.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë¬¸ìì˜ URLì— ì ‘ê·¼í•˜ë©´ chrome ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•˜ë¼ëŠ” ì•ˆë‚´ ë¬¸ìê°€ ì¶œë ¥ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Downloadë¥¼ ì§„í–‰í•˜ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chrome.apk&lt;/code&gt; ë¼ëŠ” íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œ ë˜ë©°, ì„¤ì¹˜ í›„ ì•±ì„ ì‹¤í–‰í•˜ë©´ ì•±ì€ ì‚¬ë¼ì§€ê³  ìƒë‹¨ ë°”ì— chrome ë¡œê³ ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Backgroundë¡œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì—, ê¸°ê¸°ì— ë¯¸ìˆ™í•œ ì‚¬ìš©ìëŠ” ì‚­ì œ ë° ì œì–´ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/4.png&quot; alt=&quot;4.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;fridaë¡œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ëª©ë¡ì„ í™•ì¸í•´ë³´ë©´ chromeì´ ë‘ ê°œê°€ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ì¤‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbj.xnmp.gjga.ucms&lt;/code&gt;ê°€ ì•…ì„± ì•±, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.android.chrome&lt;/code&gt;ì´ ì§„ì§œ chromeì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-dynamic-dex-loading&quot;&gt;2) Dynamic DEX Loading&lt;/h2&gt;

&lt;p&gt;Dynamic DEX ë³µí˜¸í™” ê³¼ì •ì„ ë¶„ì„í•´ë³´ê² ìŠµë‹ˆë‹¤. Flow ChartëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì£¼ìš”í•œ Methodì˜ ë¡œì§ì„ ë³´ë©´ì„œ, ì–´ë–¤ ê³¼ì •ìœ¼ë¡œ Decrypt DEX íŒŒì¼ì„ Loadingí•˜ëŠ”ì§€ ë¶„ì„í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/5.png&quot; alt=&quot;5.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;â‘  &lt;strong&gt;Encrypted DEX Loading&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ê²ƒì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ImApplication.c(&quot;rrkf&quot;)&lt;/code&gt; ë¡œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rrkf&lt;/code&gt;ë¥¼ ì¸ìë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wo.pi&lt;/code&gt; methodë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-jsx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// str = &quot;rrkf&quot;&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;wo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Java_n_wo_pi()&lt;/code&gt;  í•¨ìˆ˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rrkf&lt;/code&gt;ë¥¼ ì¸ìë¡œ ë°›ì•„, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rrkf/lqcttjs&lt;/code&gt; ê²½ë¡œë¥¼ ì™„ì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì™„ì„±í•œ ê²½ë¡œë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getAssets()&lt;/code&gt; í•¨ìˆ˜ì˜ ì¸ìë¡œ ì‚¬ìš©í•˜ì—¬, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assets&lt;/code&gt; í´ë” í•˜ìœ„ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rrkf/1qcttjs&lt;/code&gt; íŒŒì¼ ë‚´ìš©ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// v7 = rrkf/1qcttjs&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// v10 = getAssets()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// v13 = open(Ljava/lang/String;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v19&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;_JNIEnv:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;CallObjectMethod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v13&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì‹¤ì œë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assets&lt;/code&gt; Directory ì—ëŠ” ì•„ë˜ì™€ ê°™ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rrkf/1qcttjs&lt;/code&gt; ê²½ë¡œì˜ íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ì€ ì•”í˜¸í™”ëœ ë‚´ìš©ìœ¼ë¡œ, ì •ìƒì ìœ¼ë¡œ ì½ì„ ìˆœ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/6.png&quot; alt=&quot;6.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;â‘¡ &lt;strong&gt;Decrypt DEX&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ë”°ë¼ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Java_n_wo_pi()&lt;/code&gt; ë‚´ë¶€ì—ëŠ” ê°€ì ¸ì˜¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1qcttjs&lt;/code&gt; ì˜ ë‚´ìš©ì˜ ë³µí˜¸í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë¡œì§ì´ ìˆìŠµë‹ˆë‹¤. ë³µí˜¸í™”ë¥¼ ì™„ë£Œí•˜ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wo.pi&lt;/code&gt; ëŠ” Dectyped DEX ë‚´ìš©ì„ return í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;v49&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;_JNIEnv:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;CallIntMethod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v24&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v61&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v21&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v48&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 1. ì•”í˜¸í™”ëœ íŒŒì¼ ë‚´ìš© read&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v49&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80000000&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 3. ë³µí˜¸í™”ê°€ ëë‚¬ì„ê²½ìš°&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nl&quot;&gt;_JNIEnv:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;CallVoidMethod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v24&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v61&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v59&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// close(), 4. ì½ê¸° ì¢…ë£Œ&lt;/span&gt;
			&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
           &lt;span class=&quot;n&quot;&gt;v65&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 5. ë³µí˜¸í™” ëœ ë‚´ìš© ì €ì¥&lt;/span&gt;
           &lt;span class=&quot;n&quot;&gt;operator&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
				&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;v50&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(*(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__int64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__fastcall&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__int64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__int64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_QWORD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))(*(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_QWORD&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v24&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1472L&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v24&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v48&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 2. ë³µí˜¸í™” ì§„í–‰ (1ë¡œ ë‹¤ì‹œ ì´ë™)&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘¢ Save Dynamic DEX&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ë³µí˜¸í™” ëœ DEX íŒŒì¼ì˜ ë‚´ìš©ì€ ì–´ë”˜ê°€ ì €ì¥ë˜ì–´ì•¼ í•˜ëŠ”ë°, ê·¸ ê³¼ì •ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ImApplication.e()&lt;/code&gt; methodì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;e&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/data/user/0/rbj.xnpm.gjga.ucms/files/b&lt;/code&gt; ì™€ ë³µí˜¸í™”ëœ íŒŒì¼ ë‚´ìš©ì„ ì¸ìë¡œ ë°›ì•„, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wo.or&lt;/code&gt; ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;c1&quot;&gt;//str = &quot;/data/user/0/rbj.xnpm.gjga.ucms/files/b&quot;&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;//obj = ë³µí˜¸í™”í•œ dexíŒŒì¼&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;or&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Java_n_wo_or()&lt;/code&gt; ì—ì„œëŠ” ì¸ìë¡œ ë°›ì€ ê²½ë¡œì— DEX íŒŒì¼ì˜ ë‚´ìš©ì„ ì €ì¥í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(*(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__int64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(**)(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))(*(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_QWORD&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1472L&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ë³µí˜¸í™” DEX Byte array&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(*(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__int64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__fastcall&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__int64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__int64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_QWORD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))(*(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_QWORD&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v6&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1352L&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// /data/user/0/rbj.xnpm.gjga.ucms/files/b&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fwrite&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v9&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// í•´ë‹¹ ê²½ë¡œì— DEXíŒŒì¼ ë‚´ìš© ì‘ì„±&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ë”°ë¼ì„œ ë³µí˜¸í™”ëœ DEX íŒŒì¼ì€, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/data/user/0/rbj.xnpm.gjga.ucms/files/b&lt;/code&gt; ê²½ë¡œì— ì €ì¥ë˜ê²Œ ë©ë‹ˆë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘£ Load Class&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ImApplication&lt;/code&gt; ì—ì„œ ê°€ì¥ ë§ˆì§€ë§‰ì— ì‹¤í–‰ë˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a&lt;/code&gt; methodì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;c1&quot;&gt;// obj = DexClassLoader(path = /data/user/0/rbj.xnpm.gjga.ucms/files/b)&lt;/span&gt;
				&lt;span class=&quot;c1&quot;&gt;// wo.ls(1) = com.Loader&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;kw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ls&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;c1&quot;&gt;// wo.iz = ì¸ìë¥¼ create() í•¨&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;iz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wo.iz&lt;/code&gt; ëŠ” ì¸ìë¥¼ create() í•˜ë¯€ë¡œ, ì¸ìë¡œ ë“¤ì–´ê°€ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cls&lt;/code&gt; ì¦‰, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wo.kw&lt;/code&gt; ì˜ ë‚´ìš©ì„ ë³´ì•„ì•¼ í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wo.kw&lt;/code&gt;  ëŠ” ì•„ë˜ì˜ ì½”ë“œë¡œ ë™ì‘ì„ ìš”ì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// v7 = loadClass(com.Loader)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;_JNIEnv:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;CallObjectMethod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;locaClass()&lt;/code&gt; methodì— ì¸ìë¡œ ë“¤ì–´ê°„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.Loader&lt;/code&gt; Classë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b&lt;/code&gt; íŒŒì¼ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.Loaser&lt;/code&gt; classë¥¼ ì¸ìë¡œ ë°›ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wo.iz&lt;/code&gt; ëŠ” ì´ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;create()&lt;/code&gt; í•˜ë©° Dynamic DEX Loadingì€ ëì´ ë‚©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ê·¸ëŸ¼ ì´ì œ ì•±ì„ ì‹¤í–‰í•œ í›„, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/data/user/0/rbj.xnpm.gjga.ucms/files/b&lt;/code&gt; íŒŒì¼ì„ íšë“í•˜ ì•…ì„± ì•±ì´ ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” ì§€ ë¶„ì„í•´ë´…ì‹œë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;3-behavior-analysis&quot;&gt;3) Behavior Analysis&lt;/h2&gt;

&lt;p&gt;ì´ì „ ë‹¨ê³„ì—ì„œ íšë“í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b&lt;/code&gt; íŒŒì¼ì„ ë¶„ì„í•˜ì—¬, ì–´ë–¤ ë™ì‘ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ëŠ”ì§€ ë¶„ì„í•´ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;ëª¨ë“  ë™ì‘ì„ ë¶„ì„í•˜ê¸°ì—” ì–‘ì´ ë„ˆë¬´ ë§ìœ¼ë¯€ë¡œ, ì•„ë˜ì˜ ë™ì‘ë“¤ì— ëŒ€í•´ì„œë§Œ ë¶„ì„í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì´ ì¤‘ Roaming Mantisì˜ í•µì‹¬ ë™ì‘ì€ â‘¤ ê³µìœ ê¸° ì¥ì•…(DNS Hijacking) ë¶€ë¶„ì„ ë³´ì‹œë©´ ë˜ê² ìŠµë‹ˆë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘  Aì‚¬ ë°±ì‹  ì‚­ì œ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘¡ êµ­ë‚´ ì•± ê³„ì • ì •ë³´ ìˆ˜ì§‘&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘¢ Phishing ì°½ ìƒì„± #1&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘£ Phishing ì°½ ìƒì„± #2&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘¤ ê³µìœ ê¸° ì¥ì•… (DNS Hijacking)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘¥ C2 ì„œë²„ - ê³µê²©ì ì„œë²„ ì •ë³´ íŒŒì‹±&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘¦ SMS ê´€ë ¨ ë™ì‘&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â‘§ ê¸°íƒ€ ë™ì‘&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;â‘  Aì‚¬ ë°±ì‹  ì‚­ì œ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ëŒ€í•œë¯¼êµ­ì—ì„œ ê°€ì¥ ìœ ëª…í•œ Aì‚¬ì˜ ë°±ì‹ ì„ ì‚­ì œí•˜ëŠ” ë¡œì§ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;whileë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ëœ Packageëª… ì¤‘, ë°±ì‹ ì˜ Packageëª…(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.a**lab.v*&lt;/code&gt;)ê³¼ ê°™ì€ ê²Œ ìˆì„ ê²½ìš° ì‚­ì œí•˜ë„ë¡ í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;com.a**lab.v3&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 1. com.a***.v* ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” Packageëª…ì´ ìˆë‹¤ë©´ ì €ì¥&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;label_14:&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 2. ì¡´ì¬í•œë‹¤ë©´, DELETEí•˜ëŠ” Activity ì‹¤í–‰&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Intent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Intent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;v0_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setAction&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;android.intent.action.DELETE&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;v0_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;package:&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;v0_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addFlags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x10000000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;arg8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;startActivity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì•ˆë©ì„ ì‚­ì œí•˜ëŠ” activityë¥¼ ë„£ìŒ&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì‹¤í–‰ëœ ActivityëŠ” ì•„ë˜ì™€ ê°™ì´ ë³´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/7.png&quot; alt=&quot;7.png&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;â‘¡ êµ­ë‚´ ì•± ê³„ì • ì •ë³´ ìˆ˜ì§‘&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” ê¸°ê¸°ì— ì €ì¥ëœ ê³„ì •ë“¤ì— ëŒ€í•´ì„œ nameê³¼ typeì„ ë§¤ì¹­í•˜ì—¬ ì €ì¥í•˜ëŠ” ë¡œì§ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 1. ê¸°ê¸°ì—ì„œ ê´€ë¦¬ì¤‘ì¸ ê³„ì • ì •ë³´ ìˆ˜ì§‘&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Account&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0_4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;AccountManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getAccounts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 2. ê³„ì •ê³¼ ì¢…ë¥˜ë¥¼ ìˆ˜ì§‘&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v10_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;:&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0_4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìˆ˜ì§‘í•œ typeë“¤ ì¤‘ ì•„ë˜ì˜ íŒ¨í‚¤ì§€ëª…ì´ ì¼ì¹˜í•˜ëŠ” ê³„ì •ì´ ìˆë‹¤ë©´ ë‚´ìš©ì„ ìˆ˜ì§‘í•©ë‹ˆë‹¤. íŒ¨í‚¤ì§€ëª…ì€ êµ­ë‚´ ê²Œì„ì‚¬, OTP, í¬ì¸íŠ¸ ê´€ë ¨ íŒ¨í‚¤ì§€ëª…ë“¤ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/8.png&quot; alt=&quot;8.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” Sì‚¬ì˜ í¬ì¸íŠ¸ ì•± happy***** ì˜ ì €ì¥ ì˜ˆì‹œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;v9&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Happy*****:&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ê³„ì •ì´ ì¡´ì¬í•œë‹¤ë©´, commentì™€ í•¨ê»˜ ì €ì¥&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;â‘¢ Phishing ì°½ ìƒì„± #1&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;com.Loader&lt;/code&gt; Classì—ëŠ” staticìœ¼ë¡œ ì •ì˜ ëœ HTML/javascript ì½”ë“œë“¤ì´ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì½”ë“œë¥¼ ì •ì ìœ¼ë¡œ í™•ì¸í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ Phishing í˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ ë‚˜ë¼ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì•…ì„± í–‰ìœ„ë¥¼ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì—, ì‚¬ìš©ìì˜  í™˜ê²½ì— ë”°ë¼ ì–¸ì–´ë¥¼ ì¶œë ¥í•˜ë„ë¡ ë˜ì–´ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/9.png&quot; alt=&quot;9.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;í•œêµ­ì–´ì—ì„œ ê°’ì„ ê°€ì ¸ì™€ì„œ í™•ì¸í•´ë³´ë©´, ì•„ë˜ ê°™ì€ í˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í˜ì´ì§€ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127.0.0.1:Random_port&lt;/code&gt; ë¡œ ì—´ë¦¬ëŠ” Web view Activityë¡œ, ì‚¬ìš©ìëŠ” ì•ˆì „ ì¸ì¦ í˜ì´ì§€ë¡œ ì˜¤ì¸í•˜ì—¬ ë³¸ì¸ì˜ ì •ë³´ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%%ACCOUNT%%&lt;/code&gt; ë¶€ë¶„ì€ ê¸°ê¸°ì— ì €ì¥ëœ gmail ê³„ì •ì´ ì¶œë ¥ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/10.png&quot; alt=&quot;10.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì „ë‹¬ ë°›ì€ ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127.0.0.1:port/submit&lt;/code&gt; ìœ¼ë¡œ ì „ë‹¬, Response ê°’ì„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setMyInfo&lt;/code&gt; methodë¡œ JSON-RPC í†µì‹ í•˜ê²Œ ë©ë‹ˆë‹¤. ì¦‰ ê³µê²©ìì—ê²Œ ì „ë‹¬ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;JSON-RPCëŠ” ì›ê²© í”„ë¡œì‹œì € í˜¸ì¶œì„ ìœ„í•œ í”„ë¡œí† ì½œì…ë‹ˆë‹¤. ì„œë²„ì™€ ê²½ëŸ‰ì˜ ë°ì´í„° êµí™˜ì„ ìˆ˜í–‰í•˜ëŠ”ë°, ì´ ë•Œ JSON í˜•ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;v8_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v8_2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;first_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;middle_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v8_2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;last_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;xx1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;xx2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;xx3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;xx4&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ss1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ìˆ˜ì§‘í•œ ì •ë³´ë¥¼ JSON-RPCë¡œ ì „ë‹¬, ì›¹ ì„œë²„ ì¢…ë£Œ&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;JSON:&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;JSONObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;setMyInfo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v8_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Loader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Loader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;â‘£ &lt;strong&gt;Phishing ì°½ ìƒì„± #2&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ë˜ ë‹¤ë¥¸ Phishing ì°½ì˜ ì˜ˆì‹œë¥¼ ì‚´í´ë´…ì‹œë‹¤. ì´ Phishingì€ ì•± ì´ë¦„ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zc1&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zc&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scan&lt;/code&gt; ì¼ ê²½ìš° ìˆ˜í–‰ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì‚¬ìš©ìê°€ ì–´ë–¤ í†µì‹ ì‚¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì§€ì— ë”°ë¼, ê·¸ì— ë§ëŠ” Phishing í˜ì´ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ì¼ë³¸ì˜ í†µì‹ ì‚¬ì¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domoco&lt;/code&gt;ë¥¼ ì‚¬ìš© í•  ê²½ìš°ì˜ ì˜ˆì‹œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;docomo&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 1. domoco í†µì‹ ì‚¬ì¼ ê²½ìš°&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0_6&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://www.pinterest.com/catogreggex11/&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;v0_5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 2. ìœ„ì˜ URLì—ì„œ info ì •ë³´ ìˆ˜ì§‘&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ã€JNBã€‘ãŠå®¢æ§˜ãŒã”åˆ©ç”¨ã®ã‚¸ãƒ£ãƒ‘ãƒ³ãƒãƒƒãƒˆéŠ€è¡Œã«å¯¾ã—ã€ç¬¬ä¸‰è€…ã‹ã‚‰ã®ä¸æ­£ãªã‚¢ã‚¯ã‚»ã‚¹ã‚’æ¤œçŸ¥ã—ã¾ã—ãŸã€‚ã”ç¢ºèªãã ã•ã„ã€‚&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// 3. ìˆ˜ì§‘ì´ ì•ˆ ë  ê²½ìš°ë¥¼ ëŒ€ë¹„í•œ í”¼ì‹± ë¬¸êµ¬&lt;/span&gt;
                &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;v0_6ë¥¼ ë³´ë©´, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://www.pinterest.com/catogreggex11/&lt;/code&gt;ì˜ ì£¼ì†Œë¡œ ì ‘ê·¼í•˜ë ¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. PinterestëŠ” ìœ ëª…í•œ ì´ë¯¸ì§€ ê³µìœ  ì‚¬ì´íŠ¸ë¡œ, í”¼ì‹± ì‚¬ì´íŠ¸ê°€ ì•„ë‹™ë‹ˆë‹¤. í•´ë‹¹ URLì€ ê²½ë¡œì— ì íŒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;catogreggex11&lt;/code&gt; ê³„ì •ì˜ í”„ë¡œí•„ í˜ì´ì§€ì— ì ‘ê·¼ í•˜ëŠ” ê²ƒìœ¼ë¡œ, í•œë²ˆ ì§ì ‘ ì ‘ê·¼í•´ë³´ë„ë¡ í•©ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/11.png&quot; alt=&quot;11.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;info ë¬¸êµ¬ë¥¼ ë³´ë©´ í†µì‹ ì‚¬ì— ë§ëŠ” Phshing ë¬¸êµ¬ê°€ ì…ë ¥ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ„ì˜ ì½”ë“œì—ì„œ v0_5ëŠ” ì´ info ë¬¸êµ¬ë¥¼ parsing í•˜ê³ ,  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;----&lt;/code&gt; ë¥¼ ê¸°ì ìœ¼ë¡œ ê°ê° Notificationì˜ ë¬¸êµ¬ì™€  Notification í´ë¦­ ì‹œ openë˜ëŠ” WebView URLë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;â‘¤ ê³µìœ ê¸° ì¥ì•… (DNS Hijacking)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Roaming Mantisì˜ ê°€ì¥ í•µì‹¬ì´ ë˜ëŠ” ê³µìœ ê¸° ì¥ì•… ê¸°ëŠ¥ì„ ë¶„ì„í•´ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;ëª¨ë°”ì¼ í™˜ê²½ì—ì„œëŠ” ëŒ€ë¶€ë¶„ì˜ ê¸°ê¸°ê°€ ê³µìœ ê¸°(ë¼ìš°í„°)ë¥¼ DHCP ì„œë²„ë¡œ ë‘ê³  IP ë° DNS ì£¼ì†Œë¥¼ í• ë‹¹ ë°›ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê³µê²©ìëŠ” DHCP Serverì˜ IP ì£¼ì†Œë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;WifiManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getApplicationContext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSystemService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;wifi&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDhcpInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;serverAddress&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;í•˜ì§€ë§Œ DHCP ì„œë²„ì˜ IP ì£¼ì†Œë¥¼ ì•Œì•„ë´¤ì, ì‚¬ì„¤ IPì˜ ì£¼ì†Œì¼ ê°€ëŠ¥ì„±ì´ ë§¤ìš° í¬ê¸° ë•Œë¬¸ì— ê³µê²©ìëŠ” ì§ì ‘ ì ‘ê·¼í•˜ê¸° ì–´ë ¤ìš¸ ê²ƒì…ë‹ˆë‹¤. ë‚´ë¶€ì—ì„œ ì ‘ê·¼ì„ ì‹œë„í•´ì•¼ í•˜ë¯€ë¡œ ê³µê²©ìëŠ” ì‚¬ìš©ìì˜ ê¸°ê¸°ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê³µê²©ìëŠ” ìˆ˜ì§‘í•œ DHCP ì„œë²„ì˜ IP ì£¼ì†Œì— íŠ¹ì • TCP Portë¥¼ ì¶”ê°€í•˜ì—¬ ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8080&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8888&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7777&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8899&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v9&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;http://&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;:&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/login/login.cgi&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v9&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v10_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()){&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;v9_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v9&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì½”ë“œë¥¼ ë³´ë©´, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;8080&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;8888&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;80&lt;/code&gt; ë“± ì£¼ë¡œ ì›¹ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ê²Œ íšë“í•œ ì£¼ì†Œì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/login/login.cgi&lt;/code&gt; ê²½ë¡œë¥¼ ë¶™ì—¬ ìµœì¢…ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://{DHCP_SERVER}:{PORT}/login/login.cgi&lt;/code&gt; ë¼ëŠ” URLì„ ì™„ì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” ì‹¤í–‰ ì‹œ ì‹¤ì œë¡œ ë³´ë‚´ì§„ HTTP Request Dumpì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/12.png&quot; alt=&quot;12.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;URLì˜ ê²½ë¡œì—ì„œ ìœ ì¶”í•  ìˆ˜ ìˆë“¯, ê³µê²©ìëŠ” &lt;strong&gt;ê³µìœ ê¸° ê´€ë¦¬ í˜ì´ì§€ì— ì ‘ê·¼&lt;/strong&gt;í•˜ì—¬ ì‹¤ì œ ì‘ë‹µì´ ëŒì•„ì˜¤ëŠ” ì§€ í™•ì¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë§Œì•½ ì‘ë‹µì´ ëŒì•„ì˜¨ë‹¤ë©´ ì €ì¥í•˜ê³ , Refresh í˜¹ì€ Redirect ë˜ëŠ” Responseê°€ ì˜¨ë‹¤ë©´ í•´ë‹¹ ê²½ë¡œê¹Œì§€ ì ‘ê·¼í•˜ì—¬ ìµœì¢…ì ì¸ Responseë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Matcher&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Pattern&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;compile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http-equiv=\&quot;?refresh\&quot;? .+?URL=(.+?)\&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;matcher&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v9_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
 &lt;span class=&quot;nc&quot;&gt;Matcher&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v10_2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Pattern&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;compile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;lt;script&amp;gt;.+\\.location=\&quot;(.+?)\&quot;;.*//session_timeout&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;matcher&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v9_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Responseê°€ ìˆë‹¤ë©´ HTTP source code ì—ëŠ” í•´ë‹¹ DHCP ì„œë²„(ê³µìœ ê¸°)ì˜ ì •ë³´ê°€ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” ê³µìœ ê¸° ëª¨ë¸ì— ë”°ë¼ HTTP í˜ì´ì§€ì— ì í˜€ ìˆëŠ” ê°’ì…ë‹ˆë‹¤. ë§Œì•½ ì¼ì¹˜í•˜ëŠ” íŒ¨í„´ì´ ìˆë‹¤ë©´ &lt;strong&gt;ê³µìœ ê¸°ì˜ ëª¨ë¸ì´ ì–´ë–¤ ê²ƒì¸ì§€ ìœ ì¶”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/strong&gt; ê³µê²©ìëŠ” ì´ íŒ¨í„´ê³¼ ìˆ«ìë¥¼ ë§¤ì¹­í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/13.png&quot; alt=&quot;13.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì–´ë–¤ ë²ˆí˜¸ì— ë§¤ì¹­ë˜ì—ˆëŠëƒì— ë”°ë¼ ë‹¤ì–‘í•œ methodë“¤ì´ í˜¸ì¶œë˜ëŠ”ë°, ì—¬ê¸°ì„œ 1ë²ˆ iì‚¬ì˜ ê³µìœ ê¸°ì— ë§¤ì¹­ ë˜ì—ˆë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë§¤ì¹­ëœ ìˆ«ìì— ë”°ë¼ ì‹¤í–‰ë˜ëŠ” methodë“¤ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤. 1ë²ˆì— ë§¤ì¹­ë˜ì—ˆìœ¼ë‹ˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a.e&lt;/code&gt; methodë¡œ ì´ë™í•´ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;ë§¤ì¹­ëœ iì‚¬ì˜ ê³µìœ ê¸°ì˜ Default Credentialê³¼ token ê²€ì¦ ë°©ì‹ìœ¼ë¡œ ì¸ì¦ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ Request Header ìƒì„±, ì´ë¥¼ Default URLë¡œ ì „ë‹¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê° ê³µìœ ê¸°ë§ˆë‹¤ Headerì˜ ì¡°í•©ê³¼ URL ì£¼ì†Œê°€ ë‹¤ë¥´ë©°, ì¼ë°˜ì ì¸ ê³µìœ ê¸° ì‚¬ìš©ìê°€ ê´€ë¦¬ í˜ì´ì§€ì˜ Credentialì„ ë°”ê¾¸ëŠ” ì¼ì€ í”ì¹˜ ì•Šê¸° ë•Œë¬¸ì— ê³µê²©ìëŠ” ì‰½ê²Œ ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arg14&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Basic &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Base64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;encodeToString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;admin:admin&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getBytes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg14&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/cgi-bin/timepro.cgi?tmenu=main_frame&amp;amp;smenu=main_frame&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg14&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/cgi-bin/timepro.cgi?tmenu=netconf&amp;amp;smenu=wansetup&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;Matcher&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v9&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Pattern&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;compile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;id=\&quot;disabled_dynamicip&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;.*?value=\&quot;(.*?)\&quot;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;matcher&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v9&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v9&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ ë¶€ë¶„ì— &lt;strong&gt;DNS ì„œë²„ë¥¼ ë³€ê²½í•˜ë ¤ëŠ” Requestë¥¼ ìƒì„±í•˜ëŠ”ë°&lt;/strong&gt;, í•´ë‹¹ DNS ì„œë²„ì˜ ì£¼ì†ŒëŠ” C2 ì„œë²„ì— ê°’ì´ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// DNS ì„œë²„ë¥¼ ë³€ê²½í•˜ëŠ” Request ìƒì„±&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// v3ì˜ ê°’ì€ C2 ì„œë²„ì—ì„œ íŒŒì‹±&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg14&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/cgi-bin/timepro.cgi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tmenu=iframe&amp;amp;smenu=hiddenwansetup&amp;amp;act=save&amp;amp;ocolor=&amp;amp;wan=wan1&amp;amp;ifname=eth1&amp;amp;nopassword=0&amp;amp;wan_type=dynamic&amp;amp;allow_private=on&amp;amp;fdns_dynamic1=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;fdns_dynamic2=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;fdns_dynamic3=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;fdns_dynamic4=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;sdns_dynamic1=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;sdns_dynamic2=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;sdns_dynamic3=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;sdns_dynamic4=&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&amp;amp;dns_dynamic_chk=on&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getBytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ë ‡ê²Œ ì™¸ë¶€ ì„œë¹„ìŠ¤ì— ì €ì¥í•œ ì •ë³´ë¥¼ íŒŒì‹±í•´ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì§„ì—ì„œëŠ” í™œë™ ë€ì— ì íŒ ë¶€ë¶„ì´ ë°”ê¾¸ê³ ì í•˜ëŠ” ë™ì  DNS ì„œë²„ì˜ ì£¼ì†Œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/1.png&quot; alt=&quot;1.png&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;â‘¥ &lt;strong&gt;C2 ì„œë²„ - ê³µê²©ì ì„œë²„ ì •ë³´ íŒŒì‹±&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ë°”ë¡œ ì´ì „ ì„¹ì…˜ì—ì„œ íƒ€ ì„œë¹„ìŠ¤ì˜ ì›¹ ì‚¬ì´íŠ¸(C2 ì„œë²„)ì—ì„œ ë¬¸êµ¬ë“¤ì„ ìˆ˜ì§‘í•˜ëŠ” ê²ƒì„ ë³´ì•˜ìŠµë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ê³µê²©ìì˜ ì„œë²„ ì •ë³´ë„ C2 ì„œë²„ì— ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ê³µê²©ì ì„œë²„ ì •ë³´ë¥¼ ì°¾ì•„ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ì˜ ë¬¸ìì—´ì€ ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ ë§ì€ ì—°ê´€ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ ì¶”ì •ë˜ëŠ” ë¬¸ìì—´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;chrome|UCP5sKzxDLR5yhO1IB4EqeEg@youtube|id728589530@vk|1s0n64k12_r9MglT5m9lr63M5F3e-xRyaMeYP7rdOTrA@GoogleDoc2&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;í˜„ì¬ í”¼ì‹± ì•±ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì´ë¦„|youtubeê³„ì •|vkê³„ì •|GoogleDocê³„ì •&lt;/code&gt; ì˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆìœ¼ë©°, ì´ ì•±ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;covid&lt;/code&gt;ë“± ë‹¤ì–‘í•œ ì´ë¦„ìœ¼ë¡œ ë°°í¬ë˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í˜„ì¬ ì‚¬ìš©í•˜ëŠ” ì•± ì´ë¦„ì— ë§ëŠ” ì •ë³´ë¥¼ íŒŒì‹±í•˜ë„ë¡ ë™ì‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìš°ì„  vk(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id728589530@vk&lt;/code&gt;) ê³„ì •ì´ ì–´ë””ì„œ ì‚¬ìš©ë˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤. ì•± ì´ë¦„ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;debug&lt;/code&gt;ê°€ ì•„ë‹ ê²½ìš°ì— ìˆ˜í–‰ë˜ë©°, ìµœì¢…ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id729071494&lt;/code&gt; ê³„ì •ì˜ infoí˜ì´ì§€ì— ì ‘ê·¼í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 1. info í˜ì´ì§€ ì ‘ê·¼&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://m.vk.com/%s?act=info&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Arrays&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;copyOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 2. noopener íƒœê·¸ ì‚¬ì´ì˜ ë¬¸ìì—´ ë§¤ì¹­&lt;/span&gt;
 &lt;span class=&quot;nc&quot;&gt;Matcher&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3_3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Pattern&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;compile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;noopener\&quot;&amp;gt;(.+?)&amp;lt;/a&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;matcher&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v3_2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;í˜ì´ì§€ì˜ HTTP Code ì¤‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;noopener&lt;/code&gt; íƒœê·¸ ì´í›„ì˜ ë¬¸ìì—´ì„ í™•ì¸í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ê³µê²©ì ì„œë²„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/14.png&quot; alt=&quot;14.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ ì„œë²„ëŠ” ê²°ë¡ ì ìœ¼ë¡œ DHCPì„œë²„ì˜ Captcha ì¸ì¦ ì¤‘ Captcha ì´ë¯¸ì§€ë¥¼ ë³´ë‚´ëŠ” ì„œë²„ì…ë‹ˆë‹¤. ìì„¸í•œ ë¶„ì„ì€ ë¶„ëŸ‰ ìƒ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë¥¸ ì •ë³´ë“¤ì€ ì–´ë””ì— ì“°ì´ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” ê¸°ê¸°ì˜ í™˜ê²½ì´ í•œêµ­ì¼ ê²½ìš° ì‹¤í–‰ë˜ëŠ” ì½”ë“œë¡œ, ìœ„ì˜ ê³„ì • ì •ë³´ë“¤ ì¤‘ youtube(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UCP5sKzxDLR5yhO1IB4EqeEg@youtube&lt;/code&gt;)ê³„ì • ë¬¸ìì—´ì„ íŒŒì‹±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// UCP5sKzxDLR5yhO1IB4EqeEg@youtube ë¬¸ìì—´ íŒŒì‹±&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v7&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Loader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;$getPreferences$p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;account&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë§ˆì°¬ê°€ì§€ë¡œ í•´ë‹¹ ê³„ì •ì˜ about í˜ì´ì§€ì— ì ‘ê·¼í•œ í›„, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;oeewe&lt;/code&gt; ì‚¬ì´ì˜ ë¬¸ìì—´ì„ íŒŒì‹±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 1. about í˜ì´ì§€ ì ‘ê·¼&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://m.youtube.com/channel/%s/about&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Arrays&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;copyOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 2. oeewe ì‚¬ì´ì˜ ë¬¸ìì—´ ë§¤ì¹­&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Matcher&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v3_3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Pattern&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;compile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;oeewe([\\w_-]+?)oeewe&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;matcher&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v3_2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì ‘ê·¼í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;oeewe â€¦ oeewe&lt;/code&gt; ë¬¸ìì—´ì„ ì„¤ëª…ë€ì—ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/15.png&quot; alt=&quot;15.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;í•´ë‹¹ ë¬¸ìì—´ì€ DES(CBC) ë³µí˜¸í™” ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤. ë‹¤í–‰íˆ Keyì™€ IVê°€ í•˜ë“œì½”ë”© ë˜ì–´ìˆì–´, ì‰½ê²Œ  ë³µí˜¸í™” í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 1. Base64 Decoding&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Base64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 2. Key, IV í•˜ë“œì½”ë”©(ê°™ì€ ê°’)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Ab5d1Q32&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë³µí˜¸í™”ë¥¼ ì§„í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ê³µê²©ìì˜ ì„œë²„ ì£¼ì†Œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì£¼ì†ŒëŠ” íŒŒì‹± í›„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ws://&lt;/code&gt; ê°€ ì•ì— ë¶™ê²Œ ë˜ë¯€ë¡œ ì›¹ ì†Œì¼“ ì£¼ì†Œë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì„ ì¶”ì¸¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/16.png&quot; alt=&quot;16.png&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;â‘¦ &lt;strong&gt;SMSê´€ë ¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” ê¸°ê¸°ê°€ ê¸°ë³¸ SMS ì•±ì„ ì‚¬ìš©í•˜ëŠ”ì§€ ì²´í¬í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. ë§Œì•½ ê¸°ë³¸ SMSì•±ì„ ì•…ì„± ì•±ìœ¼ë¡œ ë°”ê¾¼ë‹¤ë©´, SMS ì¸ì¦ ìš°íšŒëŠ” ë¬¼ë¡ ì´ê³ , ë©”ì‹œì§€ ë‚´ìš© íƒˆì·¨, ë°œì‹ , ìˆ˜ì‹ ì´ ììœ ë¡œìš¸ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;v9_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Boolean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v5_6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Telephony&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Sms&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDefaultSmsPackage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v7_4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/17.png&quot; alt=&quot;17.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ê³µê²©ìëŠ” SMS ë©”ì‹œì§€ê°€ ìˆ˜ì‹ ë  ë•Œ, ë°œì‹ ìì˜ ì£¼ì†Œì™€ timestamp, ê·¸ë¦¬ê³  ë©”ì‹œì§€ë‚´ìš©ì„ HashMapìœ¼ë¡œ ì €ì¥í•˜ë©° ìˆ˜ì§‘í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 1. ìˆ˜ì‹ ëœ ë©”ì‹œì§€ë“¤ ìˆ˜ì§‘&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v0_6&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[])&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg27&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getExtras&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;pdus&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v12&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0_6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 2. ìˆ˜ì‹ ëœ ë©”ì‹œì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ SMS ë°ì´í„° ìƒì„±&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;SmsMessage&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v12_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SmsMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createFromPdu&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[])&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 3. ìˆ˜ì‹ ëœ ë©”ì‹œì§€ì˜ ë‚´ìš© ìˆ˜ì§‘&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v13&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v12_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDisplayMessageBody&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 4. ìˆ˜ì‹ ëœ ë©”ì‹œì§€ì˜ ë°œì‹  ì£¼ì†Œ ìˆ˜ì§‘&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v14&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v12_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getDisplayOriginatingAddress&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 5. ë°œì‹ ì ì£¼ì†Œ(key)-ë©”ì‹œì§€ì˜ timestamp(value) ë¡œ ì €ì¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v3_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v14&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v12_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getTimestampMillis&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()));&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 6. ë°œì‹ ì ì£¼ì†Œ(key)-ë©”ì‹œì§€ ë‚´ìš©(value)ë¡œ ì €ì¥&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;v4_2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v14&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v12_2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;JSON-RPCë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;onSms&lt;/code&gt; methodì™€ ìˆ˜ì§‘í•œ ë‚´ìš©ì„ ê³µê²©ì ì„œë²„ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-jsx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// s = &quot;onSms&quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 1. Json-RPCë¡œ onSms method ì‹¤í–‰&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;Map&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;map0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;b0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;jsonrpc&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)});&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 2. ìˆ˜ì§‘í•œ ë‚´ìš©ì„ paramsë¡œ ì „ë‹¬&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;map0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´í›„ ê³µê²©ìëŠ” audio ìƒíƒœë¥¼ ë¬´ìŒìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. ë§Œì•½ ê¸°ê¸°ë¥¼ ìì£¼ ì‚´í´ë³´ì§€ ì•ŠëŠ” ì‚¬ìš©ìë¼ë©´, ë³¸ì¸ë„ ëª¨ë¥´ëŠ” ì‚¬ì´ì— ë¬¸ìê°€ ë°œì‹ /ìˆ˜ì‹  ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v0_13&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getSystemService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;audio&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_13&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;AudioManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v0_13&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setRingerMode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìˆ˜ì‹ í•˜ëŠ” ê²½ìš°ì˜ ë¡œì§ë„ ì¡´ì¬í•©ë‹ˆë‹¤. íŠ¹ì´í•œ ì ì€ ìˆ˜ì‹ í•œ ë¬¸ìì˜ ì• ë‘ê¸€ìì— ë”°ë¼ ë‹¤ë¥¸ ë™ì‘ì„ í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë§ˆì¹˜ ê¸°ê³„ì— ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§¨ ì• ë‘ ê¸€ìì— ë”°ë¼ SharedPreference ê°ì²´ì— key-valueë¡œ ê°’ì„ ì €ì¥í•˜ëŠ” í˜•íƒœë¥¼ ë§ì´ ë³´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 1. ì• ê¸€ìê°€ FSì¸ ê²½ìš°, fs(key)-ë©”ì‹œì§€ë‚´ìš©(value) ì¶”ê°€&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;FS&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Loader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;$getPreferences$p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;edit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;putString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fs&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s13&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 2. ì• ê¸€ìê°€ SFì¸ ê²½ìš°, account(key)-ë©”ì‹œì§€ë‚´ìš©(value) ì¶”ê°€&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;SF&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Loader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;$getPreferences$p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;edit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;putString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;account&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s14&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 3. ì• ê¸€ìê°€ IFì¸ ê²½ìš°, ë„¤íŠ¸ì›Œí¬(socketë“±)ì—°ê²° ì‹œë„&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;IF&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;// 3-1. ì—°ê²° ë˜ì—ˆì„ ê²½ìš°&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;peer.ws!!.socket&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;s15&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;å·²è¿æ¥:&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getRemoteSocketAddress&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;// 3-2. ì—°ê²°ë˜ì§€ ì•Šì•˜ì„ ê²½ìš°&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;s15&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;æœªè¿æ¥,&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s16&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wifiManager0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wifiManager0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isWifiEnabled&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 4. ì• ê¸‘ìë¦¬ SIì¸ ê²½ìš°, addr_url/addr_encoding/addr_pattern/addr_accounts ì¶”ê°€&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;SI&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arr_b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Base64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s13&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Loader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;$getPreferences$p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;edit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;putString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;addr_url&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;putString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;addr_encoding&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;putString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;addr_pattern&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;putString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;addr_accounts&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 5. ì• ê¸€ìë¦¬ FMì¸ ê²½ìš°, Key(arr_b1)ìœ¼ë¡œ AES ë³µí˜¸í™” í›„ fsm(key)-ë©”ì‹œì§€ë‚´ìš©(value) ì¶”ê°€&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;FM&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arr_b1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Base64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;CpMSc7iSk/dTcRO7aMe4qA==&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Loader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;access&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;$getPreferences$p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;edit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;putString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fsm&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s18&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì–´ë–¤ ë‚´ìš©ì´ ì˜¤ê°€ëŠ”ì§€ ì •í™•í•œ ë‚´ìš©ì€ ëª°ë¼ë„, ì–´ëŠ ì •ë„ ìœ ì¶”ëŠ” ê°€ëŠ¥í•˜ë©° ì‚¬ìš©ìì˜ ê¸°ê¸°ë¡œ í•˜ì—¬ê¸ˆ ì•…ì˜ì ì¸ í–‰ìœ„ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;â‘¦ ê¸°íƒ€ ë™ì‘&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ì•± ì •ë³´ ìˆ˜ì§‘
    &lt;ul&gt;
      &lt;li&gt;ì„¤ì¹˜ëœ ì•±ë“¤ì˜ ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ê³µì¸ì¸ì¦ì„œ íƒˆì·¨
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/sdcard/NAKI&lt;/code&gt; ì— ì €ì¥ëœ ê³µì¸ì¸ì¦ì„œë¥¼ íƒˆì·¨í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ë°°í„°ë¦¬ ìµœì í™” ë¬´ì‹œ
    &lt;ul&gt;
      &lt;li&gt;ë°±ê·¸ë¼ìš´ë“œì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸° ìœ„í•´, ë°°í„°ë¦¬ ìµœì í™”ë¥¼ ë¬´ì‹œí•˜ë„ë¡ í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;wifi lock ì„¤ì •
    &lt;ul&gt;
      &lt;li&gt;ì—°ê²°ëœ WIFI Lockì„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Swi&lt;/code&gt; ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ìƒì„±, ë°±ê·¸ë¼ìš´ë“œì—ì„œë„ ì—°ë½ì´ ì´ì–´ì§€ê²Œ ë” ë™ì‘í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ì ì£¼ë³€ ë„¤íŠ¸ì›Œí¬, ê¸°ê¸° ì •ë³´ ì „ì†¡
    &lt;ul&gt;
      &lt;li&gt;ì‚¬ìš©ìì˜ ë„¤íŠ¸ì›Œí¬ì™€ ë””ë°”ì´ìŠ¤ ì •ë³´ë¥¼ SharedPreferenceì— ì €ì¥í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ë£¨íŒ… íƒì§€
    &lt;ul&gt;
      &lt;li&gt;ë£¨íŒ… ì—¬ë¶€ë¥¼ íƒì§€í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ê¸ˆìœµ ì•± ê´€ë ¨
    &lt;ul&gt;
      &lt;li&gt;ê¸ˆìœµ ì•± ëŒ€ì‹  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/sdcard/.upload2&lt;/code&gt; í•˜ìœ„ì˜ ì•…ì„± ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ì‚¬ì§„ íƒˆì·¨
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/DCIM/Camera&lt;/code&gt; ì— ìœ„ì¹˜í•œ ì‚¬ì§„ íŒŒì¼ë“¤ì„ íƒˆì·¨í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;C2 ì„œë²„ë¡œë¶€í„° command ìˆ˜ì‹ 
    &lt;ul&gt;
      &lt;li&gt;ë‹¤ì–‘í•œ commandë¥¼ ì „ë‹¬ë°›ì•„ ë™ì‘í•©ë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;&lt;img src=&quot;/assets/2023-11-15-Android-malware-ì‚¬ë§ˆê·€-í•´ë¶€í•™/18.png&quot; alt=&quot;18.png&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì´ ì™¸ì—ë„ ëª¨ë‘ ë¶„ì„í•˜ë©´ ê½¤ ë§ì€ ì–‘ì˜ ê¸°ëŠ¥ì„ ì‹ë³„í•  ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;4--outro&quot;&gt;4.  Outro&lt;/h1&gt;

&lt;p&gt;ì§€ê¸ˆê¹Œì§€ Android Malware : Roaming Mantisë¥¼ ë¶„ì„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. íƒ€ì¸ì—ê²Œ ì„¤ëª…í•˜ê¸°ì— ì–‘ë„ ë§ê³  ë‚´ìš©ë„ ë³µì¡í•´ ê¸€ì„ ì“°ë©´ì„œë„ ê³ ë¯¼ì´ ë§ì•˜ìŠµë‹ˆë‹¤. í‹€ë¦° ë¶€ë¶„ì€ ì—†ëŠ”ì§€ ì—¬ëŸ¬ ë²ˆ í™•ì¸ë„ í•˜ì˜€ì§€ë§Œ, í˜¹ì‹œë‚˜ ë°œê²¬í•˜ì‹ ë‹¤ë©´ ì œ ë¯¸ìˆ™í•¨ìœ¼ë¡œ ì—¬ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. (í‹€ë¦° ë¶€ë¶„ì— ëŒ€í•œ ë¬¸ì˜ëŠ” hrjeon@stealien.comìœ¼ë¡œ ì—°ë½ ë°”ëë‹ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;Roaming MantisëŠ” ë§¤ìš° ì •ì„± ë“¤ì—¬ ë§Œë“  Malwareì…ë‹ˆë‹¤. ê·¸ë§Œí¼ ë§ì€ ê³³ì— ë³µì œë˜ì–´ì„œ ì´ê³³ì €ê³³ ì“°ì¼ ê²ƒì…ë‹ˆë‹¤. í˜¹ì‹œë‚˜ ì´ Malwareë¥¼ ë§ˆì£¼í•˜ê²Œ ë˜ì‹ ë‹¤ë©´, ê¸€ì„ ì½ìœ¼ì‹œëŠ” ë¶„ë“¤ë„ í•œë²ˆ ì¯¤ ë¶„ì„í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?&lt;/p&gt;

&lt;p&gt;ë” ë§ì€ ë¡œì§ì´ ìˆìŒì—ë„ ë‹¤ ë‹´ì„ ìˆ˜ ì—†ì–´ ì•„ì‰½ê¸°ë„ í•˜ê³ , ë‚¨ì€ ë¡œì§ì€ í›„ì¼ì— ì²œì²œíˆ í’€ì–´ë³´ë„ë¡ í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê¸€ì˜ ì£¼ì œë¥¼ ì œê³µí•´ì£¼ì‹  ê¹€ë„í˜„ íŒ€ì¥ë‹˜ê³¼ ë¶„ì„ ì‹¤ë§ˆë¦¬ë¥¼ ì œê³µí•´ì£¼ì‹  ê¹€ë™ê·œ ì„ ì„ì—°êµ¬ì›ë‹˜, ê¸€ ì‘ì„±ì„ ë„ì™€ì£¼ì‹  ì„í•„í˜¸ ì„ ì„ì—°êµ¬ì›ë‹˜ì„ ë¹„ë¡¯í•œ ëª¨ì˜í•´í‚¹íŒ€ ë¶„ë“¤ì—ê²Œ ê°ì‚¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì´ ë§ì€ ë¶„ë“¤ì˜ ì—°êµ¬ì— ë„ì›€ì´ ë˜ê¸¸ ë°”ë¼ë©° ê¸€ì„ ì¤„ì´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;</content><author><name>Hyerim Jeon</name></author><category term="R&amp;D" /><summary type="html">Android Malware : ì‚¬ë§ˆê·€ í•´ë¶€í•™</summary></entry><entry xml:lang="ko"><title type="html">ë²„ê·¸í—ŒíŒ…: ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„±</title><link href="http://ufo.stealien.com/id/2023-07-31/bughunting-vulnerability-chaining-ko" rel="alternate" type="text/html" title="ë²„ê·¸í—ŒíŒ…: ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„±" /><published>2023-07-31T20:00:00+09:00</published><updated>2023-07-31T20:00:00+09:00</updated><id>http://ufo.stealien.com/2023-07-31/bughunting-vulnerability-chaining-ko</id><content type="html" xml:base="http://ufo.stealien.com/2023-07-31/bughunting-vulnerability-chaining-ko">&lt;h1 id=&quot;ë²„ê·¸í—ŒíŒ…-ì·¨ì•½ì -ì²´ì´ë‹ì˜-ì¤‘ìš”ì„±&quot;&gt;ë²„ê·¸í—ŒíŒ…: ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„±&lt;/h1&gt;
&lt;h2 id=&quot;no-impact-no-bug&quot;&gt;No impact, No bug&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-31-bughunting-vulnerability-chaining/0.png&quot; alt=&quot;CVSS3.1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë²„ê·¸í—ŒíŒ…ì—ì„œëŠ” ì´ ì·¨ì•½ì ìœ¼ë¡œ ì–´ë–¤ ì•…ì˜ì ì¸ í–‰ìœ„ë¥¼ í•  ìˆ˜ ìˆëŠ”ì§€ ì¦ëª…í•´ì•¼ í•©ë‹ˆë‹¤.
ëŒ€ë¶€ë¶„ì˜ ê¸°ì—…ì´ë‚˜ ê¸°ê´€ë“¤ì´ CVSS ì ìˆ˜ë¥¼ ì´ìš©í•´ ì·¨ì•½ì ì— ëŒ€í•œ í‰ê°€ë¥¼ í•˜ê¸° ë•Œë¬¸ì— ì·¨ì•½ì ì„ ì•…ìš©í•  ìˆ˜ ìˆëŠ” ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¥¼ ìƒê°í•´ë‚´ì–´ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë¬´ëŸ° ìƒê° ì—†ì´ ë‹¨ì¼ ì·¨ì•½ì ì„ ì œë³´í•˜ë©´, ìì¹« ë§ì€ ì‹œê°„ì„ ë“¤ì—¬ ì°¾ì€ ì·¨ì•½ì ì´ ë‚®ì€ í‰ê°€ë¥¼ ë°›ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ê·¸ë ‡ë‹¤ ë³´ë‹ˆ ìì—°ìŠ¤ëŸ½ê²Œ ë²„ê·¸í—Œí„°ë“¤ì€ ì¶”í›„ ë°œê²¬ë  ì·¨ì•½ì ê³¼ì˜ ì—°ê³„ë¥¼ ìœ„í•´ ë‚®ì€ ì˜í–¥ë„(impact)ì˜ ì·¨ì•½ì ì„ ì €ì¥í•´ë‘¡ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë” ë†’ì€ ì˜í–¥ë ¥ì„ ê°€ì§„ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ë©´ ì œë³´í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ° ë°©ì‹ì„ ë‹¤ë¥¸ ì·¨ì•½ì ê³¼ì˜ ì—°ê³„, ì¦‰ ì·¨ì•½ì  ì²´ì´ë‹ì´ë¼ê³  ë§í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;vulnerability-chaining&quot;&gt;Vulnerability Chaining&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;ì·¨ì•½ì  ì²´ì´ë‹ì´ë€, ë‘ ê°œ ì´ìƒì˜ ì·¨ì•½ì ì„ ì—°ê²°í•˜ì—¬ ìƒëŒ€ì ìœ¼ë¡œ ì¤‘ìš”í•˜ì§€ ì•Šì€ ë³´ì•ˆ ì´ìŠˆë“¤ì„ ê²°í•©í•´ ê°•ë ¥í•œ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;ì·¨ì•½ì  ì²´ì´ë‹ì€ ë¶„ì„ ëŒ€ìƒì— ëŒ€í•œ ê¹Šì€ ì´í•´ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ì•„ë¬´ë˜ë„ í•œ ê°€ì§€ ì·¨ì•½ì ì´ ì•„ë‹Œ ì—¬ëŸ¬ ì·¨ì•½ì ì„ ì°¾ì•„ì•¼ í•¨ë„ ìˆê³ , íŠ¹íˆ ì·¨ì•½ì ì€ ì•„ë‹ˆì§€ë§Œ ì„œë¹„ìŠ¤ ìƒì˜ ì •ìƒì ì¸ ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œë„ ì·¨ì•½ì ê³¼ì˜ ì—°ê³„ê°€ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë•Œë¬¸ì— ë‹¨ìˆœíˆ ì·¨ì•½ì  ë¿ë§Œ ì•„ë‹ˆë¼ ê¸°ëŠ¥ì— ëŒ€í•œ ì„¸ë¶€ì ì¸ ë¶„ì„ë„ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì·¨ì•½ì  ì²´ì´ë‹ ë°©ë²•ë¡  ìš”ì•½&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ì‹œìŠ¤í…œ ì´í•´ : ì‹œìŠ¤í…œì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì „ë°˜ì ìœ¼ë¡œ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”&lt;/li&gt;
  &lt;li&gt;ì„¸ë¶€ì ì¸ ë¶„ì„ : ê°œë³„ ì·¨ì•½ì ì„ ì‹ë³„í•˜ê³  ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”&lt;/li&gt;
  &lt;li&gt;ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì¶• : ì‹¤ì œ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ êµ¬ì¶•í•˜ê³  ì‹œë®¬ë ˆì´ì…˜ í•„ìš”&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì·¨ì•½ì  ì²´ì´ë‹ì— ëŒ€í•œ ì¢‹ì€ ì˜ˆì‹œë¡œ êµ­ë‚´ CMSë¥¼ ëŒ€ìƒìœ¼ë¡œ í•œ ì·¨ì•½ì  í•˜ë‚˜ë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. í•´ë‹¹ ì·¨ì•½ì ì€ ì´ìœ°ë¹Œë”ì—ì„œ ê²½ë¡œ ì¡°ì‘ì„ í†µí•œ LFI(Local File Inclusion)ê°€ ê°€ëŠ¥í•´ ë°œìƒí•˜ëŠ” RCE(Remote Code Execution) ì·¨ì•½ì ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìì„¸í•œ ì •ë³´ëŠ” KISAì˜ ë³´ì•ˆ ì·¨ì•½ì  ì •ë³´ í¬í„¸ì˜ êµ­ë‚´ ì·¨ì•½ì  ì •ë³´ í˜ì´ì§€ì— ë°©ë¬¸í•˜ì‹œë©´ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (&lt;a href=&quot;https://knvd.krcert.or.kr/detailDos.do?IDX=5789&quot;&gt;https://knvd.krcert.or.kr/detailDos.do?IDX=5789&lt;/a&gt;)&lt;/p&gt;

&lt;h1 id=&quot;cve-2022-41158--ì´ìœ°ë¹Œë”-ì›ê²©-ì½”ë“œ-ì‹¤í–‰-ì·¨ì•½ì &quot;&gt;&lt;strong&gt;CVE-2022-41158 | ì´ìœ°ë¹Œë” ì›ê²© ì½”ë“œ ì‹¤í–‰ ì·¨ì•½ì &lt;/strong&gt;&lt;/h1&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì·¨ì•½ì  ì¢…ë¥˜&lt;/th&gt;
      &lt;th&gt;ì˜í–¥&lt;/th&gt;
      &lt;th&gt;ì‹¬ê°ë„&lt;/th&gt;
      &lt;th&gt;CVSS ì ìˆ˜&lt;/th&gt;
      &lt;th&gt;ì œí’ˆ&lt;/th&gt;
      &lt;th&gt;ì˜í–¥ ë°›ëŠ” ë²„ì „&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;LFI (Local File Inclusion)&lt;/td&gt;
      &lt;td&gt;ì›ê²© ì½”ë“œ ì‹¤í–‰&lt;/td&gt;
      &lt;td&gt;High&lt;/td&gt;
      &lt;td&gt;7.2&lt;/td&gt;
      &lt;td&gt;ì´ìœ°ë¹Œë”&lt;/td&gt;
      &lt;td&gt;4.5.3 ë° ì´ì „ ë²„ì „&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ì·¨ì•½ì  ì„¤ëª… : ì´ìœ°ë¹Œë”ê°€ ì¿ í‚¤ ê°’ì„ íŒŒì¼ì˜ ê²½ë¡œì— ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì´ìš©í•˜ì—¬ ì›ê²© ì½”ë“œ ì‹¤í–‰ì´ ê°€ëŠ¥í•œ ì·¨ì•½ì &lt;/p&gt;

&lt;h2 id=&quot;ì´ìœ°ë¹Œë”-ê°œìš”&quot;&gt;ì´ìœ°ë¹Œë” ê°œìš”&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://eyoom.net/&quot;&gt;ì´ìœ°ë¹Œë”&lt;/a&gt;ëŠ” ê·¸ëˆ„ë³´ë“œ5(ì˜ì¹´íŠ¸5)ë¥¼ í”„ë ˆì„ì›Œí¬ë¡œ ì‚¬ìš©í•œ íšŒì›ê°€ì…, ê²Œì‹œíŒ, ì‡¼í•‘ëª° ê²°ì œ ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” êµ­ë‚´ CMS ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-31-bughunting-vulnerability-chaining/1.png&quot; alt=&quot;[https://eyoom.net/page/eb4_introduction](https://eyoom.net/page/eb4_introduction)&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;lfi-patch-analysis&quot;&gt;LFI Patch Analysis&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ì´ìœ°ë¹Œë” ë³€ê²½ íŒŒì¼ ì†ŒìŠ¤ ë³´ê¸°(Github)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-31-bughunting-vulnerability-chaining/2.png&quot; alt=&quot;[https://github.com/eyoom/eyoom_builder_4/commit/4fa8436cf2691dae5064d7c187ffa90327d41042](https://github.com/eyoom/eyoom_builder_4/commit/4fa8436cf2691dae5064d7c187ffa90327d41042)&quot; /&gt;
&lt;em&gt;&lt;a href=&quot;https://github.com/eyoom/eyoom_builder_4/commit/4fa8436cf2691dae5064d7c187ffa90327d41042&quot;&gt;https://github.com/eyoom/eyoom_builder_4/commit/4fa8436cf2691dae5064d7c187ffa90327d41042&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;4.5.4 ë²„ì „ ì´ìƒì—ì„œëŠ” ìœ„ì™€ ê°™ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$unique_theme_id&lt;/code&gt; ë³€ìˆ˜ ê°’ì— ìˆ«ìë§Œ ì…ë ¥ ê°’ìœ¼ë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë„ë¡ ì •ê·œì‹ í•„í„°ë§ì´ ê±¸ë ¸ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ì‹œ ë§í•´ 4.5.3 ì´í•˜ ë²„ì „ì—ì„œëŠ” $unique_theme_id ë³€ìˆ˜ì˜ ê°’ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;../&lt;/code&gt; ì™€ ê°™ì€ íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ë¬¸ìì—´ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ëŠ” ë§ê³¼ë„ ê°™ìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ ê·¸ê²ƒì´ ê°€ëŠ¥í•œì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ ì½”ë“œëŠ” git commitì—ì„œ ë³´ì•˜ë˜ eyoom/class/theme.class.php íŒŒì¼ ë‚´ìš© ì¤‘ ì·¨ì•½í•œ ì½”ë“œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cd&quot;&gt;/**
 * ìœ ë‹ˆí¬ ì•„ì´ë”” ì¿ í‚¤ ìƒì„±
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get_cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'unique_theme_id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$unique_theme_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'unique_theme_id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$unique_theme_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'YmdHis'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str_pad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;microtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;STR_PAD_LEFT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;set_cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'unique_theme_id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$unique_theme_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3600&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp_path&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/'&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_SERVER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'REMOTE_ADDR'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'.'&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$unique_theme_id&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'.php'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;include_once&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$is_shop_theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'theme'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'theme'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'shop_theme'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$user_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'shop_theme'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$_config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;cd&quot;&gt;/**
 * íŒŒì¼ ìƒì„± ë° ê°±ì‹ 
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;save_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'user_config'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì¿ í‚¤ ê°’ìœ¼ë¡œë¶€í„° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$unique_theme_id&lt;/code&gt; ê°’ì„ ë°›ì•„ì˜¤ê³ , ë‹¤ì‹œ ê·¸ ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$file&lt;/code&gt; ë³€ìˆ˜ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$unique_theme_id&lt;/code&gt;ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.php&lt;/code&gt; ë¼ëŠ” í™•ì¥ìê°€ ë”í•´ì ¸ íŠ¹ì • íŒŒì¼ì˜ ê²½ë¡œê°€ ì‚½ì…ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë¦¬ê³  ë°”ë¡œ ì•„ë˜ ì¤„ì—ì„œ ë§Œì•½ í•´ë‹¹ ê²½ë¡œì— íŒŒì¼ì´ ì¡´ì¬í•œë‹¤ë©´, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;include_once($file)&lt;/code&gt; ì—ì„œ íŒŒì¼ì´ include ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ê³µê²©ìê°€ íŠ¹ì • ê²½ë¡œì— php íŒŒì¼ì„ ìƒì„±í•˜ê±°ë‚˜ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” PHP íŒŒì¼ì— ì„ì˜ ëª…ë ¹ì–´ë¥¼ ì‚½ì…í•  ìˆ˜ ìˆë‹¤ë©´, ì´ LFI ì·¨ì•½ì ì„ ì´ìš©í•´ ê·¸ PHP íŒŒì¼ì„ ë¶ˆëŸ¬ì™€ ì„ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” &lt;strong&gt;RCE ì·¨ì•½ì ìœ¼ë¡œ ì—°ê³„&lt;/strong&gt;í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;file_exists&lt;/code&gt; í•¨ìˆ˜ì—ì„œëŠ” ì¡´ì¬í•˜ì§€ ì•Šì€ ë””ë ‰í„°ë¦¬ì˜ ìƒìœ„ê²½ë¡œì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ex) not_exists_directory/../../index.php (X)&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ì´ìœ°ë¹Œë”ì— ëŒ€í•œ ì´í•´ê°€ ë¶€ì¡±í•˜ë‹¤ë©´, ìœ„ ì·¨ì•½ì ì—ì„œ ì–´ë–»ê²Œ LFIë¡œ ì—°ê³„í•˜ê³  RCE ì·¨ì•½ì ê¹Œì§€ íŠ¸ëŸ¬ê¸°í•  ìˆ˜ ìˆëŠ”ì§€ ë°œê²¬í•´ë‚´ê¸° ì‰½ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;$file ë³€ìˆ˜ì˜ ê°’ì´ ê²°êµ­ í•˜ë‹¨ì˜ save_file í•¨ìˆ˜ì— ë“¤ì–´ê°€ê²Œ ë˜ëŠ”ë°, save_file í•¨ìˆ˜ì˜ ë‚´ìš©ì„ ë³´ë©´ PHP íŒŒì¼ì˜ ë‚´ìš©ìœ¼ë¡œ ë“¤ì–´ê°€ê²Œ ë˜ëŠ” ê°’ë“¤ì€ ì‚¬ìš©ìê°€ ì§ì ‘ ì¡°ì‘í•  ìˆ˜ ì—†ì–´ ë³´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë§Œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$unique_theme_id&lt;/code&gt; ê°’ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;../&lt;/code&gt;ì™€ ê°™ì€ ë¬¸ìì—´ì´ ë“¤ì–´ì™”ì„ ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fopen&lt;/code&gt; í•¨ìˆ˜ì—ì„œ ìƒìœ„ ê²½ë¡œì— íŒŒì¼ì´ ì“°ì—¬ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cd&quot;&gt;/**
 * ë°°ì—´ì„ ì§€ì •í•œ íŒŒì¼ë¡œ ì €ì¥ - í´ë”ì— ì›¹ì„œë²„ì˜ ì“°ê¸° ê¶Œí•œì´ ìˆì–´ì•¼ í•¨
 */&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;save_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$outvar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$fp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fopen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'w'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;?php&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;if (!defined('_EYOOM_')) exit;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$outvar&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; = array(&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$info&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;is_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;// í‚¤ê°’ìœ¼ë¡œ ì •ìˆ˜ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;is_int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;addslashes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;addslashes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;is_int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$k&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;addslashes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$k&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;addslashes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; =&amp;gt; array(&quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$arr&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;),&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;);&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fwrite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;fclose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mo&quot;&gt;0644&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë˜ ì½”ë“œë¥¼ ë³´ì‹œë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$value&lt;/code&gt; ê°’ì€ ëª¨ë‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;addslashes()&lt;/code&gt; í•¨ìˆ˜ë¡œ í•„í„°ë§ ë˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$key&lt;/code&gt; ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save_file()&lt;/code&gt; í•¨ìˆ˜ í˜¸ì¶œ ì „ì˜ ê°’ì„ í™•ì¸í•´ë³´ì‹œë©´ ì•Œ ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œ, ì´ìœ°ë¹Œë”ì˜ ì„¤ì • ê°’(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$arr['theme']&lt;/code&gt;)ì— í•´ë‹¹í•©ë‹ˆë‹¤. ì´ ê°’ì€ ì‚¬ìš©ì ì¸¡ì—ì„œ ì¡°ì‘í•  ìˆ˜ ì—†ëŠ” ê°’ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë•Œë¬¸ì— ìœ„ì—ì„œ ë³¸ ì½”ë“œ ë§Œìœ¼ë¡œëŠ” ì„ì˜ íŒŒì¼ ì‘ì„± ì·¨ì•½ì ì„ LFIì™€ RCE ì·¨ì•½ì ìœ¼ë¡œ ì—°ê³„í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²°ë¡ ì´ ë‚˜ì˜µë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ì—¬ëŸ¬ë¶„ì´ë”ë¼ë„ ì—¬ê¸°ì„œ í¬ê¸°í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ì•„ì‰½ê² ì£ . ì‚¬ì‹¤ìƒ ìœ„ ì·¨ì•½ì ë§Œìœ¼ë¡œëŠ” ì•…ì„± ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì œì‘í•˜ê¸°ì—ëŠ” íŒŒê¸‰ë ¥ì´ ë§ì´ ë‚®ìŠµë‹ˆë‹¤. ì–´ë–¤ ê³³ì—ì„œëŠ” ë‹¨ìˆœíˆ ê°€ëŠ¥ì„±ë§Œ ì œì‹œí•˜ì—¬ë„ Potential ì·¨ì•½ì ìœ¼ë¡œ ì·¨ê¸‰í•´ì£¼ê¸°ë„ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì§ˆì ì¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ì œë³´ì ë¿ë§Œ ì•„ë‹ˆë¼ ì œë³´ ë°›ëŠ” ì‚¬ëŒ ì…ì¥ì—ì„œë„ ì·¨ì•½ì ì— ëŒ€í•œ ì‹¬ê°ë„ë¥¼ í™•ì‹¤íˆ ì´í•´í•˜ê³  ë¬¸ì œì˜ ì‹œê¸‰í•¨ì„ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;finding-arbitrary-code-injection&quot;&gt;Finding Arbitrary Code Injection&lt;/h2&gt;

&lt;p&gt;ì €í¬ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save_file()&lt;/code&gt; í•¨ìˆ˜ì—ì„œ php íŒŒì¼ì„ ì‘ì„±í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ìœ„ì—ì„œ ë³´ì•˜ë˜ ì½”ë“œì—ì„œëŠ” ì´ìœ°ë¹Œë”ì˜ ì„¤ì • ê°’ì„ ë°›ì•„ì„œ ì‘ì„±í•˜ê³  ìˆë‹¤ê³  í•˜ì§€ë§Œ, ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ ê°’ì„ ë°›ì•„ì„œ ì‘ì„±í•˜ëŠ” ê³³ì´ ìˆì§€ ì•Šì„ê¹Œìš”?&lt;/p&gt;

&lt;p&gt;ê·¸ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì„ ì°¾ëŠ” ì‰¬ìš´ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ Visual Studio Codeì—ì„œ &lt;strong&gt;Go to References&lt;/strong&gt; ê¸°ëŠ¥ì„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-31-bughunting-vulnerability-chaining/3.png&quot; alt=&quot;VSCode&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë³´ì‹œë‹¤ì‹œí”¼ ìš°ì¸¡ì˜ ìˆ˜ë§ì€ íŒŒì¼ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save_file()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ íŒŒì¼ë“¤ ì¤‘ì—ì„œ í•˜ë‚˜ì¯¤ì€ ì‚¬ìš©ìë¡œë¶€í„° ë°›ì€ ì…ë ¥(user input, cookies, ë“±)ìœ¼ë¡œë¶€í„° ê°’ì„ ë°›ì•„ íŒŒì¼ì„ ì‘ì„±í•˜ê³  ìˆì§€ ì•Šì„ê¹Œìš”? ì–´ë–¤ íŒŒì¼ì—ì„œ ê·¸ë ‡ê²Œ ì²˜ë¦¬í•˜ê³  ìˆëŠ”ì§€ëŠ” ìŠ¤í¬(?)í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤.  (ê°œì¸ ì‚¬ìœ ë¡œ ì·¨ì•½ì ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ë‚´ë…„ì— ìì„¸íˆ í•˜ê²Œ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;ìœ„ì—ì„œ ì‚´í´ë³¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;save_file()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ë©´ë°€íˆ ì‚´í´ë³´ë©´, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$value&lt;/code&gt; ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;addslashes()&lt;/code&gt; í•¨ìˆ˜ë¡œ í•„í„°ë§í•˜ê³  ìˆì§€ë§Œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$key&lt;/code&gt; ê°’ì€ í•„í„°ë§í•˜ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ì  ë˜í•œ ì¤‘ìš”í•œ í¬ì¸íŠ¸ì…ë‹ˆë‹¤. ë§Œì•½ ì‚¬ìš©ìê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$key&lt;/code&gt; ê°’ì„ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤ë©´, ì›í•˜ëŠ” ë‚´ìš©ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ php íŒŒì¼ì— ì‚½ì…í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;ì§€ê¸ˆê¹Œì§€ ë²„ê·¸í—ŒíŒ…ì—ì„œì˜ ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„±ì— ëŒ€í•´ ì„¤ëª…í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ ì˜ˆì‹œë¡œ êµ­ë‚´ ì˜¤í”ˆì†ŒìŠ¤ CMS ì¤‘ í•˜ë‚˜ì¸ ì´ìœ°ë¹Œë”ì— ëŒ€í•´ì„œë„ ë§ì”€ë“œë ¤ë³´ì•˜ìŠµë‹ˆë‹¤. ë¹„ë¡ ì·¨ì•½ì ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ ë“œë¦¬ì§€ ì•Šì•˜ì§€ë§Œ, ê·¸ ì´í›„ì˜ ê³¼ì •ë³´ë‹¤ëŠ” ì·¨ì•½ì ì„ ì²´ì´ë‹í•´ë‚˜ê°€ëŠ” ê·¸ ê³¼ì • ìì²´ê°€ ë”ìš± ì¤‘ìš”í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë²„ê·¸í—ŒíŒ… ë¿ë§Œ ì•„ë‹ˆë¼ ëª¨ì˜í•´í‚¹ ì—…ë¬´ë¥¼ í•˜ë©´ì„œë„ ë§ì´ ëŠë¼ê³¤ í•©ë‹ˆë‹¤. ê³ ê°ì‚¬ì— ë‹¨ì¼ ì·¨ì•½ì ì„ ì„¤ëª…í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” í•˜ë‚˜ ë˜ëŠ” ë‘ ê°œ ì´ìƒì˜ ì‹œë‚˜ë¦¬ì˜¤ì™€ ì—°ê³„í•˜ì—¬ ì·¨ì•½ì ì— ëŒ€í•œ íŒŒê¸‰ë ¥ì„ ì„¤ëª…í•˜ëŠ” ê²½ìš°ê°€ ë‹¹ì‚¬ì ê°„ì˜ ì·¨ì•½ì ì˜ ìœ„í—˜ì„±ê³¼ ì¡°ì¹˜ì— ëŒ€í•œ ì‹œê¸‰í•¨ì„ ëª…í™•í•˜ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë§Œ ì·¨ì•½ì  ì²´ì´ë‹ì€ ë³´í†µ ì‹œìŠ¤í…œì— ëŒ€í•œ ê¹Šì€ ì´í•´ê°€ í•„ìš”í•˜ë¯€ë¡œ ë§ì€ ì‹œê°„ì„ íˆ¬ìí•´ì•¼ í•˜ê³¤ í•©ë‹ˆë‹¤. ì´ ë•Œë¬¸ì— ì œí•œëœ ì‹œê°„ ë‚´ì— ì·¨ì•½ì ì„ ì°¾ì•„ì•¼ í•˜ëŠ” ëª¨ì˜í•´í‚¹ë³´ë‹¤ëŠ” ë¹„êµì  ì‹œê°„ ì œí•œì´ ì—†ëŠ” í¸ì¸ ë²„ê·¸í—ŒíŒ…ì— ë§ì´ í™œìš©ë˜ëŠ” ê²ƒ ê°™ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;iframe style=&quot;width:100%&quot; height=&quot;420&quot; src=&quot;http://www.youtube.com/embed/3y-pW1qZf1U&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;ì €ëŠ” ìµœê·¼ íŒŒìŠ¤í…”í”Œë˜ë‹›(pastelplanet)ì—ì„œ ë§Œë“  &lt;a href=&quot;https://zerowhale.io/&quot;&gt;zerowhale&lt;/a&gt;ì´ë¼ëŠ” í”Œë«í¼ì—ì„œ ë²„ê·¸í—ŒíŒ…ì„ í•˜ê³¤ í•©ë‹ˆë‹¤. ì´ í”Œë«í¼ì€ ë¹„êµì  ì™¸ë¶€ì— ì˜ ì•Œë ¤ì ¸ ìˆì§€ëŠ” ì•Šì§€ë§Œ, ë²„ê·¸í—Œí„°ë“¤ ì‚¬ì´ì—ì„œëŠ” í”„ë¼ì´ë¹— ë²„ê·¸ë°”ìš´í‹°ë¥¼ ìœ„ì£¼ë¡œ ì§„í–‰ë˜ê³¤ í•©ë‹ˆë‹¤. í”„ë¼ì´ë¹—ì€ ë§ê·¸ëŒ€ë¡œ ì‹ ë¢° ê°€ëŠ¥í•œ ëª‡ëª‡ ë²„ê·¸í—Œí„°ë“¤ë§Œ ì´ˆëŒ€í•˜ì—¬ ë¹„ë°€ ìœ ì§€ ì„œì•½ì„ ë§ºê³  íŠ¹ì • ì œí’ˆ ë˜ëŠ” ì›¹ì‚¬ì´íŠ¸ ëŒ€ìƒìœ¼ë¡œ ë²„ê·¸í—ŒíŒ…ì„ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë¥¸ í”Œë«í¼ë“¤ë„ ë§ì§€ë§Œ ê°œì¸ì ìœ¼ë¡œ ì €ëŠ” ë²„ê·¸í—ŒíŒ… ê¸°ê°„ì´ ê¸¸ê³  ì¶©ë¶„í•œ ë¶„ì„ì„ ìš”êµ¬í•˜ê³  ë¬´ì—‡ë³´ë‹¤ ë³´ìƒì´ ì¢‹ì€ ê³³ì„ ì„ íƒí•˜ê²Œ ë˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ìƒìœ¼ë¡œ ê¸€ì„ ë§ˆë¬´ë¦¬í•˜ê² ìŠµë‹ˆë‹¤!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Specially thanks to ì´ì§„ì„± ë‹˜.&lt;/em&gt;&lt;/p&gt;</content><author><name>Donggyu Kim</name></author><category term="R&amp;D" /><summary type="html">ë²„ê·¸í—ŒíŒ…: ì·¨ì•½ì  ì²´ì´ë‹ì˜ ì¤‘ìš”ì„± No impact, No bug</summary></entry><entry xml:lang="ko"><title type="html">Django, CVE-2023-36053 Potential ReDoS in EmailValidator / URLValidator</title><link href="http://ufo.stealien.com/id/2023-07-03/django-cve-2023-36053" rel="alternate" type="text/html" title="Django, CVE-2023-36053 Potential ReDoS in EmailValidator / URLValidator" /><published>2023-07-03T00:00:00+09:00</published><updated>2023-07-03T00:00:00+09:00</updated><id>http://ufo.stealien.com/2023-07-03/cve-2023-36053-ko</id><content type="html" xml:base="http://ufo.stealien.com/2023-07-03/django-cve-2023-36053">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;b&gt;ëª©ì°¨&lt;/b&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#1-introduction&quot;&gt;1. Introduction&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#2-core-engine-ë¶„ì„&quot;&gt;2. Core Engine ë¶„ì„&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#3-1-day-ë²„ê·¸ì¼€ì´ìŠ¤-ë¶„ì„&quot;&gt;3. 1-day ë²„ê·¸ì¼€ì´ìŠ¤ ë¶„ì„&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#4-ì‹œë‚˜ë¦¬ì˜¤-ê¸°íš&quot;&gt;4. ì‹œë‚˜ë¦¬ì˜¤ ê¸°íš&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#5-ë¶„ì„&quot;&gt;5. ë¶„ì„&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#6-ì œë³´&quot;&gt;6. ì œë³´&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#7-ë§ˆë¬´ë¦¬&quot;&gt;7. ë§ˆë¬´ë¦¬&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”. ìŠ¤í‹¸ë¦¬ì–¸ ì„ ì œëŒ€ì‘íŒ€ ì—°êµ¬ì› ìœ¤ì„ì°¬ì…ë‹ˆë‹¤. ì´ì „ì—ëŠ” R&amp;amp;DíŒ€ìœ¼ë¡œ ì¸ì‚¬ë“œë ¸ì—ˆëŠ”ë°, ë¶€ì„œ ê°œí¸ í›„ ì²˜ìŒìœ¼ë¡œ ì„ ì œëŒ€ì‘íŒ€ìœ¼ë¡œ ì¸ì‚¬ë“œë¦¬ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ìŠ¤í‹¸ë¦¬ì–¸ ì„ ì œëŒ€ì‘íŒ€ì—ì„œëŠ” Offensive Securityë¥¼ ì—°êµ¬í•˜ë©° ìœ ì˜ë¯¸í•œ ê°€ì¹˜ë¥¼ ë„ì¶œí•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;1-introduction&quot;&gt;1. Introduction&lt;/h1&gt;

&lt;p&gt;2023ë…„ 7ì›” 3ì¼, ì œ ì²« CVEê°€ ê³µê°œë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.djangoproject.com/weblog/2023/jul/03/security-releases/&quot;&gt;https://www.djangoproject.com/weblog/2023/jul/03/security-releases/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-36053&quot;&gt;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-36053&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ìœ„ ë§í¬ì—ì„œ ì œ ì·¨ì•½ì ì´ ì–´ë–¤ ë‚´ìš©ì¸ì§€ ê°„ëµíˆ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ì œê°€ ì´ ì·¨ì•½ì ì„ ì–´ë–»ê²Œ ì°¾ê²Œ ë˜ì—ˆëŠ”ì§€ ìƒê°ì˜ íë¦„ì„ ê³µìœ í•˜ê³ , (ì œê°€ ëŒ€ë‹¨í•œ ì‹¤ë ¥ìë„ ì•„ë‹ˆê³  íŒŒê¸‰ë„ ë†’ì€ ì·¨ì•½ì ì„ ì°¾ì€ ê²ƒë„ ì•„ë‹ˆì§€ë§Œ ğŸ˜…) Offensive Security Researcherë¡œì„œ ì–´ë–¤ ë§ˆìŒê°€ì§ì„ ê°–ê³  ì½”ë“œë¥¼ ë³´ë©´ ì¢‹ì„ì§€ ì €ë§Œì˜ ìƒê°ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì€ ì½”ë“œ ë¶„ì„ ìœ„ì£¼ì˜ ê¸€ë³´ë‹¤ëŠ” ê·¸ëƒ¥ ë§ë¡œ ì·¨ì•½ì ì˜ root causeì™€ ì œ ìƒê°ë“¤ì„ ì¨ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2023-07-03-cve-2023-36053/image.png&quot; alt=&quot;image1&quot; /&gt;&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;Django security releases issued: 4.2.3, 4.1.10, and 3.2.20 (reported by ME!)&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;2-core-engine-ë¶„ì„&quot;&gt;2. Core Engine ë¶„ì„&lt;/h1&gt;

&lt;p&gt;Offensive Researchë¥¼ í•˜ì‹œëŠ” ë¶„ë“¤ì´ë¼ë©´ ë‹¤ë“¤ ê³µê°í•˜ì‹œê² ì§€ë§Œ ì–´ë–¤ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•´ì„  ì½”ì–´ ì—”ì§„(ì£¼ìš” ë¶€ë¶„)ì„ ë¨¼ì € ë¶„ì„í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ì œê°€ ìƒê°í•˜ëŠ” Djangoì˜ ì£¼ìš” ê¸°ëŠ¥ì€ ì•„ë˜ì™€ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Djangoì˜ Core ì„œë¹„ìŠ¤ë¥¼ ë¡œë“œí•˜ëŠ” ê¸°ëŠ¥&lt;/li&gt;
  &lt;li&gt;HTTP Request/Responseë¥¼ íŒŒì‹±í•´ì„œ Objectì— ë§¤í•‘í•˜ëŠ” ë¶€ë¶„&lt;/li&gt;
  &lt;li&gt;HTTP ìƒì—ì„œ sessionì„ ìœ ì§€ì‹œí‚¤ëŠ” ë¶€ë¶„&lt;/li&gt;
  &lt;li&gt;íŒŒì¼ ì†¡ì‹ ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„&lt;/li&gt;
  &lt;li&gt;Django ORMì„ í†µí•´ SQL ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ê·¸ë˜ì„œ Djangoì˜ ì „ë°˜ì ì¸ êµ¬ì¡°ë¥¼ ë¶„ì„í•˜ê³ ì ìœ„ í•­ëª©ë“¤ì„ ì¤‘ì ì ìœ¼ë¡œ ë¶„ì„í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;3-1-day-ë²„ê·¸ì¼€ì´ìŠ¤-ë¶„ì„&quot;&gt;3. 1-day ë²„ê·¸ì¼€ì´ìŠ¤ ë¶„ì„&lt;/h1&gt;

&lt;p&gt;ì£¼ìš” ê¸°ëŠ¥ì„ ë¶„ì„í•œ ë’¤ì—ëŠ” ì „ë°˜ì ì¸ í”„ë¡œê·¸ë¨ì˜ êµ¬ì¡°ê°€ ì–´ëŠ ì •ë„ ëˆˆì— ìµê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ì´í›„ ì œê°€ ì´í•´í•œ í”„ë¡œê·¸ë¨ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê·¸ë™ì•ˆ ê³µê°œëœ 1-day vulnerabilitiesë¥¼ ì°¾ì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì‘ë…„ì—ëŠ” íŠ¹íˆ ORM Injection (ORM ê¸°ëŠ¥ì—ì„œì˜ SQL Injection ì·¨ì•½ì )ì´ 3ê±´ì´ë‚˜ ë°œìƒëœ ë§Œí¼ Djangoì—ì„œ SQL Injectionì„ ì°¾ì•„ë³´ê³ ì, ì§€ê¸ˆê¹Œì§€ Djangoì— reportëœ ëª¨ë“  SQL Injection 1-day ë²„ê·¸ì¼€ì´ìŠ¤ë¥¼ ë¶„ì„í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ ë§í¬ì—ì„œ Django ORM Injectionì— ëŒ€í•´ ë¶„ì„í•œ ë‚´ìš©ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day&quot;&gt;https://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;SQL Injection ë¥˜ì˜ ë²„ê·¸ë¥¼ ì°¾ê³ ì ë…¸ë ¥í–ˆì§€ë§Œ ë” ì´ìƒì˜ SQL Injection ì·¨ì•½ì ì„ ë°œê²¬í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. ğŸ˜“
ì´í›„ í•™ì—…ê³¼ íšŒì‚¬ ì—…ë¬´ë¥¼ ë³‘í–‰í•˜ë©´ì„œ Django ë³´ì•ˆ ì·¨ì•½ì  ì—°êµ¬ì— í¬ê²Œ ì‹œê°„ì„ ìŸì§€ ëª»í•˜ë‹¤ê°€, êµ°ì…ëŒ€ë¡œ ì¸í•œ íœ´ì§ ì „ ì–»ì€ ì—¬ìœ ì‹œê°„ì— Djangoë¥¼ ë‹¤ì‹œ ë¶„ì„í•˜ê¸° ì‹œì‘í–ˆê³  ìš°ì—°íˆ ë³´ì•ˆ ì·¨ì•½ì ì„ ì°¾ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì œê°€ ì´ë²ˆì— ì œë³´í•œ ì·¨ì•½ì ì€ ì•„ë˜ 1-day vulnerability (CVE-2023-23969)ì™€ ë‹¤ì†Œ ë¹„ìŠ·í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.djangoproject.com/weblog/2023/feb/01/security-releases/&quot;&gt;https://www.djangoproject.com/weblog/2023/feb/01/security-releases/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ìš”ì•½í•˜ë©´, ì´ ë²„ê·¸ ì¼€ì´ìŠ¤ëŠ” ë³µì¡í•œ ì •ê·œí‘œí˜„ì‹ì´ ë§¤ìš° í° ë¬¸ìì—´ì„ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ DoS ê³µê²©ì— ì·¨ì•½í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì§€ì í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê° ì–¸ì–´ë§ˆë‹¤ ì •ê·œí‘œí˜„ì‹ì„ êµ¬í˜„í•˜ëŠ” ë°©ì‹ì€ ë” ë³µì¡í•˜ê² ì§€ë§Œ, ê¸°ë³¸ì ìœ¼ë¡œ ì •ê·œí‘œí˜„ì‹ì˜ ê²€ìƒ‰ì€ ì²˜ìŒë¶€í„° ëê¹Œì§€ ëª¨ë“  ë¬¸ìì—´ì„ ê²€ìƒ‰í•´ì•¼ í•œë‹¤ëŠ” ì ì—ì„œ ì„ í˜• ê²€ìƒ‰(Linear Search)ê³¼ ë¹„ìŠ·í•œ ì–‘ìƒì„ ë¤ë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì •ê·œí‘œí˜„ì‹ì— ê±°ëŒ€í•œ ì–‘ì˜ í…ìŠ¤íŠ¸ê°€ regex ê²€ì‚¬ ì¸ìë¡œ ì…ë ¥ëœë‹¤ë©´ ìƒë‹¹í•œ ì»´í“¨íŒ… ìì›ì´ ì†Œëª¨ë  ìˆ˜ ë°–ì— ì—†ìœ¼ë©°, ì •ê·œí‘œí˜„ì‹ì˜ ì´ëŸ¬í•œ ì ì„ ë…¸ë¦¬ëŠ” ê³µê²©ì´ ë°”ë¡œ ReDoS attackì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ &lt;strong&gt;CVE-2023-23969&lt;/strong&gt; (Potential denial-of-service via Accept-Language headers) ì·¨ì•½ì ì€ Djangoì— ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_language_from_request()&lt;/code&gt; í•¨ìˆ˜ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì´ìš©ìì˜ HTTP Request íŒ¨í‚·ìœ¼ë¡œë¶€í„° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Accept-Language&lt;/code&gt; í—¤ë”ë¥¼ ê°€ì ¸ì™€ ì´ìš©ìì˜ ì–¸ì–´ í™˜ê²½ ê°’ì„ ê°€ì ¸ì˜¤ëŠ”ë°, ì´ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Accept-Language&lt;/code&gt; í—¤ë”ë¥¼ íŒŒì‹±í•˜ê¸° ì „ ê¸¸ì´ ì œí•œì´ ì—†ì–´ì„œ ReDoSì— ì·¨ì•½í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ ì·¨ì•½ì ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ ë³´ì‹œë ¤ë©´ ì œ ê°œì¸ë¸”ë¡œê·¸ ê¸€ì„ ì°¸ê³ í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤. ì• ë“œë¸”ëŸ­ì„ ë„ê³  ë°©ë¬¸í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤. (ë†ë‹´ì„ ğŸ˜‰)&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://new-blog.ch4n3.kr/cve-2023-23969/&quot;&gt;https://new-blog.ch4n3.kr/cve-2023-23969/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;4-ì‹œë‚˜ë¦¬ì˜¤-ê¸°íš&quot;&gt;4. ì‹œë‚˜ë¦¬ì˜¤ ê¸°íš&lt;/h1&gt;

&lt;p&gt;ì‘ë…„ SQL Injectionë¥˜ì˜ ì·¨ì•½ì ì„ ì°¾ê³ ì ì†ŒìŠ¤ì½”ë“œë¥¼ ë¶„ì„í•  ë•ŒëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒê°í•˜ì§€ ì•Šê³ , ë¬´ì‘ì • ì½”ë“œë§Œ ë³´ë‹¤ê°€ ë¹ ë¥´ê²Œ ì§€ì³ë²„ë¦° ê²½í—˜ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ë²ˆì—ëŠ” ì›ë°ì´ ì·¨ì•½ì ì„ ë¶„ì„í•˜ê³ ë‚˜ì„œ ì‹œë‚˜ë¦¬ì˜¤ê°€ ìƒê°ë‚  ë•Œë§Œ ì†ŒìŠ¤ì½”ë“œë¥¼ ë“¤ì—¬ë‹¤ë³´ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ë¬¸ë“ ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í‰ì†Œ ì‚¬ìš©í•˜ëŠ” ë…¸íŠ¸ ì•±ì— ê¸°ë¡í•´ë‘ê³  ì‹œê°„ì ìœ¼ë¡œ ì—¬ìœ ê°€ ë‚  ë•Œë§ˆë‹¤ ê¸°ë¡í•´ ë‘” ì‹œë‚˜ë¦¬ì˜¤ì™€, ì´ì™€ ë¹„ìŠ·í•œ ì‹œë‚˜ë¦¬ì˜¤ë“¤ì´ ê°€ëŠ¥í•œì§€ ë¶„ì„í–ˆê³ , ì´ ë°©ì‹ìœ¼ë¡œ ë¶„ì„ì˜ ëŠ¥ë¥ ì´ í¬ê²Œ í–¥ìƒë˜ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. (ì´ëŸ° ë°©ë²•ë¡ ì€ í•´ì»¤ë§ˆë‹¤ ê°œì¸ì°¨ê°€ ìˆëŠ” ë¶€ë¶„ì´ê¸° ë•Œë¬¸ì— ì œ ë°©ì‹ì€ ê·¸ëƒ¥ ì°¸ê³  ì •ë„ë§Œ í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;ì œê°€ ì´ë²ˆì— ë°œê²¬í•œ &lt;strong&gt;CVE-2023-36053&lt;/strong&gt; ì·¨ì•½ì ë„ ë²„ê·¸ì¼€ì´ìŠ¤ë¥¼ ë¶„ì„í•˜ê³  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒê°í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œê²¬í•œ ì·¨ì•½ì ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CVE-2023-23969&lt;/strong&gt;ë¥¼ ë¶„ì„í•˜ë©´ì„œ ìœ„ì™€ ê°™ì€ ReDoS ì·¨ì•½ì ì´ ì—¬ëŸ¿ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ëŸ¬í•œ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê°–ê³  Djangoì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì •ê·œí‘œí˜„ì‹ ë¬¸ìì—´ì„ ëª¨ë‘ ì°¾ì•„ ReDoSë¡œë¶€í„° ì•ˆì „í•œì§€ ë¶„ì„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì €ëŠ” &lt;strong&gt;CVE-2023-23969&lt;/strong&gt; ì·¨ì•½ì ì´ ì–´ë–»ê²Œ íŒ¨ì¹˜ë˜ì—ˆëŠ”ì§€, ê·¸ë¦¬ê³  ì œê°€ ì§€ê¸ˆê¹Œì§€ Django Security íŒ€ì— ë³´ë‚¸ Security Reportë“¤ì„ í†µí•´ ì·¨ì•½ì ìœ¼ë¡œ ì¸ì •ë°›ìœ¼ë ¤ë©´ ì–´ë–¤ í•­ëª©ì„ ë§Œì¡±ì‹œì¼œì•¼ í•˜ëŠ”ì§€ ìƒê°í•´ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{0,n}&lt;/code&gt; ë“±ì˜ ì •ê·œí‘œí˜„ì‹ notationì´ ì¤‘ë³µì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ finite automata ìƒ ë°˜ë³µì´ ë§ì´ ë°œìƒí•˜ëŠ” ê²½ìš°&lt;/li&gt;
  &lt;li&gt;ìœ„ ì •ê·œí‘œí˜„ì‹ì„ ì‚¬ìš©í•  ë•Œ ê¸¸ì´ ê²€ì¦ì´ ì„ í–‰ë˜ì§€ ì•Šì€ ê²½ìš°&lt;/li&gt;
  &lt;li&gt;ì´ìš©ìê°€ ì†¡ë¶€í•œ ê°’ì´ ê·¸ëŒ€ë¡œ í•´ë‹¹ í•¨ìˆ˜ì— ì¸ìë¡œ ë“¤ì–´ê°ˆ ê°œì—°ì„±ì´ ë†’ì€ ê²½ìš°&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;5-ë¶„ì„&quot;&gt;5. ë¶„ì„&lt;/h1&gt;

&lt;p&gt;ì•ì„œ ê¸°íší•œ ì‹œë‚˜ë¦¬ì˜¤ ëŒ€ë¡œ ê²€ì¦í•˜ëŠ” ê³¼ì •ì—ì„œ 2ê±´ì˜ ì·¨ì•½ì ì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EmailValidator&lt;/code&gt;ë¥¼ ì˜ˆë¡œ ë“¤ì–´ ì´ ì·¨ì•½ì ì´ ì–´ë–»ê²Œ ë°œìƒë˜ëŠ”ì§€ ì„¤ëª…í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EmailValidator&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.core.validators&lt;/code&gt; ì— ì¡´ì¬í•˜ëŠ” Validator í´ë˜ìŠ¤ë¡œ ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ë°›ì€ ë¬¸ìì—´ì´ ì´ë©”ì¼ í˜•ì‹ì„ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# django/core/validators.py
&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deconstructible&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;EmailValidator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ...
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;domain_regex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_lazy_re_compile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# max length for domain name labels is 63 characters per RFC 1034
&lt;/span&gt;        &lt;span class=&quot;sa&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+)(?:[A-Z0-9-]{2,63}(?&amp;lt;!-))\Z&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IGNORECASE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ Validatorì—ì„œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;domain_regex&lt;/code&gt; ë¼ëŠ” ë‚´ë¶€ ë³€ìˆ˜ë¡œ ë„ë©”ì¸ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ê¸° ìœ„í•œ ì •ê·œì‹ì„ ì €ì¥í•©ë‹ˆë‹¤. ì´ ë‚´ë¶€ ë³€ìˆ˜ëŠ” ì´ë©”ì¼ì˜ ë„ë©”ì¸ì„ ê²€ì‚¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ì •ê·œí‘œí˜„ì‹ ë¬¸ìì—´ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{0,61}&lt;/code&gt; ê³¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+&lt;/code&gt; notationì„ ì¤‘ì²©í•˜ì—¬ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ë§¤ìš° í° í¬ê¸°ì˜ ë¬¸ìì—´ì„ ê²€ì‚¬í•˜ê²Œ ë  ì—¬ì§€ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ì§€ë§Œ ë§Œì•½ ì´ ì •ê·œí‘œí˜„ì‹ ë¬¸ìì—´ë¡œ íŠ¹ì • ì…ë ¥ì„ ê²€ì‚¬í•˜ê¸° ì „ ê¸¸ì´ ê²€ì¦ ë¡œì§ì„ ë‘ì–´ ë§¤ìš° í° í¬ê¸°ì˜ ë¬¸ìì—´ì´ ì •ê·œí‘œí˜„ì‹ ê²€ì‚¬ì˜ ì¸ìë¡œ ë“¤ì–´ê°€ì§€ ëª»í•˜ë„ë¡ ë§‰ëŠ”ë‹¤ë©´ ì‚¬ì‹¤ìƒ ReDoSë¥¼ íŠ¸ë¦¬ê±°í•˜ê¸° ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. ì œ ê°œì¸ ë…¸íŠ¸ë¶(Apple Macbook Pro 13â€ / M2, 16GB)ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•´ë³¸ ê²°ê³¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Email Validator&lt;/code&gt;ì˜ ê²½ìš° 1MB ì´ìƒì˜ ë¬¸ìì—´ì´ ì¸ìë¡œ ë“¤ì–´ê°€ì•¼ ì •ê·œí‘œí˜„ì‹ ì—°ì‚° ê³¼ì •ì—ì„œ 100ms ì´ìƒì˜ ìœ ì˜ë¯¸í•œ ì‹œê°„ ì§€ì—°ì´ ë°œìƒí–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë”°ë¼ì„œ ì ì ˆí•œ ê¸¸ì´ ê²€ì¦ ë¡œì§ì´ ì¡´ì¬í–ˆì—ˆë‹¤ë©´ ReDoS ê³µê²©ì—ì„œ ì•ˆì „í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆê² ì§€ë§Œ, ì´ë²ˆ ì·¨ì•½ì ì˜ íƒ€ê²Ÿì¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EmailValidator&lt;/code&gt;ì™€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;URLValidator&lt;/code&gt;ì—ëŠ” ì •ê·œì‹ ê²€ì‚¬ ì´ì „ ì ì ˆí•œ ê²€ì‚¬ ì½”ë“œê°€ ë¶€ì¬í•˜ì—¬ ReDoS ê³µê²©ì— ì·¨ì•½í–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤. ì´ë©”ì¼ ì£¼ì†Œì™€ URL ì£¼ì†Œ ëª¨ë‘ RFC ìƒìœ¼ë¡œ ê·œê²©í™”ëœ í˜•ì‹ì´ ìˆê¸° ë•Œë¬¸ì—, ReDoS ê³µê²©ë„ ë§‰ì„ ê²¸ ê¸¸ì´ ê²€ì¦ ë¡œì§ì´ ì¶”ê°€ë˜ë©´ ì¶©ë¶„íˆ ReDoS ê³µê²©ë„ ë§‰ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;6-ì œë³´&quot;&gt;6. ì œë³´&lt;/h1&gt;

&lt;p&gt;ëŒ€ë¶€ë¶„ì˜ ëŒ€í˜• ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” Security Policyë¥¼ ê°–ê³  ìˆìŠµë‹ˆë‹¤. Djangoì˜ ê²½ìš°ì—ëŠ” ì•„ë˜ ë§í¬ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;https://docs.djangoproject.com/en/dev/internals/security/&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì´ 2ê±´ì˜ ì·¨ì•½ì ì„ ì°¾ì€ í›„, Django Security Teamì— ì´ë©”ì¼ë¡œ Security Reportë¥¼ ë³´ëƒˆê³  ì´í›„ ì•½ 2ì£¼ ì •ë„ì˜ ì‹œê°„ì´ ì§€ë‚˜ CVE ë„˜ë²„ë¥¼ í• ë‹¹ë°›ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ğŸ‘ğŸ‘ ì´ ê³¼ì •ì—ì„œ Django Security Teamì€ ì·¨ì•½ì  ì ‘ìˆ˜ë¶€í„° íŒ¨ì¹˜, í”¼ë“œë°±ê¹Œì§€ ì•„ì£¼ í”„ë¡œí˜ì…”ë„í•œ íŒ€ì´êµ¬ë‚˜ ëŠê¼ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;__&lt;/p&gt;
&lt;h1 id=&quot;7-ë§ˆë¬´ë¦¬&quot;&gt;7. ë§ˆë¬´ë¦¬&lt;/h1&gt;

&lt;p&gt;ì§€ê¸ˆê¹Œì§€ ì œê°€ Djangoì— ëŒ€í•´ ì·¨ì•½ì ì„ ë¶„ì„í•œ ê³¼ì •ê³¼ Security Reportë¥¼ ë³´ë‚´ê³  CVE ì½”ë“œë¥¼ í• ë‹¹ë°›ê¸°ê¹Œì§€ì˜ ê³¼ì •ì„ ì‘ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì œê²Œ í° ìš©ê¸°ì™€ ë™ê¸°ë¶€ì—¬ë¥¼ ì£¼ì…¨ë˜ ì˜ˆë‘ë‹˜ê³¼ ìƒí˜¸ë‹˜, ê·¸ë¦¬ê³  ìŠ¤í‹¸ë¦¬ì–¸ R&amp;amp;DíŒ€ ì‹êµ¬ë“¤ì—ê²Œ ëŒ€ë‹¨íˆ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤. ğŸ™‡â€â™‚ï¸&lt;/p&gt;</content><author><name>Seokchan Yoon</name></author><category term="R&amp;D" /><summary type="html">ëª©ì°¨ 1. Introduction 2. Core Engine ë¶„ì„ 3. 1-day ë²„ê·¸ì¼€ì´ìŠ¤ ë¶„ì„ 4. ì‹œë‚˜ë¦¬ì˜¤ ê¸°íš 5. ë¶„ì„ 6. ì œë³´ 7. ë§ˆë¬´ë¦¬</summary></entry><entry xml:lang="ko"><title type="html">NITE Team 4: OPERATION CASTLE IVY Chapter 1 ë¦¬ë·°</title><link href="http://ufo.stealien.com/id/2023-03-19/nite-team-4-operation-castle-ivy-chapter-1" rel="alternate" type="text/html" title="NITE Team 4: OPERATION CASTLE IVY Chapter 1 ë¦¬ë·°" /><published>2023-03-19T00:00:00+09:00</published><updated>2023-03-19T00:00:00+09:00</updated><id>http://ufo.stealien.com/2023-03-19/nite-team-4-operation-castle-ivy-chapter-1-ko</id><content type="html" xml:base="http://ufo.stealien.com/2023-03-19/nite-team-4-operation-castle-ivy-chapter-1">&lt;h1 id=&quot;nite-team-4&quot;&gt;NITE Team 4&lt;/h1&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/nite-team-4.webp&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;NITE Team 4&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;â€œNITE Team 4â€ëŠ” í”Œë ˆì´ì–´ê°€ êµ°ì˜ í•´í‚¹ ë¶€ì„œì—ì„œ ì˜¤í¼ë ˆì´í„°ë¡œ ê·¼ë¬´í•˜ë©° ì§€ì‹œì— ë”°ë¼ í•´í‚¹ ì‘ì „ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ê°„ì ‘ì ìœ¼ë¡œ ì²´í—˜í•´ ë³¼ ìˆ˜ ìˆëŠ” ì‹œë®¬ë ˆì´ì…˜ ê²Œì„ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í”Œë ˆì´ì–´ëŠ” ìŠ¤í† ë¦¬/ìº í˜ì¸ì˜ ëª©ì ì— ë”°ë¼ ì í•©í•œ í•´í‚¹ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²©ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ë¶„ì„í•˜ëŠ” ê²ƒìœ¼ë¡œ ë§ˆì¹˜ í¼ì¦ì„ í‘¸ëŠ” ê²ƒ ì²˜ëŸ¼ ê²Œì„ì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;stinger-os&quot;&gt;STINGER OS&lt;/h1&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/stinger-os.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;STINGER OS&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;â€œNITE Team 4â€ì—ì„œëŠ” &lt;em&gt;STINGER OS&lt;/em&gt;ë¼ê³  ë¶€ë¥´ëŠ” ë‹¤ì–‘í•œ í•´í‚¹ ë„êµ¬ê°€ í¬í•¨ëœ ìš´ì˜ì²´ì œë¥¼ ì´ìš©í•˜ì—¬ ì‘ì „ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•ìœ¼ë¡œ STINGER OSë¥¼ ì´ìš©í•˜ì—¬ ì‘ì „ì˜ ëª©ì ì— ë”°ë¼ ëŒ€ìƒì„ í•´í‚¹í•˜ê³ , ì²©ë³´ë¥¼ ì²˜ë¦¬, ë¶„ì„í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;-ìš´ì˜ì²´ì œ-os-operating-system&quot;&gt;ğŸ” ìš´ì˜ì²´ì œ (OS, Operating System)&lt;/h2&gt;

&lt;p&gt;ìš°ë¦¬ê°€ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì›¹ ë¸Œë¼ìš°ì ¸, íŒŒì¼ íƒìƒ‰ê¸°, ë¬¸ì„œ í¸ì§‘ê¸° ë“±ì„ â€œì‘ìš© í”„ë¡œê·¸ë¨â€ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;â€œì‘ìš© í”„ë¡œê·¸ë¨â€ì„ ì˜ ì‹¤í–‰ì‹œí‚¤ê³ , í¸ë¦¬í•˜ê²Œ ì‚¬ìš©ê¸°ê¸° ìœ„í•´ì„œëŠ” â€œìš´ì˜ì²´ì œâ€ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì—¬ëŸ¬ë¶„ì´ ì›¹ ë¸Œë¼ìš°ì ¸ë¡œ ì—¬ëŸ¬ê°œì˜ íƒ­ì„ ì´ìš©í•˜ì—¬ ì›¹ ì„œí•‘ì„ í•  ìˆ˜ ìˆëŠ” ì´ìœ ë„, íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ ë¬¸ì„œì— ë¶™ì—¬ë„£ì„ ìˆ˜ ìˆëŠ” ì´ìœ ë„, ê²°êµ­ ì´ â€œìš´ì˜ì²´ì œâ€ê°€ ê·¸ëŸ° ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³ , ì‘ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ ì£¼ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìš°ë¦¬ê°€ ì‹¤ì œë¡œ ë§ì´ ì“°ëŠ” ìš´ì˜ì²´ì œë¡œëŠ” &lt;em&gt;Microsoft Windows&lt;/em&gt;, &lt;em&gt;Apple macOS&lt;/em&gt;ê°€ ìˆì£ .&lt;/p&gt;

&lt;p&gt;ëª¨ë°”ì¼ ë””ë°”ì´ìŠ¤ì—ì„œëŠ” &lt;em&gt;Google Android&lt;/em&gt;, &lt;em&gt;Apple iOS&lt;/em&gt;ê°€ ìˆì„ ìˆ˜ ìˆê² ë„¤ìš”.&lt;/p&gt;

&lt;h2 id=&quot;-í•´í‚¹ì„-ìœ„í•œ-os&quot;&gt;ğŸ” í•´í‚¹ì„ ìœ„í•œ OS&lt;/h2&gt;

&lt;p&gt;â€œNITE Team 4â€ì˜ STINGER OSì²˜ëŸ¼, í˜„ì‹¤ì—ë„ í•´í‚¹ì„ ìœ„í•œ OSê°€ ì¡´ì¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/kali-linux.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Kali Linux&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.kali.org/get-kali/&quot;&gt;Kali Linux&lt;/a&gt;ëŠ” Offensive Securityì‚¬ì—ì„œ ê°œë°œí•œ í•´í‚¹ì„ ìœ„í•œ OSì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Linuxë¼ëŠ” OSë¥¼ ê¸°ë°˜í•˜ê³  ìˆìœ¼ë©°, ì•ìœ¼ë¡œ â€œNITE Team 4â€ì—ì„œ ì‚¬ìš©í•  ë§ì€ ë„êµ¬ë“¤ ì¤‘ ì¼ë¶€ë“¤ê°€ kali Linuxì— í¬í•¨ëœ ë„êµ¬ë¥¼ ë²¤ì¹˜ë§ˆí‚¹í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ Kali LinuxëŠ” STINGER OSì™€ ë‹¤ë¥´ê²Œ í•´í‚¹ì˜ ì „ë°˜ì ì¸ ì‘ì—…ë“¤ì„ ìë™í™” í•´ ì£¼ì§€ëŠ” ëª»í•©ë‹ˆë‹¤. Kali Linuxì—ëŠ” í•´í‚¹ì„ ìœ„í•œ ë‹¤ì–‘í•œ ì˜¤í”ˆì†ŒìŠ¤ ë„êµ¬ë“¤ì´ ì§‘í•©ë˜ì–´ ìˆì„ ë¿, ì‹¤ì œë¡œ í•´í‚¹ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ê° ë„êµ¬ì˜ ì›ë¦¬ì™€ ì‚¬ìš© ë°©ë²•ì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì‹¤ì—ì„œëŠ” ì´ Kali Linuxë¥¼ ê¸°ì—… ë˜ëŠ” ë‹¨ì²´ì—ì„œ ëª¨ì˜í•´í‚¹, ì¹¨íˆ¬ í…ŒìŠ¤íŒ…, ë ˆë“œíŒ€ì„ ì´ìš©í•œ ì •ë³´ ë³´ì•ˆ ê°•í™”ì— ë§ì´ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¹„ìŠ·í•œ OSë¡œëŠ” &lt;a href=&quot;https://blackarch.org/&quot;&gt;Black Arch Linux&lt;/a&gt;, &lt;a href=&quot;https://www.parrotsec.org/&quot;&gt;Parrot OS&lt;/a&gt;ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;operation-castle-ivy&quot;&gt;OPERATION CASTLE IVY&lt;/h1&gt;

&lt;p&gt;STINGER OSì— ëŒ€í•œ êµìœ¡ì´ ëë‚œ í›„, operatorëŠ” ì‹¤ì œ ì‘ì „ì— íˆ¬ì…ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;intro&quot;&gt;INTRO&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/intro.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Operation CASTLE IVY Intro&lt;/i&gt;
&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ìƒë¶€ëŠ” â€œNITE Team 4â€ì˜ êµ°ìš© ë©€ì›¨ì–´ê°€ ë„ë‚œ ë‹¹í–ˆìŒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.&lt;br /&gt;
SADëŠ” Bureau 121ì˜ ì†Œí–‰ìœ¼ë¡œ ì¶”ì •í•˜ê³  ìˆì§€ë§Œ, ë’·ëœë¯¸ë¥¼ ì¡ì„ë§Œí•œ ì¦ê±°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.&lt;br /&gt;
2017ë…„ NSAì˜ ìµìŠ¤í”Œë¡œì‡ ìœ ì¶œë¡œ 10B$ ì¶”ì •ì˜ ì†í•´ê°€ ìˆì—ˆë˜ ë§Œí¼, ë¹ ë¥´ê²Œ ì´ë¥¼ ì¡°ì‚¬í•´ì•¼í•©ë‹ˆë‹¤.
ìš°ë¦¬ëŠ” í˜„ì¥ì— ë‚¨ê²¨ì§„ ì¦ê±°ë“¤ì„ í™œìš©í•˜ì—¬ ì–¼ë§ˆë§Œí¼ì˜ ìœ ì¶œì´ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;-malware---ë©€ì›¨ì–´-ì•…ì„±ì½”ë“œ&quot;&gt;ğŸ” Malware - ë©€ì›¨ì–´, ì•…ì„±ì½”ë“œ&lt;/h3&gt;

&lt;p&gt;MalwareëŠ” Malicious Software, ì¦‰ ì•…ì„± ì†Œí”„íŠ¸ì›¨ì–´ ë˜ëŠ” ì•…ì„± ì½”ë“œì˜ ì¤„ì„ë§ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;MalwareëŠ” ê·¸ íŠ¹ì„±ì— ë”°ë¼ ë¶„ë¥˜ë˜ê³  ìˆìœ¼ë©°, ëŒ€í‘œì ì¸ ëª‡ê°€ì§€ë¥¼ ì†Œê°œ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-backdoor&quot;&gt;ğŸ” Backdoor&lt;/h4&gt;

&lt;p&gt;ì‹œìŠ¤í…œì—ì„œ Backdoorê°€ ì‹¤í–‰ë  ê²½ìš°, ì•…ì„± í–‰ìœ„ìëŠ” Backdoorê°€ ì„¤ì¹˜ëœ ì‹œìŠ¤í…œì— ë§ˆì¹˜ ë’·ë¬¸ì„ ë“œë‚˜ë“¤ ë“¯ ì¸ì¦ ê³¼ì • ë˜ëŠ” ë°˜ë“œì‹œ ìˆ˜í–‰ í•´ì•¼í•˜ëŠ” ì ˆì°¨ ì—†ì´ ì‹œìŠ¤í…œì˜ í•µì‹¬ ëª…ë ¹ ì¥ì¹˜ ë“±ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Backdoorë¥¼ í†µí•´ ì•…ì„± í–‰ìœ„ìëŠ” ì›¹ìº ì„ í†µí•œ ì‹¤ì‹œê°„ ê°ì‹œ, ì‹¤ì‹œê°„ í™”ë©´ ë…¹í™” ë˜ëŠ” ë‹¤ë¥¸ ì•…ì„± ì½”ë“œë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆê²Œ ë˜ë©°, ë‚´ë¶€ë§ì˜ ë‹¤ë¥¸ ëŒ€ìƒìœ¼ë¡œ ê³µê²©ì„ ë»—ì³ ë‚˜ê°ˆ ìˆ˜ë„ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•…ì„± í–‰ìœ„ìëŠ” Backdoorë¥¼ í†µí•´ ê³¼ê±°ì— ì¥ì•…í–ˆë˜ ì‹œìŠ¤í…œì— ëŒ€í•´ì„œ ë‹¤ì‹œ ê³µê²©í•˜ì—¬ ì¥ì•…í•   ìˆ˜ê³ ë¥¼ ëœ ìˆ˜ ìˆì„ ë¿ë”ëŸ¬, ì¶”ê°€ì ì¸ ê³µê²©ìœ¼ë¡œ ì´ì–´ ë‚˜ê°ˆ ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„± ë•ë¶„ì— ë§ì´ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì†Œí”„íŠ¸ì›¨ì–´ë‚˜ ì œí’ˆì— ê¸°ë³¸ì ìœ¼ë¡œ íƒ‘ì¬ë˜ëŠ” í˜•ì‹ì˜ Backdoor ê³µê²© ì‚¬ë¡€ ë˜í•œ ë‹¤ìˆ˜ ì¡´ì¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ ëª…í•œ Backdoorë¡œëŠ” &lt;a href=&quot;https://www.pangulab.cn/en/post/the_bvp47_a_top-tier_backdoor_of_us_nsa_equation_group/&quot;&gt;â€œThe Bvp47 - Equation Groupâ€&lt;/a&gt;, &lt;a href=&quot;https://ipvm.com/reports/hik-exploit&quot;&gt;â€œIPVM - Hikvision Backdoor Exploitâ€&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/fs0c131y/status/1085460755313508352&quot;&gt;â€œES File Explorer Backdoorâ€&lt;/a&gt;ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-infostealer&quot;&gt;ğŸ” InfoStealer&lt;/h4&gt;

&lt;p&gt;ì‹œìŠ¤í…œì—ì„œ InfoStealerê°€ ì‹¤í–‰ë  ê²½ìš° ì‹œìŠ¤í…œì— ì €ì¥ë˜ì–´ ìˆëŠ” ë¬¸ì„œ, ë¹„íŠ¸ì½”ì¸ ì§€ê°‘, íŒ¨ìŠ¤ì›Œë“œ ë“± ë¯¼ê° ì •ë³´ë¥¼ ì¶”ì¶œí•˜ì—¬ ì•…ì„± í–‰ìœ„ìì—ê²Œ ì „ì†¡í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-ransomware&quot;&gt;ğŸ” Ransomware&lt;/h4&gt;

&lt;p&gt;RansomwareëŠ” ëª¸ê°’ì´ë¼ëŠ” ëœ»ì˜ ransomê³¼ softwareì˜ í•©ì„±ì–´ë¡œ, Ransomwareê°€ ì„¤ì¹˜ëœ ì‹œìŠ¤í…œì˜ íŒŒì¼ë“¤ì„ ì•…ì„± í–‰ìœ„ìë§Œì´ ì•Œê³  ìˆëŠ” íŒ¨ìŠ¤ì›Œë“œë¡œ ì•”í˜¸í™”í•˜ê³  ì¸ì§ˆë¡œ ë§Œë“¤ì–´ í”¼í•´ìì—ê²Œ ê¸ˆì „ì„ ìš”êµ¬í•˜ë„ë¡ ìœ ë„í•˜ëŠ” ì•…ì„±ì½”ë“œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;RansomwareëŠ” InfoStealerì˜ ê¸°ëŠ¥ì„ í¬í•¨í•˜ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìµœê·¼ì—ëŠ” ê¸°ì—… ëŒ€ìƒ ê³µê²©ìœ¼ë¡œ - í•µì‹¬ ê¸°ìˆ  ë˜ëŠ” ë°ì´í„°ë¥¼ ìœ ì¶œí•˜ê² ë‹¤ê³  í˜‘ë°•í•˜ë©° ì¶”ê°€ì ì¸ ê¸ˆì „ì„ ìš”êµ¬í•˜ëŠ” í˜•íƒœë¡œë„ ë°œì „í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ, ëœì„¬ì›¨ì–´ë¥¼ í° ë…¸ë ¥ ì•ˆë“¤ì´ë©° ë§Œë“¤ì–´ì£¼ê³ , í”¼í•´ìë¥¼ ê´€ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ë“± Ransomware as a Service(RaaS)ì˜ í˜•íƒœë¡œ ëœì„¬ì›¨ì–´ ì¡°ì§ì€ í™•ì¥ë˜ê³  ìˆìŠµë‹ˆë‹¤. ëœì„¬ì›¨ì–´ë¥¼ ì´ìš©í•˜ê³ ì í•˜ëŠ” ê³µê²©ìëŠ” ëœì„¬ì›¨ì–´ë¥¼ ì§ì ‘ ì œì‘í•  í•„ìš” ì—†ì´ ì¼ë¶€ ìˆ˜ìµë§Œ ê³µìœ í•˜ë©´ ì†ì‰½ê²Œ ê³µê²©ì— ëœì„¬ì›¨ì–´ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-malware-ì°¸ê³ -ìë£Œ-references&quot;&gt;ğŸ” Malware ì°¸ê³  ìë£Œ (References)&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ahnlab.com/kr/site/securityinfo/securityinfoMain.do&quot;&gt;Ahnlab ASEC&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.igloo.co.kr/security-information/2022%eb%85%84-%ec%82%ac%ec%9d%b4%eb%b2%84-%eb%b3%b4%ec%95%88%ec%9c%84%ed%98%91%ec%97%90-%eb%94%b0%eb%a5%b8-%ec%95%85%ec%84%b1%ec%bd%94%eb%93%9c-%ed%8c%a8%eb%9f%ac%eb%8b%a4%ec%9e%84/&quot;&gt;IGLOO, â€œ2022ë…„ ì‚¬ì´ë²„ ë³´ì•ˆìœ„í˜‘ì— ë”°ë¥¸ ì•…ì„±ì½”ë“œ íŒ¨ëŸ¬ë‹¤ì„â€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-cia-sad&quot;&gt;ğŸ” CIA SAD&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/cia-sad-pag.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;CIA SAD/PAG&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;â€œNITE Team 4â€ì—ì„œ ì–¸ê¸‰í•œ SADê°€ CIAì˜ SADì¸ì§€ëŠ” í™•ì‹¤í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ë¯¸êµ­ì˜ ì¤‘ì•™ ì •ë³´êµ­(Central Intelligence Agency, CIA)ì—ëŠ” íŠ¹ìˆ˜ í™œë™ ë¶€ì„œ(Special Activities Division, SAD)ê°€ ìˆìœ¼ë©°, SADì˜ ì •ì¹˜ì  ì‘ì „ ê·¸ë£¹(Political Action Group, PAG)ì˜ ì£¼ìš” ì‘ì „ ë²”ìœ„ì— ì‚¬ì´ë²„ ì „ìŸì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì¬ëŠ” íŠ¹ìˆ˜ í™œë™ ë³¸ë¶€(Special Activities Center, SAC)ë¼ê³  ë¶ˆë¦¬ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-cia-sad-ì°¸ê³ -ìë£Œ-references&quot;&gt;ğŸ” CIA SAD ì°¸ê³  ìë£Œ (References)&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://greydynamics.com/cia_special_activities_center&quot;&gt;grey dynamics, â€œCIA Special Activities Center: The Third Optionâ€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.operationmilitarykids.org/cia-special-activities-division-sad/#cia-branches&quot;&gt;Operation Military Kids, â€œCIA Speical Activities Division (SAD)â€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-bureau-121---ì •ì°°ì´êµ­-121êµ­&quot;&gt;ğŸ” Bureau 121 - ì •ì°°ì´êµ­ 121êµ­&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/sony-gop-hacked.webp&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Sony Pictures í•´í‚¹ ì‚¬ê±´ ë‹¹ì‹œ Sony Picturesì˜ ì›¹ì‚¬ì´íŠ¸&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;Bureau 121ì€ ë¶í•œì˜ ì •ì°°ì´êµ­ 121êµ­ìœ¼ë¡œ ë¶ˆë¦¬ë©°, ë¶í•œì˜ ì‚¬ì´ë²„ ì „ìŸì„ ìœ„í•œ ì§‘ë‹¨ì…ë‹ˆë‹¤.
2014ë…„ ì†Œë‹ˆ í”½ì³ìŠ¤ í•´í‚¹ì˜ ë°°í›„ë¡œ ì˜ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;6,000ëª… ì´ìƒì˜ ì¸ì›ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° Andariel, Bluenoroff, Lazarusë¼ê³  ë¶ˆë¦¬ëŠ” ì•…ì„± í–‰ìœ„ì ê·¸ë£¹ì´ 121êµ­ì— ì†í•´ ìˆëŠ”ê²ƒìœ¼ë¡œ íŒŒì•…í•˜ê³  ìˆìŠµë‹ˆë‹¤. (2021)&lt;/p&gt;

&lt;p&gt;121êµ­ì˜ ì•…ì„± í–‰ìœ„ìë“¤ì€ ì¤‘êµ­, ì¸ë„, ëŸ¬ì‹œì•„, ë²¨ë¼ë£¨ìŠ¤, ë§ë ˆì´ì‹œì•„ì™€ ê°™ì€ ì—¬ëŸ¬ êµ­ê°€ë“¤ì„ ê±°ì ìœ¼ë¡œ í™œë™í•˜ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-bureau-121-ì°¸ê³ -ìë£Œ-references&quot;&gt;ğŸ” Bureau 121 ì°¸ê³  ìë£Œ (References)&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.hhs.gov/sites/default/files/dprk-cyber-espionage.pdf&quot;&gt;U.S. Department of Health &amp;amp; Human Service, â€œNorth Korean Cyber Activityâ€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnas.org/publications/reports/exposing-the-financial-footprints-of-north-koreas-hackers&quot;&gt;Center for a New American Security, â€œExposing the Financial Footprints of North Koreaâ€™s Hackersâ€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;-the-shadow-brokers-leak&quot;&gt;ğŸ” The Shadow Brokers Leak&lt;/h3&gt;

&lt;p&gt;2016ë…„, â€œThe Shadow Brokersâ€ í•´ì»¤ ê·¸ë£¹ì´ â€œEquation Groupâ€ í•´ì»¤ ê·¸ë£¹ì„ í•´í‚¹í•˜ì—¬, ê·¸ë“¤ì˜ í•´í‚¹ ë„êµ¬ë¥¼ íƒˆì·¨í•˜ê³ , ê²½ë§¤ì— ë¶€ì¹˜ê³ , ìœ ì¶œì‹œí‚¨ ì‚¬ê±´ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;â€œEquation Groupâ€ì€ ì´ë€ì˜ ìš°ë¼ëŠ„ ë†ì¶• ì‹œì„¤ íŒŒê´´ë¥¼ ëª©í‘œë¡œí•œ â€œStuxnetâ€ ì•…ì„±ì½”ë“œë¥¼ ê°œë°œí•˜ëŠ” ë“± ë‹¹ì‹œ ìµœê³ ì˜ ê¸°ìˆ ë ¥ì„ ê°€ì§€ê³  ìˆëŠ” í•´ì»¤ ì§‘ë‹¨ìœ¼ë¡œ ì˜ ì•Œë ¤ì ¸ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ, â€œEquation Groupâ€ì€ ë¯¸êµ­ êµ­ê°€ì•ˆë³´êµ­(National Security Agency, NSA)ì˜ TAO(Tailored Access Operations)ê°€ â€œEquation Groupâ€ì˜ ë°°í›„ë¼ê³  ìƒê°ë˜ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ìœ ì¶œ ì‚¬ê±´ìœ¼ë¡œ ì¸í•´ â€œEquation Groupâ€ì˜ í•µì‹¬ í•´í‚¹ ê¸°ìˆ ê³¼ ë„êµ¬ë“¤ì´ ëŒ€ê±° ìœ ì¶œë˜ê³  ì•…ì˜ë˜ë©° ì‚¬íšŒì— í° íŒŒì¥ì„ ì¼ìœ¼ì¼°ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;-the-shadow-brokers-leak-ì°¸ê³ -ìë£Œ-references&quot;&gt;ğŸ” The Shadow Brokers Leak ì°¸ê³  ìë£Œ (References)&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Equation_Group&quot;&gt;Wikipedia, â€œEquation Groupâ€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnas.org/publications/reports/exposing-the-financial-footprints-of-north-koreas-hackers&quot;&gt;Wikipedia, â€œThe Shadow Brokersâ€&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/WannaCry_ransomware_attack&quot;&gt;Wikipedia, â€œWannaCryâ€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;chapter-1-ë¸Œë¦¬í•‘&quot;&gt;Chapter 1, ë¸Œë¦¬í•‘&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-breifing.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Chapter 1 ë¸Œë¦¬í•‘&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ë°°ê²½&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;â€œNITE Team 4â€ëŠ” ë¯¸ì •ë¶€ì™€ í˜‘ë ¥í•˜ì— Turbine C2 Platformì„ ìš´ì˜ì¤‘ì´ë‹¤.&lt;/li&gt;
  &lt;li&gt;â€œTurbine C2 Platformâ€ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë‹¤ìˆ˜ì˜ implantë¥¼ ê´€ë¦¬í•˜ëŠ” í”Œë«í¼ì´ë‹¤.&lt;/li&gt;
  &lt;li&gt;Malwareê°€ implant(ì„¤ì¹˜)ë˜ë©´, ìë™ìœ¼ë¡œ Turbine C2 Cardì˜ í˜•íƒœë¡œ í”Œë«í””/ì‹œìŠ¤í…œì— ë“±ë¡ëœë‹¤.&lt;/li&gt;
  &lt;li&gt;ê°ê°ì˜ Turbine C2 CardëŠ” ê´€ë¦¬ë˜ëŠ” ê³ ìœ í•œ IDì™€ ì ‘ê·¼ ê¶Œí•œ ì½”ë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ìƒí™©&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;4ì‹œê°„ ì „, BloodDoveë¼ëŠ” ë©€ì›¨ì–´ê°€ ì–´ë–¤ ëŒ€ìƒì— ì„¤ì¹˜ë˜ì–´ ì‹ë³„ë˜ì§€ ì•Šì€ IDë¥¼ í†µí•´ í™œì„±í™”ëœ ê²ƒì„ í¬ì°©í–ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;ì´ ë©€ì›¨ì–´ëŠ” í˜„ì¬ â€œNITE Team 4â€ì—ì„œ ì§„í–‰ë˜ê³  ìˆëŠ” ì‘ì „ë“¤ê³¼ ì•„ë¬´ëŸ° ì—°ê´€ì„±ì´ ì—†ëŠ” ê²ƒìœ¼ë¡œ íŒŒì•…ëœë‹¤.&lt;/li&gt;
  &lt;li&gt;ë”°ë¼ì„œ, ì´ ì‚¬ê±´ì— ëŒ€í•˜ì—¬ ì¡°ì‚¬ê°€ í•„ìš”í•˜ë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ëª©í‘œ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ë¯¸ì‹ë³„ëœ C2 cardì— ì ‘ê·¼í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ê³µìœ  ë””ë ‰í† ë¦¬ë¥¼ ì‹ë³„í•˜ê³  ì ‘ê·¼ ê¶Œí•œì„ íšë“í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;BloodDove ë©€ì›¨ì–´ì˜ ì‹¤ì œ ìœ„ì¹˜ë¥¼ íŒŒì•…í•œë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;turbine-c2-platform&quot;&gt;Turbine C2 Platform&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/turbine-c2.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Turbine C2 Platform&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ê²Œì„ì—ì„œ Turbine C2 Platformì„ í†µí•´ ì‘ì „ ëŒ€ìƒ ë„¤íŠ¸ì›Œí¬ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-command--control-aka-cc-or-c2&quot;&gt;ğŸ” Command &amp;amp; Control (a.k.a C&amp;amp;C or C2)&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/c2-diagram.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;C2 Diagram&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ê³µê²©ìëŠ” C2 ì„œë²„ë¥¼ ê³µê²©ì˜ ê²½ìœ ì§€ë¡œ ì‚¬ìš©í•˜ê±°ë‚˜, ë©€ì›¨ì–´ë¡œ ê°ì—¼ëœ ë””ë°”ì´ìŠ¤ë“¤ì„ ì›ê²©ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë“±ì˜ ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì‹¤ì—ëŠ” &lt;a href=&quot;https://www.metasploit.com/&quot;&gt;Metasploit&lt;/a&gt;, &lt;a href=&quot;https://www.cobaltstrike.com/&quot;&gt;CobaltStrike&lt;/a&gt;ì™€ ê°™ì€ ìƒìš© ì¹¨íˆ¬ í…ŒìŠ¤íŒ… ë„êµ¬ì— í¬í•¨ë˜ì–´ ìˆê±°ë‚˜, &lt;a href=&quot;https://github.com/tcostam/awesome-command-control&quot;&gt;ì˜¤í”ˆì†ŒìŠ¤&lt;/a&gt;ì˜ í˜•íƒœë¡œë„ ì¡´ì¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;chapter-1-workaround&quot;&gt;Chapter 1, Workaround&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-1.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Connected to OPERATION CASTLE IVY network.&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ìš°ì„ , ìœ„ì™€ ê°™ì´ ì‘ì „ ëŒ€ìƒ ë„¤íŠ¸ì›Œí¬ì— ì§„ì…í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-2.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;netscan result&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Information Gathering Module -&amp;gt; WMI Scanner&lt;/code&gt;ë¥¼ ì‹¤í–‰ í›„, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;netscan&lt;/code&gt; ëª…ë ¹ì„ ì…ë ¥í•˜ì—¬ í˜„ì¬ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ WMI pathë¥¼ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;WMI path ì¤‘, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/user/nlightman/c$&lt;/code&gt;ê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆëŠ”ë°, ì´ ë¬¸ìì—´ì„ í†µí•´ ë‹¤ìŒê³¼ ê°™ì€ ì‚¬ì‹¤ì„ ì¶”ì¸¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ì‚¬ìš©ì IDê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nlightman&lt;/code&gt;ì´ë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;c$&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C:&lt;/code&gt; ë“œë¼ì´ë¸Œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ë”°ë¼ì„œ í•´ë‹¹ ê²½ë¡œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nlightman&lt;/code&gt; ì‚¬ìš©ìì˜ ë“œë¼ì´ë¸Œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” WMI pathì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-3.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;password attack 1&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Network Intrusion -&amp;gt; Password Attack&lt;/code&gt;ì„ ì‹¤í–‰í•˜ê³ , ì•„ê¹Œ í™•ë³´í•œ ê²½ë¡œì™€ ì•„ì´ë””ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-4.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;password attack 2&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ì—¬ê¸°ì„œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;John The Ripper&lt;/code&gt; íŒŒë¼ë¯¸í„°ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-5.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;password attack 3&lt;/i&gt;
&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-6.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;password attack 4&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì´ ì„±ê³µì ìœ¼ë¡œ íŒ¨ìŠ¤ì›Œë“œ ê³µê²©ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-7.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;file browser connect 1&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Data Forensic -&amp;gt; File Browser&lt;/code&gt;ë¥¼ ì‹¤í–‰ í›„, ì•„ê¹Œ í™•ë³´í•œ ê²½ë¡œë¥¼ ì…ë ¥í•˜ê³  ì—°ê²°ì„ ì‹œë„í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-8.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;file browser connect 2&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;Password Attack ë‹¨ê³„ì—ì„œ í™•ë³´í•œ ê³„ì •ì˜ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì—¬ ëŒ€ìƒì˜ íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2023-03-19-nite-team-4-operation-castle-ivy-chapter-1/chapter1-9.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;file browser connect 3&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ìµœì¢…ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BloodDove&lt;/code&gt;ì™€ í•¨ê»˜, ë‹¤ë¥¸ ìˆ˜ìƒí•œ ë©€ì›¨ì–´ë“¤ë„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´í›„ì—ëŠ” ì§€ì‹œì— ë”°ë¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uni74455.dll&lt;/code&gt;ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ì„ë¬´ê°€ ì™„ë£Œë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-wmi-scanner&quot;&gt;ğŸ” WMI scanner&lt;/h3&gt;

&lt;p&gt;WMIëŠ” Windows Management Instrumentationë¼ëŠ” ëœ»ì˜ Windows OS ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê³µê²©ìëŠ” WMIë¥¼ í†µí•´ ë‚´ë¶€ë§ì—ì„œ ì¥ì•…í•œ ì‹œìŠ¤í…œí…œ ì›ê²©ì§€ì˜ ìœˆë„ìš° ì‹œìŠ¤í…œì˜ ì·¨ì•½ì ê³¼ ë…¸ì¶œ ë¶€ë¶„ì„ íŒŒì•…í•˜ê³ , ì¹¨íˆ¬í•œ ì‹œìŠ¤í…œì—ì„œë¶€í„° ê³µê²©ì„ í™•ì¥í•˜ëŠ” ë“±ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê²Œì„ì—ì„œëŠ” ë‹¨ìˆœíˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;netscan&lt;/code&gt;ì„ ì´ìš©í•˜ì—¬ í˜„ì¬ ë„¤íŠ¸ì›Œí¬ì— ê³µê²© ê°€ëŠ¥í•œ ì§€ì ì´ ì–´ë”” ìˆëŠ”ì§€ íŒŒì•…í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-bruteforce-ê³µê²©&quot;&gt;ğŸ” Bruteforce ê³µê²©&lt;/h3&gt;

&lt;p&gt;ë¬´ì‘ìœ„ ëŒ€ì… ê³µê²©ì´ë¼ê³ ë„ ë¶€ë¥´ëŠ” Bruteforce ê³µê²©ì€ ì–´ë–¤ ì•”í˜¸, ì¸ì¦ ë“±ì„ í†µê³¼í•˜ê¸° ìœ„í•´ ê°€ëŠ¥í•œ ëª¨ë“  í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ì…í•´ë³´ëŠ” ì•„ì£¼ ë¬´ì‹í•œ ê³µê²© ê¸°ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¬´ì‹í•´ ë³´ì´ëŠ” Bruteforce ê³µê²© ê¸°ë²•ì—ë„ ëª‡ê°€ì§€ ë°©ë²•ë“¤ì´ ìˆëŠ”ë°ìš”, ë§ ê·¸ëŒ€ë¡œ ëª¨ë“  ê°€ëŠ¥í•œ ê°’ì„ ëŒ€ì…í•˜ëŠ” ë°©ì‹, ì‚¬ì „(Dictionary)ì˜ ë°ì´í„°ë¥¼ í•˜ë‚˜ì”© ëŒ€ì…í•˜ëŠ” ì´ ë‘ê°€ì§€ ë°©ì‹ì´ ëŒ€í‘œì ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-john-the-ripper&quot;&gt;ğŸ” John The Ripper&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/openwall/john&quot;&gt;John The Ripper&lt;/a&gt;ëŠ” ìœ ëª…í•œ ì˜¤í”ˆì†ŒìŠ¤ íŒ¨ìŠ¤ì›Œë“œ í•´í‚¹ íˆ´ì…ë‹ˆë‹¤ - ì •í™•íˆëŠ” íŒ¨ìŠ¤ì›Œë“œì˜ í•´ì‰¬ë¥¼ í•´í‚¹í•˜ì—¬ íŒ¨ìŠ¤ì›Œë“œ ì›ë¬¸ì„ ì•Œì•„ë‚´ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;íŒ¨ìŠ¤ì›Œë“œë¥¼ ì‹œìŠ¤í…œì— ì €ì¥ í•  ë•ŒëŠ” ì•…ì˜ì ì¸ ì˜ë„ë¥¼ ê°€ì§„ ì‹œìŠ¤í…œ ê´€ë¦¬ì, ê°œë°œì ë˜ëŠ” ì–´ë–¤ í•´í‚¹ì´ë‚˜ ìœ ì¶œ ì‚¬ê±´ìœ¼ë¡œë¶€í„° íŒ¨ìŠ¤ì›Œë“œ ì›ë¬¸ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ í•´ì‰¬ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ê³ ì •ëœ ê¸¸ì´ì˜ (ëœë¤í•˜ê²Œ ë³´ì´ëŠ”) ë°ì´í„°ë¡œ ë³€í™˜ì‹œí‚µë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;John The RipperëŠ” ì´ í•´ì‰¬ í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±ëœ í•´ì‰¬ë¡œë¶€í„° ì›ë¬¸ì˜ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì•Œì•„ë‚´ë„ë¡ ë„ì™€ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê²Œì„ì—ì„œëŠ” ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ì˜ ì–´ë–¤ IDì— ëŒ€ì‘í•˜ëŠ” íŒ¨ìŠ¤ì›Œë“œë¥¼ bruteforceë¡œ ì•Œì•„ë‚´ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì‚¬ì „(Dictionary)ì˜ ì¢…ë¥˜ë¡œ ë“±ì¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;-rockyoutxt&quot;&gt;ğŸ” rockyou.txt&lt;/h3&gt;

&lt;p&gt;RockYouë¼ëŠ” IT ì„œë¹„ìŠ¤ ì—…ì²´ê°€ í•´í‚¹ ê³µê²©ì„ ë‹¹í•´ ê·¸ ê³ ê°ë“¤ì˜ íŒ¨ìŠ¤ì›Œë“œê°€ ì›ë¬¸ìœ¼ë¡œ ë…¸ì¶œëœ ì  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;RockYouëŠ” ê³ ê°ë“¤ì˜ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì›ë¬¸(plain-text) í˜•íƒœë¡œ ì €ì¥í•˜ì—¬ ê·¸ë“¤ì˜ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ì˜€ìœ¼ë©°, ì´ê²ƒì´ ìœ ì¶œëœ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ 3200ë§Œê°œ ê°€ëŸ‰ì˜ íŒ¨ìŠ¤ì›Œë“œê°€ ìœ ì¶œ ë˜ì—ˆìœ¼ë©°, ê³µê²©ìë“¤ì€ ì´ ë°ì´í„°ì…‹ì„ bruteforcing ê³µê²©ì— ì¢…ì¢… ì´ìš©í•˜ê³ ëŠ” í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;closing&quot;&gt;Closing&lt;/h2&gt;

&lt;p&gt;â€œNITE Team 4â€ë¥¼ í†µí•´ í•´í‚¹ì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ ë„êµ¬ì™€ ê°œë…ë“¤ì— ëŒ€í•´ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Chapter 2ì—ì„œëŠ” XKeyScore, Phone CID Backdoorì™€ ê°™ì€ ë³µì¡í•˜ê³  ë†’ì€ ê¸°ìˆ ë ¥ì„ í•„ìš”ë¡œí•˜ëŠ” ë„êµ¬ë“¤ì— ëŒ€í•´ ì„¤ëª…ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤. íŠ¹íˆ XKeyScoreì˜ ê²½ìš°, ì‹¤ì œë¡œ NSAì—ì„œ ì‚¬ìš©í•˜ë˜ ê°ì‹œì²´ê³„ì˜ ì´ë¦„ì´ê¸°ë„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜¹ì‹œ â€œNITE Team 4â€ë¥¼ ì´ë¯¸ í”Œë ˆì´ í•´ ë³´ì‹  ë¶„ì€ &lt;a href=&quot;https://tryhackme.com/&quot;&gt;TryHackMe&lt;/a&gt;, &lt;a href=&quot;https://www.hackthebox.com/&quot;&gt;HackTheBox&lt;/a&gt;ì™€ ê°™ì€ í”Œë«í¼ì—ì„œ ì‹¤ì „ í•´í‚¹ì„ íƒêµ¬í•˜ê³  ì—°ìŠµ í•´ ë³´ì…”ë„ ì¢‹ê² ë„¤ìš”.&lt;/p&gt;

&lt;p&gt;ì´ í¬ìŠ¤íŒ…ì€ ì‹œë¦¬ì¦ˆë¡œ ì´ì–´ì§‘ë‹ˆë‹¤! ì—¬ëŸ¬ë¶„ì˜ ë§ì€ ê´€ì‹¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤ :)&lt;/p&gt;</content><author><name>ê¹€ë„í˜„</name></author><category term="R&amp;D" /><summary type="html">NITE Team 4</summary></entry><entry xml:lang="ko"><title type="html">Analyzing Django ORM with 1-day vulnerabilities and sql bug</title><link href="http://ufo.stealien.com/id/2022-12-16/analyzing-django-orm-with-1-day" rel="alternate" type="text/html" title="Analyzing Django ORM with 1-day vulnerabilities and sql bug" /><published>2022-12-16T00:00:00+09:00</published><updated>2022-12-16T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-12-16/analyzing-django-orm-with-1-day">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;div style=&quot;text-align: left&quot;&gt;ëª©ì°¨&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#0-introduction&quot;&gt;0. Introduction&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#1-how-does-django-execute-sql-query&quot;&gt;1. How does Django execute SQL query?&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#2-cve-2022-28346&quot;&gt;2. CVE-2022-28346&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#3-cve-2022-28347&quot;&gt;3. CVE-2022-28347&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#4-cve-2022-34265&quot;&gt;4. CVE-2022-34265&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#5-django-single-quote-unescaping-bug-in-keytransform-class&quot;&gt;5. Django Single Quote Unescaped Bug&lt;/a&gt;
&lt;/div&gt;
&lt;div style=&quot;text-align: left&quot;&gt;
    &lt;a href=&quot;#6-ëìœ¼ë¡œ&quot;&gt;6. ëìœ¼ë¡œ&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;0-introduction&quot;&gt;0. Introduction&lt;/h1&gt;

&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”. ìŠ¤í‹¸ë¦¬ì–¸ R&amp;amp;DíŒ€ ìœ¤ì„ì°¬ ì—°êµ¬ì›ì…ë‹ˆë‹¤. ì´ë²ˆ ì°¨ë¡€ì—ë„ ì œê°€ ê¸°ìˆ ë¸”ë¡œê·¸ì— ê¸€ì„ ì“°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë²Œì¨ 12ì›”ì´ ë˜ì—ˆëŠ”ë° ë‹¤ë“¤ ì˜¬í•´ ì›í•˜ì‹œë˜ ëª©í‘œ ì´ë£¨ì…¨ëŠ”ì§€ìš”? ì œê°€ ì˜¬í•´ ì„¸ì› ë˜ ëª©í‘œ ì¤‘ í•˜ë‚˜ëŠ” Pythonì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Django&lt;/code&gt; ë‚˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Flask&lt;/code&gt;, NodeJSì˜  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;express.js&lt;/code&gt; ì²˜ëŸ¼ ëŒ€ì¤‘ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì›¹ í”„ë ˆì„ì›Œí¬ì—ì„œ ìœ ì˜ë¯¸í•œ ë³´ì•ˆ ì·¨ì•½ì ì„ ì°¾ì•„ì„œ ì œë³´í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ë§ì”€ë“œë¦¬ìë©´ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì§„ ëª»í–ˆì§€ë§Œ, ê·¸ë˜ë„ Djangoë¼ëŠ” êµ­ì œì ìœ¼ë¡œ ìœ ëª…í•œ ëŒ€í˜• ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¥¼ ë¶„ì„í•˜ë©´ì„œ ë°°ì› ë˜ ì ì´ ë§ì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì—ì„œëŠ” 2022ë…„ì— ì œë³´ëœ Django 1-day ì·¨ì•½ì ë“¤ê³¼ ì œê°€ ë°œê²¬í•œ SQL Single Quote Unescaped Bugë¥¼ ì†Œê°œí•˜ê³ ì í•©ë‹ˆë‹¤. ê¸€ì´ ë‹¤ì†Œ ê¸¸ê³  ì²¨ë¶€ëœ ì†ŒìŠ¤ì½”ë“œê°€ ë§ì•„ì„œ PCì—ì„œ ë³´ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;_&lt;/p&gt;

&lt;p&gt;ì˜¬í•´ëŠ” Django ë²„ì „ì´ 4.0ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œëœ ì²« í•´ë¡œ, ì € ê°™ì´ Djangoë¥¼ ì¦ê²¨ì„œ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìë¡œì„œëŠ” ì˜ë¯¸ìˆëŠ” í•œí•´ì˜€ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. 4.0ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ë©´ì„œ ë·°ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt; ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSONField&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayField&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BigAutoField&lt;/code&gt; ê°™ì€ ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ Field Typeì´ ë“±ì¥í•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ ì–´ë–¤ ê¸°ëŠ¥ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆëŠ”ì§€ëŠ” ì•„ë˜ ë§í¬ì—ì„œ ìì„¸íˆ í™•ì¸í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://docs.djangoproject.com/en/4.1/releases/4.0/&quot;&gt;https://docs.djangoproject.com/en/4.1/releases/4.0/&lt;/a&gt;
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì˜¬í•´ë„ Djangoì— ì—¬ëŸ¬ ì·¨ì•½ì ì´ ì œë³´ë˜ì—ˆìŠµë‹ˆë‹¤. 2021ë…„ 12ì›” 6ì¼ ë°°í¬ëœ Django 4.0ì„ ê¸°ì¤€ìœ¼ë¡œ, 2022ë…„ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Severity Level&lt;/code&gt;*ì´ &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Critical&lt;/code&gt;&lt;/strong&gt; ë¡œ ë¶„ë¥˜ëœ ì·¨ì•½ì ì€ ì´ 3ê±´ì´ì—ˆê³  ëª¨ë‘ SQL Injection ì·¨ì•½ì ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;* &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Severity Level&lt;/code&gt;ì€ ë³´ì•ˆ ì·¨ì•½ì ì€ íŒŒê¸‰ë ¥ì— ë”°ë¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Low&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Medium&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;High&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Critical&lt;/code&gt; 4ê°€ì§€ ë“±ê¸‰ìœ¼ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤. ì´ ì¤‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Critical&lt;/code&gt; ë“±ê¸‰ì€ ê°€ì¥ íŒŒê¸‰ë ¥ì´ ë†’ì€ ë³´ì•ˆ ì·¨ì•½ì ìœ¼ë¡œ í‰ê°€ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;DjangoëŠ” 2005ë…„ì— ì²˜ìŒ ì‹œì‘ë˜ì–´ ì˜¬í•´ë¡œ 18ë…„ ì§¸ ìœ ì§€ë˜ê³  ìˆëŠ” ëŒ€í˜• í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ì„œ ì ˆëŒ€ ë°œê²¬ë˜ì§€ ì•Šì„ ê²ƒ ê°™ì•˜ë˜ SQL Injection ì·¨ì•½ì ì´,  ê·¸ê²ƒë„ 3ê°œë‚˜ ì—°ë‹¬ì•„ì„œ ë°œê²¬ë˜ëŠ” ê²ƒì€ ì´ë¡€ì ì¸ ì¼ì´ë¼ê³  ìƒê°í•´ì„œ ê´€ì‹¬ì„ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. Djangoì— ì œë³´ëœ ì·¨ì•½ì ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•´ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://security.snyk.io/package/pip/django&quot;&gt;https://security.snyk.io/package/pip/django&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cve.org/CVERecord?id=CVE-2022-28346&quot;&gt;CVE-2022-28346&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cve.org/CVERecord?id=CVE-2022-28347&quot;&gt;CVE-2022-28347&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cve.org/CVERecord?id=CVE-2022-34265&quot;&gt;CVE-2022-34265&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;1-how-does-django-execute-sql-query&quot;&gt;1. How does Django execute SQL query?&lt;/h1&gt;

&lt;p&gt;Djangoì—ì„œëŠ” ORMìœ¼ë¡œ SQLì„ ì–´ë–»ê²Œ ì‹¤í–‰í•˜ëŠ”ì§€ ì•Œì•„ë‘˜ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ë§í¬ì— Django ORMì´ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì¿¼ë¦¬ë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•˜ëŠ”ì§€ ì •ë¦¬í•´ë‘ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://blog.ch4n3.kr/569&quot;&gt;How does Django execute SQL Query?&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;2-cve-2022-28346&quot;&gt;2. CVE-2022-28346&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;CVE-2022-28346: Potential SQL injection in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet.annotate()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aggregate()&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extra()&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/django/django/commit/93cae5cb2f9a4ef1514cf1a41f714fef08005200&quot;&gt;https://github.com/django/django/commit/93cae5cb2f9a4ef1514cf1a41f714fef08005200&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì·¨ì•½ì ì´ ë°œìƒí•˜ëŠ” ë©”ì†Œë“œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.query&lt;/code&gt;ì— ì§€ì •ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ ë‚´ì˜  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aggregate()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extra()&lt;/code&gt; ë©”ì†Œë“œë¡œ, ì´ ì„¸ ë©”ì†Œë“œëŠ” ê³µí†µì ìœ¼ë¡œ alias ê¸°ëŠ¥ì´ ë‚´í¬ë˜ì–´ ìˆë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œëŠ” ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•©ë‹ˆë‹¤. ì•„ë˜ ì˜ˆì‹œë¥¼ ë³´ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Count()&lt;/code&gt; ê²°ê³¼ ê°’ì„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;num_books&lt;/code&gt; ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ alias ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221216162758.png&quot; alt=&quot;Pasted image 20221216162758.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ê²°ê³¼ì ìœ¼ë¡œ ë§í•˜ìë©´ ì´ ì·¨ì•½ì ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kwargs&lt;/code&gt; ë°©ì‹ìœ¼ë¡œ ì „ë‹¬í•˜ì—¬, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kwargs&lt;/code&gt;ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key&lt;/code&gt; ê°’ìœ¼ë¡œ aliasë¥¼ ì§€ì •í•  ë•Œ ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key&lt;/code&gt; ê°’ì„ ê²€ì¦í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ë©´ ë‚´ë¶€ì ìœ¼ë¡œëŠ” ì•„ë˜ì™€ ê°™ì€ ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-1-querysetannotate&quot;&gt;2-1. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet.annotate()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ ë‚´ë¶€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_annotate()&lt;/code&gt; ë©”ì†Œë“œ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/1.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;2-2-queryset_annotate&quot;&gt;2-2. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet._annotate()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/2.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_annotate()&lt;/code&gt; ë©”ì†Œë“œì—ì„œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kwargs&lt;/code&gt;ë¡œ ì „ë‹¬ëœ ì •ë³´ë¥¼ ë‚´ë¶€ ë³€ìˆ˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotations&lt;/code&gt;ì— ì €ì¥í•˜ê³ , ì´ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add_annnotation()&lt;/code&gt;ì— ì „ë‹¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-3-queryadd_annotation&quot;&gt;2-3. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query.add_annotation()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/3.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œëŠ” ì´ì „ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet._annotate()&lt;/code&gt; ì—ì„œ ì „ë‹¬ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotations&lt;/code&gt;ë¥¼ ë‚´ë¶€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.annotations&lt;/code&gt;ì— ì„¤ì •í•˜ì—¬ Alias ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ ì„¤ì •ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.annotations&lt;/code&gt;ë¥¼ ê°€ì ¸ì˜¬ ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@property&lt;/code&gt;ë¡œ ì„¤ì •ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotation_slect()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.annotations&lt;/code&gt;ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-4-djangodbmodelssqlcompiler&quot;&gt;2-4. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.sql.compiler&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221218152519.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SQLCompiler&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œëŠ” ì‹¤ì œ ì‹¤í–‰ë  SQL ì¿¼ë¦¬ë¥¼ ë§Œë“­ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.select&lt;/code&gt;ì— ì €ì¥ëœ ê°’ì„ SQL &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AS&lt;/code&gt; êµ¬ë¬¸ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt;í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;annotate()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì „ë‹¬í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kwargs&lt;/code&gt;ì˜ í‚¤ ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.connection.ops.quote_name()&lt;/code&gt; ì„ ê±°ì³ SQLì— ë“¤ì–´ê°‘ë‹ˆë‹¤. ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quote_name()&lt;/code&gt; ë©”ì†Œë“œëŠ” ê° DBMS ë³„ë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221218152848.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;MySQLì„ ì˜ˆë¡œ ë“¤ìë©´ Backtick ë¬¸ìë¡œ ì§€ì •í•´ì£¼ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ì „ê¹Œì§€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key&lt;/code&gt; ê°’ì— ëŒ€í•œ escape ì²˜ë¦¬ê°€ ì—†ì—ˆê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œ SQL Injection ì·¨ì•½ì ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-5-íŒ¨ì¹˜&quot;&gt;2-5. íŒ¨ì¹˜&lt;/h2&gt;

&lt;p&gt;í•´ë‹¹ ì·¨ì•½ì ì€ Django 4.0.4ì—ì„œ ìˆ˜ì •ë˜ì—ˆê³   &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.sql.query.Query&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add_annotation()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•  ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_alias()&lt;/code&gt; ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹ìœ¼ë¡œ ì·¨ì•½ì ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221218153153.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;3-cve-2022-28347&quot;&gt;3. CVE-2022-28347&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;CVE-2022-28347: Potential SQL injection via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet.explain(**options)&lt;/code&gt; on PostgreSQL&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ì´ ì·¨ì•½ì ì€ PostgreSQL í™˜ê²½ì—ì„œ Django &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt;ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•  ë•Œ ë°œìƒ ê°€ëŠ¥í•œ SQL Injection ì·¨ì•½ì ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/advisories/GHSA-w24h-v9qh-8gxj&quot;&gt;https://github.com/advisories/GHSA-w24h-v9qh-8gxj&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted image 20221218043457.png&quot; alt=&quot;explain()&quot; /&gt;
&lt;a href=&quot;https://docs.djangoproject.com/en/4.1/ref/models/querysets/#explain&quot;&gt;https://docs.djangoproject.com/en/4.1/ref/models/querysets/#explain&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Django Project Docsì—ëŠ” ìœ„ ì˜ˆì‹œê°€ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ìœ„ ì˜ˆì‹œì²˜ëŸ¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt;ì€ ì‹¤í–‰í•˜ê³ ìí•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë©”ì†Œë“œì…ë‹ˆë‹¤. ì´ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ë©´ SQLì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EXPLAIN&lt;/code&gt; ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , MySQLê³¼ PostgreSQLì—ì„œëŠ” íŠ¹ë³„íˆ EXPLAINì— ì˜µì…˜ê¹Œì§€ ì§€ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë•Œ explain() ë©”ì†Œë“œì˜ êµ¬í˜„ì—ì„œ SQL Injectionì´ ê°€ëŠ¥í–ˆë˜Â CVE-2022-28347 ì·¨ì•½ì ì„ ë¶„ì„í•´ë³´ê³ ì í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-1-queryset&quot;&gt;3-1. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/4.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt; ë©”ì†Œë“œëŠ” ìœ„ì™€ ê°™ì´ ì •ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.query.explain()&lt;/code&gt;ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.query&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/sql/query.py&lt;/code&gt;ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt; í´ë˜ìŠ¤ì˜ ê°ì²´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-2-query&quot;&gt;3-2. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/5.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Query&lt;/code&gt;í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt; ë©”ì†Œë“œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_compiler()&lt;/code&gt; ë©”ì†Œë“œë¥¼ í†µí•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compiler&lt;/code&gt;ë¥¼ ê°€ì ¸ì˜¤ê³  ì‚¬ìš©í•˜ëŠ” DBì— ë§ì¶”ì–´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.sql.compiler.SQLCompiler&lt;/code&gt;ë¥¼ ìƒì†í•œ í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰ì‹œì¼œì¤ë‹ˆë‹¤. &lt;strong&gt;ì—¬ê¸°ì„œ kwargs í˜•ì‹ìœ¼ë¡œ ì¸ìë¥¼ ë°›ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;**options&lt;/code&gt;, ê·¸ë¦¬ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;q.explain_info&lt;/code&gt;ê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ExplainInfo&lt;/code&gt; ê°ì²´ë¡œ ì„¤ì •ë˜ì—ˆìŒì„ ê¸°ì–µí•´ì•¼í•©ë‹ˆë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;3-3-sqlcompiler&quot;&gt;3-3. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SQLCompiler&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/6.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SQLCompiler&lt;/code&gt; í´ë˜ìŠ¤ ë‚´ë¶€ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query()&lt;/code&gt; ë©”ì†Œë“œì—ì„œëŠ” ë™ì¼ í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;execute_sql()&lt;/code&gt;ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;execute_sql()&lt;/code&gt; ë©”ì†Œë“œëŠ” ì‹¤ì œë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.as_sql()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•´ì„œ ì»´íŒŒì¼ëœ SQL Queryêµ¬ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” ë©”ì†Œë“œì…ë‹ˆë‹¤. ì‹¤ì œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œëŠ” ê° DBMSë§ˆë‹¤ ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query_prefix()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-4-djangodbbackendspostgresqloperationspy&quot;&gt;3-4. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/backends/postgresql/operations.py&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/7.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Postgresqlì„ ìœ„í•´ ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query_prefix()&lt;/code&gt; ë©”ì†Œë“œì…ë‹ˆë‹¤. ì•ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì„¤ëª…í•  ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;**options&lt;/code&gt;ì— kwargs í˜•ì‹ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dict&lt;/code&gt; í˜•ì‹ì˜ ê°’ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŒì„ ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤. ì´ ê°’ì´ ê·¸ëŒ€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_query_prefix()&lt;/code&gt; ë©”ì†Œë“œì— ì „ë‹¬ë˜ë©° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;prefix&lt;/code&gt; ì— ê·¸ëŒ€ë¡œ ì¿¼ë¦¬ê°€ ì €ì¥ë˜ë©´ì„œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;options&lt;/code&gt;ì— ì €ì¥ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dict&lt;/code&gt; ê°’ key ë¶€ë¶„ì—ì„œ SQL Injectionì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-5-íŒ¨ì¹˜&quot;&gt;3-5. íŒ¨ì¹˜&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/8.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ ì·¨ì•½ì ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DatabaseOperations&lt;/code&gt; í´ë˜ìŠ¤ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;explain_options&lt;/code&gt; ë³€ìˆ˜ë¥¼ ë‘ì–´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key&lt;/code&gt; ë¶€ë¶„ì— ëŒ€í•œ ê²€ì¦ ë¡œì§ì´ ì¶”ê°€ë˜ë©° ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë¬´ë˜ë„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;options&lt;/code&gt;ì˜ keyì— ì—¬ëŸ¬ ê°’ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ë³´ë‹ˆ, Django ì‚¬ìš©ìê°€ ë³€ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ì—¬ì§€ë¥¼ ì¸ì •í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;4-cve-2022-34265&quot;&gt;4. CVE-2022-34265&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;CVE-2022-34265: Potential SQL injection via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc(kind)&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Extract(lookup_name)&lt;/code&gt; arguments.&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/django/django/commit/284b188a4194e8fa5d72a73b09a869d7dd9f0dc5&quot;&gt;https://github.com/django/django/commit/284b188a4194e8fa5d72a73b09a869d7dd9f0dc5&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì´ ì·¨ì•½ì ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/query.py&lt;/code&gt; ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œë¡œë¶€í„° ì‹œì‘ë©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œì˜ ì“°ì„ì€ ì•„ë˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docs.djangoproject.com&lt;/code&gt; ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì†Œë“œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œ ì·¨ì•½ì ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; : &lt;a href=&quot;https://docs.djangoproject.com/en/4.0/ref/models/querysets/#dates&quot;&gt;https://docs.djangoproject.com/en/4.0/ref/models/querysets/#dates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221218033513.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/12.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;4-1-trunc&quot;&gt;4-1. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DateField&lt;/code&gt;ë¡œ ì§€ì •ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;field&lt;/code&gt;ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;datetime.date&lt;/code&gt; ê°ì²´ë¡œ ë°˜í™˜í•´ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” ì²«ë²ˆì§¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;field&lt;/code&gt; ì¸ì ë‘ë²ˆì§¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ì¸ìë¥¼ ë„˜ê¹ë‹ˆë‹¤. ì´ ì¤‘ ë‘ë²ˆì§¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ì¸ìëŠ”  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;str&lt;/code&gt; í˜•ì‹ì˜ ê°’ì„ ë°›ìœ¼ë©°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/functions/datetime.py&lt;/code&gt;ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ì— ì¸ìë¡œ ë„˜ê²¨ì§‘ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/9.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt; í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ í˜•íƒœë¡œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DateField&lt;/code&gt; ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;datetime.date&lt;/code&gt; ê°ì²´ë¡œ ë³€í™˜ì‹œì¼œì£¼ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__init__()&lt;/code&gt; ë©”ì†Œë“œì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;expression&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ë¥¼ ë°›ì•„ ë‚´ë¶€ propertyë¡œ ì €ì¥í•©ë‹ˆë‹¤. Django Project Docsì— ì˜¬ë¼ì˜¨ ì˜ˆì‹œë¥¼ ë³´ì•˜ì„ ë•Œ ë‘ íŒŒë¼ë¯¸í„° ëª¨ë‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;str&lt;/code&gt; í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©ìì˜ ì…ë ¥ê°’ì´ ì¶©ë¶„íˆ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;expression&lt;/code&gt; íŒŒë¼ë¯¸í„°ëŠ” ë¶€ëª¨í´ë˜ìŠ¤ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__init__()&lt;/code&gt; ë©”ì†Œë“œì— ì „í•´ì§€ë©° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/expressions.py&lt;/code&gt; ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F&lt;/code&gt; í´ë˜ìŠ¤ë¡œ ì €ì¥ë©ë‹ˆë‹¤. &lt;strong&gt;í•˜ì§€ë§Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ëŠ” ì•„ë¬´ëŸ° ê²€ì¦ ì—†ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.kind&lt;/code&gt; ì— ì €ì¥ëœë‹¤ëŠ” ì ì„ ê¸°ì–µí•´ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;4-2-truncbase&quot;&gt;4-2. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;ì‹¤ì§ˆì ìœ¼ë¡œ Django ORMìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuerySet&lt;/code&gt; í´ë˜ìŠ¤ë¥¼ SQL ì¿¼ë¦¬ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ì€, ë™ì¼ íŒŒì¼ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œë¡œ ì •ì˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ë‹¤ìŒì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt; í´ë˜ìŠ¤ë¥¼ ë¶„ì„í•´ë³´ëŠ” ê²ƒìœ¼ë¡œ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/10.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ëŠ” ì¸ìë¡œ ë„˜ê²¨ì§„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.output_field&lt;/code&gt; ë³€ìˆ˜ì˜ type ë³„ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;datetime_trunc_sql()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;date_trunc_sql()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;time_trunc_sql()&lt;/code&gt; ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì„¸ ë©”ì†Œë“œ ëª¨ë‘ ì´ì „ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©ìë¡œë¶€í„° ì•„ë¬´ëŸ° ê²€ì¦ì—†ì´ ë°›ì„ ìˆ˜ ìˆëŠ”  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.kind&lt;/code&gt; ë¥¼ ì¸ìë¡œ ì·¨í•œë‹¤ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ ë©”ì†Œë“œë“¤ì€ ê° ë°ì´í„°ë² ì´ìŠ¤ ë¬¸ë²•ì— ë”°ë¼ ê°ê° ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ì˜ˆì‹œë¡œ SQLite3ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;4-3-databaseoperations&quot;&gt;4-3. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DatabaseOperations&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/11.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë‘ ë²ˆì§¸ì— ì „ë‹¬ë˜ëŠ” ì¸ì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lookup_type&lt;/code&gt;ì—ëŠ” ì´ì „ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trunc&lt;/code&gt; í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©ìë¡œë¶€í„° ë°›ì€ ì¸ì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ê°€ ì „ë‹¬ì´ ë˜ëŠ”ë°, ì‹¤ì œ SQL Queryë¥¼ ë§Œë“¤ê¸°ê¹Œì§€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ê°’ì— ëŒ€í•œ ì•„ë¬´ëŸ° ê²€ì¦ì´ ì—†ìŠµë‹ˆë‹¤. ë•Œë¬¸ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ê°’ì„ í†µí•´ SQL Injectionì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;4-4-íŒ¨ì¹˜&quot;&gt;4-4. íŒ¨ì¹˜&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django/db/models/functions/datetime.py&lt;/code&gt;ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TruncBase&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œì— ì•„ë˜ì²˜ëŸ¼ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/13.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_sql()&lt;/code&gt; ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê³  ë‚˜ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extract_trunc_lookup_pattern&lt;/code&gt;ì„ ì¸ìë¡œ ë„˜ê²¨ì§„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt; ê°’ê³¼ ì •ê·œì‹ ê¸°ëŠ¥ì„ í†µí•´ ë¹„êµí•©ë‹ˆë‹¤. ì •ê·œì‹ìœ¼ë¡œ ê²€ì‚¬í•˜ëŠ” ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_lazy_re_compile(r&quot;[\w\-_()]+&quot;)&lt;/code&gt; ìœ¼ë¡œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dates()&lt;/code&gt; ë©”ì†Œë“œì˜ ì¸ì &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind&lt;/code&gt;ì— íŠ¹ìˆ˜ë¬¸ìë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ì—¬ SQL Injection ì·¨ì•½ì ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;5-django-single-quote-unescaping-bug-in-keytransform-class&quot;&gt;5. Django Single Quote Unescaping Bug in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform&lt;/code&gt; class&lt;/h1&gt;

&lt;p&gt;ìœ„ ì„¸ ê°œì˜ ì·¨ì•½ì ì´ í¬ê²Œ ì¸ìƒê¹Šì–´ì„œ ì˜¬í•´ 6ì›” ê²½ë¶€í„° Django í”„ë ˆì„ì›Œí¬ì—ì„œ SQL Injection ì·¨ì•½ì ì„ ì°¾ì•„ë‚´ê² ë‹¤ëŠ” ëª©í‘œë¥¼ ê°–ê³  ì·¨ì•½ì  ë¶„ì„ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ê²°êµ­ Oracle ë°ì´í„°ë² ì´ìŠ¤ í™˜ê²½ì—ì„œ íŠ¹ì • ê¸°ëŠ¥ì„ ì´ìš©í•  ë•Œ íŠ¹ìˆ˜ë¬¸ìê°€ unescaped ë˜ì–´ SQL ì¿¼ë¦¬ë¥¼ íƒˆì¶œí•  ìˆ˜ ìˆëŠ” ë²„ê·¸ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-1-keytransform&quot;&gt;5-1. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;django.db.models.fields.json&lt;/code&gt;ì— ì •ì˜ëœ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform&lt;/code&gt; í´ë˜ìŠ¤ëŠ” MySQLì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_EXTRACT()&lt;/code&gt; í•¨ìˆ˜ë¥¼ Django ORMìœ¼ë¡œ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform&lt;/code&gt; í´ë˜ìŠ¤ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_mysql()&lt;/code&gt; ë©”ì†Œë“œê°€ ì •ì˜ëœ ë¶€ë¶„ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/14.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;MySQLì—ì„œ ì‚¬ìš©ë˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_EXTRACT()&lt;/code&gt; í•¨ìˆ˜ì˜ ì‚¬ìš© ì˜ˆëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ ì¸ìë¡œ JSON Documentë¥¼ ë°›ê³ , ë‘ ë²ˆì§¸ ì¸ìë¡œ Pathë¥¼ ë°›ìŠµë‹ˆë‹¤. ì•„ë˜ ì˜ˆì‹œì²˜ëŸ¼ ì‚¬ìš©í•˜ì—¬ JSON Documentì˜ Pathì— í•´ë‹¹ë˜ëŠ” ê°’ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221217022516.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;5-2-keytransformas_oracle&quot;&gt;5-2. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform.as_oracle()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Djangoì—ì„œëŠ” MySQLì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_EXTRACT()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ DBMSì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì—¬ëŸ¬ í•¨ìˆ˜ë¥¼ ì¤‘ì²©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•´ë‘ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” Oracle DB í™˜ê²½ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_EXTRACT()&lt;/code&gt; í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ë‘” ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/15.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;5-3-keytransformpreprocess_lhs&quot;&gt;5-3. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;KeyTransform.preprocess_lhs()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;ìš°ì„  ì²«ë²ˆì§¸ë¡œ í˜¸ì¶œí•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.preprocess_lhs()&lt;/code&gt;ë¥¼ ë¶„ì„í•´ë³¼ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lhs&lt;/code&gt;ëŠ” Left-Hand Sideì˜ ì¤„ì„ë§ë¡œ, Djangoì—ì„œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì¼ì¢…ì˜ ì ‘ë¯¸ì‚¬ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë©”ì†Œë“œì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/16.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ ë©”ì†Œë“œì—ì„œëŠ” ê¸°ì¡´ JSONì—ì„œ ì‚¬ìš©ë˜ëŠ” íŠ¹ìˆ˜ë¬¸ìë¥¼ escape ì²˜ë¦¬í•˜ê¸° ìœ„í•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key_transforms&lt;/code&gt; ë¼ëŠ” ë³€ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ ë³€ìˆ˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__init__&lt;/code&gt;ì—ì„œ ë§Œë“¤ì–´ì§„ ê°’ì´ë©° í´ë˜ìŠ¤ ìƒì„± ì‹œ ì „ë‹¬í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key_name&lt;/code&gt; ê°’ì´ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-4-compile_json_path&quot;&gt;5-4. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compile_json_path()&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/17.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë‹¤ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_oracle()&lt;/code&gt; ë©”ì†Œë“œë¡œ ëŒì•„ì™€ì„œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key_transforms&lt;/code&gt; ë³€ìˆ˜ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compile_json_path()&lt;/code&gt;ì˜ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/18.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compile_json_path()&lt;/code&gt; í•¨ìˆ˜ëŠ” ì¸ìë¡œ ë°›ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;key_trancsforms&lt;/code&gt; ê°’ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;int()&lt;/code&gt;ë¥¼ í˜¸ì¶œí•  ë•Œ Exceptionì´ ë‚œë‹¤ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;json.dumps()&lt;/code&gt; ë¥¼ í†µí•´ ë³€ìˆ˜ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì €ì¥í•´ ë°˜í™˜í•´ì¤ë‹ˆë‹¤. ì´ë•Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;json.dumps()&lt;/code&gt;ëŠ” ë°±ìŠ¬ë˜ì‹œì™€ ë”ë¸”ì¿¼í„°ë¥¼ escapeì²˜ë¦¬í•˜ëŠ”ë°, ì‹±ê¸€ì¿¼í„°(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;'&lt;/code&gt;)ëŠ” ë°±ìŠ¬ë˜ì‹œë¥¼ í†µí•´ ì²˜ë¦¬ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— SQL Queryì— ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-5-boom&quot;&gt;5-5. BOOM!&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/19.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë˜ ë‹¤ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_oracle()&lt;/code&gt; ë©”ì†Œë“œë¡œ ëŒì•„ì™€ì„œ í™•ì¸í•´ë³´ë©´, ì‹±ê¸€ì¿¼í„°ê°€ ê·¸ëŒ€ë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;json_path&lt;/code&gt; ê°€ Format Stringìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_QUERY()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_VALUE()&lt;/code&gt; í•¨ìˆ˜ ì•ˆì— ê·¸ëŒ€ë¡œ ë“¤ì–´ê°€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-12-16-analyzing-django-orm-with-1-day/Pasted%20image%2020221217030925.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë”°ë¼ì„œ, ì–´ë–¤ Django Applicationì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;views.py&lt;/code&gt;ì— ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤ë©´ ì‹¤ì œ Single Quotes Unescaped Bugë¥¼ íŠ¸ë¦¬ê±° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-6-í•œê³„&quot;&gt;5-6. í•œê³„&lt;/h2&gt;

&lt;p&gt;ì´ ë²„ê·¸ëŠ” ì‹¤ì œ SQL Injection ê³µê²©ê¹Œì§€ íŠ¸ë¦¬ê±° í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ORACLE DBMSì—ì„œëŠ” MySQLì—ì„œì™€ ë‹¤ë¥´ê²Œ ëª¨ë“  í•¨ìˆ˜ì˜ ê° ì¸ìë¥¼ ê²€ì¦í•˜ëŠ” ê³¼ì •ì´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ë²ˆ SQL Injection ì·¨ì•½ì ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON_QUERY()&lt;/code&gt; í•¨ìˆ˜ì—ì„œ SQL Injection ì·¨ì•½ì ì´ ë‘ë²ˆì§¸ ë¬¸ìì—´ ì¸ìì—ì„œ íŠ¸ë¦¬ê±°ë˜ëŠ”ë°, ì´ë•Œ Oracle DBì˜ ìœ íš¨ì„± ê²€ì¦ì„ ìš°íšŒí•˜ì§€ ëª»í•©ë‹ˆë‹¤. Oracle DBëŠ” MySQLì²˜ëŸ¼ SQL êµ¬ë¬¸ì„ ììœ ìì¬ë¡œ ë‹¤ë£¨ê¸°ê°€ í˜ë“¤ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;6-ëìœ¼ë¡œ&quot;&gt;6. ëìœ¼ë¡œ..&lt;/h1&gt;

&lt;p&gt;ëŒ€í˜• ì˜¤í”ˆì†ŒìŠ¤ í”„ë ˆì„ì›Œí¬ë¥¼ ë¶„ì„í•´ë³´ë©´ ë°°ìš¸ ìˆ˜ ìˆëŠ” ì ì´ ë§ìŠµë‹ˆë‹¤. ì´ë²ˆì— ë¶„ì„í•´ë³¸ Djangoì˜ ê²½ìš°ì—ëŠ” í›Œë¥­í•œ ê°ì²´ì§€í–¥ ë””ìì¸ì„ ê¸°ë°˜ìœ¼ë¡œ, Pythonì˜ ê°€ì¹˜ë¥¼ ìµœëŒ€í™”í•˜ì—¬ ì‘ì„±ëœ í”„ë ˆì„ì›Œí¬ì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. Djangoê°€ ì–´ë–»ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ë©´ì„œ ë¶€ì¡±í–ˆë˜ ì €ì˜ í”„ë¡œê·¸ë˜ë°, ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì¡°í™” ë“± ì•”ë¬µì§€ ì‹¤ë ¥ì„ í‚¤ìš¸ ìˆ˜ ìˆì—ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ í”„ë ˆì„ì›Œí¬ë¼ëŠ” ê²ƒì´ í”„ë¡œê·¸ë˜ë¨¸ë§ˆë‹¤ êµ¬í˜„í•˜ê¸° ë‚˜ë¦„ì´ë¼, ì‚¬ìš©í•˜ê³  ìˆëŠ” Djangoì˜ ë²„ì „ì— 1-day ì·¨ì•½ì ì´ ì¡´ì¬í•´ë„ ì–´ë–»ê²Œ êµ¬í˜„í•˜ëŠëƒì— ë”°ë¼ ì·¨ì•½ì ì´ ë°œìƒí•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì„ ë³´í†µ genericí•˜ì§€ ì•Šë‹¤ê³  í‘œí˜„í•˜ê¸°ë„ í•˜ëŠ”ë°, í”„ë ˆì„ì›Œí¬ ë¶„ì„í•  ë•Œ ì´ ë¶€ë¶„ì´ ì¡°ê¸ˆ ì•„ì‰¬ìš´ ë¶€ë¶„ì´ê¸´ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì€ Obsidianìœ¼ë¡œ ì œí…”ì¹´ìŠ¤í… ê¸°ë²•ì„ ì¨ì„œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì œí…”ì¹´ìŠ¤í…ì„ ì•Œë ¤ì£¼ì‹œê³  ê°œì¸ì ìœ¼ë¡œ ì œê²Œ í° í˜ê³¼ ìš©ê¸°ë¥¼ ë¶ë‹ì•„ì£¼ì‹  í˜¸ì •ë‹˜ê»˜ ì´ ê¸€ì„ ë¹Œë ¤ ê°ì‚¬ì¸ì‚¬ë¥¼ ë“œë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤.&lt;/p&gt;</content><author><name>Seokchan Yoon</name></author><category term="R&amp;D" /><summary type="html">ëª©ì°¨ 0. Introduction 1. How does Django execute SQL query? 2. CVE-2022-28346 3. CVE-2022-28347 4. CVE-2022-34265 5. Django Single Quote Unescaped Bug 6. ëìœ¼ë¡œ</summary></entry><entry xml:lang="ko"><title type="html">Secure Coding Training System ê°œë°œê¸°</title><link href="http://ufo.stealien.com/id/2022-10-04/secure-coding-traing-system" rel="alternate" type="text/html" title="Secure Coding Training System ê°œë°œê¸°" /><published>2022-10-04T00:00:00+09:00</published><updated>2022-10-04T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-10-04/Secure-Coding-Training-System-ko%20copy</id><content type="html" xml:base="http://ufo.stealien.com/2022-10-04/secure-coding-traing-system">&lt;h1 id=&quot;ê°œìš”&quot;&gt;ê°œìš”&lt;/h1&gt;

&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”. ìŠ¤í‹¸ë¦¬ì–¸ R&amp;amp;DíŒ€ ìœ¤ì„ì°¬ì…ë‹ˆë‹¤. ì €ëŠ” ìŠ¤í‹¸ë¦¬ì–¸ì—ì„œ ëª¨ì˜í•´í‚¹, ë³´ì•ˆ ê¸°ìˆ  ì—°êµ¬ ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ì–‘í•œ ì œí’ˆì„ ê°œë°œí•˜ê³  ìˆê¸°ë„ í•©ë‹ˆë‹¤. ì œê°€ ê°œë°œì— ì°¸ì—¬í•œ ëŒ€í‘œì ì¸ ê²ƒ ì¤‘ í•˜ë‚˜ëŠ” &lt;em&gt;Cyber Drill System&lt;/em&gt;ì´ë¼ëŠ” êµìœ¡ í”Œë«í¼ì…ë‹ˆë‹¤. ìŠ¤í‹¸ë¦¬ì–¸ì—ì„œëŠ” ì´ í”Œë«í¼ì„ ì´ìš©í•´ í•™ìƒ í˜¹ì€ ì‹¤ë¬´ì ë¶„ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ êµìœ¡í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì…ì‚¬í•˜ê³  ì•½ 2ê°œì›”ì´ ë˜ë˜ ë•Œ ì¦ˆìŒ ì´ í”„ë¡œì íŠ¸ì— ì°¸ê°€í•˜ê²Œ ë˜ì—ˆëŠ”ë°, ë²Œì¨ 3ë…„ì§¸ê°€ ë˜ì—ˆë„¤ìš” ğŸ˜„  ì €ëŠ” ì´ í”„ë¡œì íŠ¸ë¥¼ ì¢€ ë” ê³ ë„í™”í•˜ê³  ìƒˆë¡œìš´ í˜•ì‹ì˜ í”Œë«í¼ì„ ìœ„í•´ì„œ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìµœê·¼ ëª‡ëª‡ ì›Œê²Œì„, í•´í‚¹ëŒ€íšŒ(CTF) ì¤‘ì—ëŠ” ì·¨ì•½í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í• ë‹¹ë°›ê³ , ì´ê²ƒì„ ê³µê²©í•˜ëŠ” í˜•íƒœì˜ í”Œë«í¼ì´ ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œëŠ” HackTheBox, ë“œë¦¼í•µ í”Œë«í¼ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì¤‘ HackTheBox í”Œë«í¼ì€ ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í• ë‹¹ë°›ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìœ¼ë©°, ë…ë¦½ì ì¸ ê°€ìƒ ì„œë²„ì—ì„œ ì‹¤ìŠµí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¢€ ë” ë‹¤ì–‘í•œ ê³µê²©ì„ ì‹œë„í•´ë³¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê°€ë ¹ ì¼ë°˜ì ì¸ CTF í”Œë«í¼ì—ì„œëŠ” í•˜ë‚˜ì˜ ê°€ìƒì„œë²„ì— ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ì ‘ê·¼í•˜ì—¬ ì·¨ì•½ì ì„ ê³µê²©í•˜ê¸° ë•Œë¬¸ì— LPE* ê¸°ë²•ì„ ì“°ì§€ ëª»í•˜ë„ë¡ ë§‰ì•„ë†“ëŠ” ê²½ìš°ê°€ ì¼ë°˜ì ì¸ ë°˜ë©´,  HackTheBoxëŠ” íƒ€ê²Ÿì˜ ì‰˜ì„ ì–»ëŠ” ê²ƒì— ê·¸ì¹˜ì§€ ì•Šê³  ê°€ìƒì„œë²„ì—ì„œ ì–»ì€ ì‰˜ì„ ì´ìš©í•´ LPEê¹Œì§€ ìœ ë„í•˜ê¸°ë„ í•©ë‹ˆë‹¤. ì €ë„ HackTheBoxì™€ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ í• ë‹¹ ë°©ì‹ì˜ êµìœ¡ í›ˆë ¨ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ì„œ íš¨ìš©ì„± ë†’ì€ í›ˆë ¨ ì‹œìŠ¤í…œì„ ë§Œë“¤ê³ ì í–ˆê³ , docker command ì¤‘ ëª‡ ê°œë¥¼ python ì½”ë“œì— ë§¤í•‘ë§Œ í•´ë‘ì–´ë„ ì¶©ë¶„íˆ êµ¬í˜„í•  ìˆ˜ ìˆê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ê·¸ë ‡ê²Œ ê´€ë ¨ ìë£Œë¥¼ ì°¾ì•„ë³´ë‹¤ Docker SDKë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;* LPE : Local Privilege Escalation&lt;/p&gt;

&lt;h1 id=&quot;docker-sdk&quot;&gt;Docker SDK&lt;/h1&gt;

&lt;p&gt;Docker SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” docker ì•ˆì˜ ëŒ€ë¶€ë¶„ì˜ ëª…ë ¹ì–´ë¥¼ íŒŒì´ì¬ ì½”ë“œë¡œ ë§¤í•‘í•´ë†“ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ê·¸ëŸ°ë° ì œê°€ ìƒê°í–ˆë˜ ì ê³¼ ë‹¤ë¥¸ ì ì´ ìˆë‹¤ë©´ ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker [command]&lt;/code&gt; í˜•ì‹ì˜ ì»¤ë§¨ë“œë¥¼ ë§¤í•‘í•´ë†“ì€ê²Œ ì•„ë‹ˆë¼, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/run/docker.sock&lt;/code&gt; ì— ë§ˆìš´íŠ¸ëœ ìœ ë‹‰ìŠ¤ ì†Œì¼“ì„ í†µí•œ HTTP API í†µì‹ ìœ¼ë¡œ ë§¤í•‘í•´ë†“ì•˜ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. (ì •í™•íˆëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker [command]&lt;/code&gt; ë°©ì‹ë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” ìœ ë‹‰ìŠ¤ ì†Œì¼“ì„ í†µí•œ HTTP API í†µì‹ ì„ í•©ë‹ˆë‹¤.)&lt;/p&gt;

&lt;p&gt;ì‹¤ì œë¡œ ê³µì‹í™ˆí˜ì´ì§€ì— ë“¤ì–´ê°€ë³´ë©´ ë„ì»¤ ëª…ë ¹ì–´ë¥¼ íŒŒì´ì¬ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Using echo command in alpine image&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;docker&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from_env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'alpine'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'echo hello world'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;sa&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'hello world&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Managing your containers&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Container&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'45e6d2de7c54'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Container&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'db18e4f20eaa'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'45e6d2de7c54'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Config'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Image'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&quot;bfirsh/reticulate-splines&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&quot;Reticulating spline 1...&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[ì°¸ê³ ] : &lt;a href=&quot;https://docker-py.readthedocs.io/en/stable/&quot;&gt;https://docker-py.readthedocs.io/en/stable/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ì²˜ëŸ¼ Docker SDKë¥¼ í†µí•´ docker commandë¥¼ ìë™í™”í•  ìˆ˜ ìˆê³ , ë§Œë“¤ ìˆ˜ ìˆëŠ” ê²ƒë“¤ì´ ë¬´ê¶ë¬´ì§„í•´ì§‘ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ dockerë¥¼ í†µí•œ ì´ë¯¸ì§€, ì»¨í…Œì´ë„ˆ ê´€ë¦¬ ì‘ì—…ì„ ì½”ë“œ ìƒì—ì„œ ì•ˆì •ì ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” ì´ê²ƒì„ í†µí•´ AWS EC2 ì„œë¹„ìŠ¤ ê°™ì€ VPC (Virtual Private Cloud) ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;simple-vpc-service&quot;&gt;Simple VPC Service&lt;/h1&gt;

&lt;p&gt;ê·¸ë˜ì„œ Docker SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì²˜ìŒ êµ¬í˜„í•´ë³¸ ì„œë¹„ìŠ¤ëŠ” VPC ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì œê°€ ë§Œë“  VPC ì„œë¹„ìŠ¤ì˜ ì£¼ìš” ê¸°ëŠ¥ì€ ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ SSH ì„œë²„ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ ê±°ì³ì•¼ í•˜ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ í™•ì¸í•´ì„œ ì„œë²„ ìƒì„± ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ìë¡œë¶€í„° í¬íŠ¸ ë²ˆí˜¸ë¥¼ ë°›ëŠ”ë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssh-server&lt;/code&gt; íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ëœ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê³ , ì‚¬ìš©ìê°€ ì…ë ¥í•œ í¬íŠ¸ë²ˆí˜¸ë¡œ ì»¨í…Œì´ë„ˆì˜ 22ë²ˆ í¬íŠ¸ë¥¼ ì—°ê²°í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ìƒì„±í•œ ì»¨í…Œì´ë„ˆì— foregroundì—ì„œ ì¢…ë£Œë˜ì§€ ì•Šê³  ë¬´ê¸°í•œìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì„œ ì»¨í…Œì´ë„ˆë¥¼ ìœ ì§€í•œë‹¤. (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tail -f /dev/null&lt;/code&gt; , `
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sleep infinity&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;ìƒì„±í•œ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•œë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ìœ„ ê³¼ì •ì—ì„œ ì‚¬ìš©ëœ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-Dockerfile highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ubuntu:latest&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;apt-get update &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; openssh-server vim

&lt;span class=&quot;c&quot;&gt;# change root password&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'root:admin123'&lt;/span&gt; | chpasswd

&lt;span class=&quot;c&quot;&gt;# change ssh configure&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;PermitRootLogin &lt;span class=&quot;nb&quot;&gt;yes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; /etc/ssh/sshd_config &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; service ssh restart

&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;service ssh restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(tl;dr) ìœ„ì™€ ê°™ì€ ì‹ìœ¼ë¡œ VPC ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ì œê°€ ë‹¤ë‹ˆëŠ” í•™êµì— í”„ë¡œì íŠ¸ ê³¼ì œë¡œ ì œì¶œí•´ì„œ ì¢‹ì€ ì„±ì ì„ ë°›ì€ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. ^^ v ì†ŒìŠ¤ì½”ë“œëŠ” í˜„ì¬ ë¹„ê³µê°œë¡œ ë˜ì–´ìˆìœ¼ë©° í˜„ì¬ëŠ” ì‚¬ë‚´ git ë‚´ë¶€ í”„ë¡œì íŠ¸ë¡œ ì˜®ê²¨ë‘ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;cce-2021&quot;&gt;CCE 2021&lt;/h1&gt;

&lt;p&gt;ì €ëŠ” êµ­ê°€ì •ë³´ì›ì—ì„œ ì£¼ìµœí•œ 2021 ì‚¬ì´ë²„ê³µê²©ë°©ì–´ëŒ€íšŒ(CCE)ì— í•œêµ­ìˆ˜ë ¥ì›ìë ¥ ì—°í•©íŒ€ìœ¼ë¡œ ê³µê³µë¶€ë¬¸ì— ì°¸ê°€í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. CCEëŠ” ìš°ë¦¬ë‚˜ë¼ì—ì„œ ê·œëª¨ê°€ í° ëŒ€íšŒì´ê³  ë³¸ì„ ì—ì„œ ê³µë°©ì „ í˜•ì‹ ë“± ë‹¤ì–‘í•œ í¬ë§·ì„ ì‹œë„í•˜ëŠ” ê²ƒìœ¼ë¡œ ìœ ëª…í•œ ëŒ€íšŒì…ë‹ˆë‹¤. ì €ëŠ” Jeopardy ë°©ì‹ì´ ì•„ë‹Œ ìƒˆë¡œìš´ í˜•ì‹ì˜ ëŒ€íšŒë¥¼ ì²˜ìŒ ì°¸ê°€í–ˆë˜ í„°ë¼ ìƒˆë¡œìš´ í˜•ì‹ì˜ ëŒ€íšŒì— í¬ê²Œ ê°ëª… ë°›ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;figure&gt;
    &lt;img src=&quot;/assets/2022-10-04-Secure-Coding-Training-System/cce.jpeg&quot; title=&quot;Github_Logo&quot; /&gt;
    &lt;figcaption&gt;
        &lt;p align=&quot;center&quot;&gt;2021 ì‚¬ì´ë²„ê³µê²©ë°©ì–´ëŒ€íšŒ ìˆ˜ìƒ ë‹¹ì‹œ ğŸ”¥&lt;/p&gt;
    &lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;ë³¸ì„  ëŒ€íšŒ í˜•ì‹ì€ ë¼ìš´ë“œ ë³„ë¡œ ë‚˜ë‰˜ì—ˆë˜ ê²ƒìœ¼ë¡œ ê¸°ì–µí•©ë‹ˆë‹¤. íŒ€ ë‚´ì—ì„œ ì œê°€ ì£¼ë„ì ìœ¼ë¡œ ì°¸ì—¬í–ˆë˜ ì²«ë²ˆì§¸ ë¼ìš´ë“œëŠ” ì¶œì œì§„ ìª½ì—ì„œ ì œê³µí•œ ê°€ìƒ ì¸ìŠ¤í„´ìŠ¤ì— sshë¡œ ì ‘ì†í•´ì„œ ì·¨ì•½í•œ ì†ŒìŠ¤ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  SLA ì²´í¬ í›„ ì ìˆ˜ê°€ ë³€ë™ë˜ëŠ” í˜•ì‹ì´ì—ˆìŠµë‹ˆë‹¤. SLA ì²´í¬ëŠ” ìë™ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ê°€ìƒ ì¸ìŠ¤í„´ìŠ¤ì˜ ê°€ìš©ì„±, ì·¨ì•½ì„±ì„ ê²€ì‚¬ì…ë‹ˆë‹¤. 30ì´ˆë§ˆë‹¤ ë¬¸ì œ ì¶œì œì§„ ìª½ì—ì„œ ë§Œë“  SLA ì²´í¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ëŒë ¤ì„œ ì·¨ì•½ì ì´ ì•„ì§ ì¡´ì¬í•˜ê±°ë‚˜ ì„œë¹„ìŠ¤ì˜ ê°€ìš©ì„±ì´ í›¼ì†ëœ ê²½ìš° íŒ€ ì ìˆ˜ì—ì„œ ì°¨ê°ë˜ëŠ” í˜•ì‹ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;CCEê°€ ëë‚˜ê³  ë‚˜ì„œ ë“  ìƒê°ì€, ì œê°€ ë§Œë“  VPC ì„œë¹„ìŠ¤ë¥¼ ì¢€ ë” ë°œì „ì‹œì¼œì„œ CCE ë³¸ì„ ì—ì„œ ë´¤ë˜ ì‹œìŠ¤í…œì„ êµ¬í˜„í•  ìˆ˜ ìˆê² ë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;secure-coding-training-platform&quot;&gt;Secure Coding Training Platform&lt;/h1&gt;

&lt;p&gt;2022ë…„ ë‚´ì— êµë‚´ ë³´ì•ˆëŒ€íšŒì—ì„œ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” ëª©í‘œë¡œ ì‹œíì–´ ì½”ë”© êµìœ¡ í”Œë«í¼ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì›ë˜ëŠ” ssh ì •ë³´ë§Œ ì£¼ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vi&lt;/code&gt; ëª…ë ¹ìœ¼ë¡œ ì†ŒìŠ¤ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ìš´ì˜í•˜ê³ ì í–ˆìœ¼ë‚˜, í„°ë¯¸ë„ì— ìµìˆ™í•˜ì§€ ì•Šì€ ë¶„ë“¤ì´ ë§ë‹¤ëŠ” ì ì„ ì•Œê²Œ ë˜ì–´ WEB IDEë¥¼ ì œê³µí•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ê°œë°œí–ˆìŠµë‹ˆë‹¤. WEB IDEëŠ”  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;monaco-editor&lt;/code&gt; ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ Reactë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œê³ , ì´ë¯¸ì§€í™”í•˜ì—¬ í™œìš©ì„±ì„ ë†’ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;* WEB IDE : &lt;a href=&quot;https://github.com/ch4n3-yoon/online-monaco-editor&quot;&gt;https://github.com/ch4n3-yoon/online-monaco-editor&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WEB IDEë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;ë¬¸ì œ ì¶œì œìê°€ ì§€ì •í•œ ì´ë¯¸ì§€ ì´ë¦„ì„ ê°€ì ¸ì™€ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ìƒì„±í•œ ì»¨í…Œì´ë„ˆì—ì„œ ë¬¸ì œ ì¶œì œìê°€ ì§€ì •í•œ ë””ë ‰í„°ë¦¬ì—ì„œ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³µì‚¬í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ìì—ê²Œ ì œê³µë  WEB-IDEë¥¼ ìƒì„±í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì»¨í…Œì´ë„ˆì—ì„œ ë³µì‚¬í•œ ì†ŒìŠ¤ì½”ë“œë¥¼ WEB IDE ì•ˆì— ë³µì‚¬í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ìì—ê²Œ WEB IDE ì ‘ì† ì •ë³´ë¥¼ ì¶œë ¥í•œë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;SLA ì²´í¬ ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;ì‚¬ìš©ìê°€ í•´ë‹¹ ë¬¸ì œë¥¼ ì´ë¯¸ í’€ì—ˆëŠ”ì§€ ë“±ì„ í™•ì¸í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì‚¬ìš©ìê°€ ìˆ˜ì •í•œ íŒŒì¼ë“¤ì„ ê´€ë¦¬ ì„œë²„ì— ë³µì‚¬í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;build ë° SLA ìš© ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;3ì—ì„œ ìƒì„±í•œ ì»¨í…Œì´ë„ˆì— ì‚¬ìš©ìê°€ ìˆ˜ì •í•œ íŒŒì¼ì„ ë¶™ì—¬ë„£ëŠ”ë‹¤.&lt;/li&gt;
  &lt;li&gt;ë¬¸ì œì— ì§€ì •ëœ TestCase ëª…ë ¹ì–´ë“¤ì„ ìˆ˜í–‰í•˜ê³  ì ìˆ˜ë¥¼ ë§¤ê¸´ë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;(tl;dr) ì´ í”„ë¡œì íŠ¸ë„ ì†ŒìŠ¤ì½”ë“œëŠ” í˜„ì¬ ë¹„ê³µê°œë¡œ ë˜ì–´ìˆìœ¼ë©° í˜„ì¬ëŠ” ì‚¬ë‚´ git ë‚´ë¶€ í”„ë¡œì íŠ¸ë¡œ ì˜®ê²¨ë‘ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;ê²½í¬ëŒ€í•™êµ-sw-ë³´ì•ˆëŒ€íšŒ&quot;&gt;ê²½í¬ëŒ€í•™êµ SW ë³´ì•ˆëŒ€íšŒ&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-10-04-Secure-Coding-Training-System/poster.png&quot; width=&quot;400px&quot; title=&quot;KHUCTF Poster&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì‹¤ì œë¡œ í•´ë‹¹ í”Œë«í¼ìœ¼ë¡œ ê²½í¬ëŒ€í•™êµì—ì„œ SW ë³´ì•ˆëŒ€íšŒë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. RAON, ENKI ë“± êµ­ë‚´ ìœ ëª…í•œ ë³´ì•ˆ ì—…ì²´ ì†Œì†ì¸ ì œ ì¹œêµ¬ë“¤ê³¼ ì¬ì§ì ë¶„ë“¤ê»˜ ë¶€íƒì„ í•´ì„œ ì–‘ì§ˆì˜ ë¬¸ì œë¥¼ ì¶œì œí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ë¬¸ì œ í’€ì´ìê°€ ê·¸ë ‡ê²Œ ë§ì§€ ì•Šì•„ ì‚¬ìš©ì í”¼ë“œë°±ì´ ì ë‹¤ëŠ” ì ì´ ì•„ì‰½ê¸´í•˜ë‚˜, ì´ ëŒ€íšŒë¥¼ ê³„ê¸°ë¡œ íšŒì‚¬ ë‚´ì—ì„œ ë§Œë“¤ê³  ìˆëŠ” ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì— í° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;ë§ˆë¬´ë¦¬&quot;&gt;ë§ˆë¬´ë¦¬&lt;/h1&gt;

&lt;p&gt;Docker SDKë¥¼ í†µí•´ ì‹¤ì œ ì†Œí”„íŠ¸ì›¨ì–´ ë³´ì•ˆëŒ€íšŒì— ì‚¬ìš©ë˜ëŠ” í”Œë«í¼ì„ ê°œë°œí•˜ê¸°ê¹Œì§€ì˜ ê³¼ì •ì„ í•œ ì˜ˆì‹œë¡œ ì„¤ëª…ë“œë ¸ìŠµë‹ˆë‹¤. í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ìƒí’ˆê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì§€ê¸ˆë„ ë‹¤ì–‘í•˜ê²Œ ì œê³µë˜ê³  ìˆì–´ì„œ ì‰½ê²Œ ê¸°ëŠ¥ì„ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ê±°ì¸ì˜ ì–´ê¹¨ ìœ„ì— ì„œì„œ ë” ë†’ì€ ê°€ì¹˜ë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>ìœ¤ì„ì°¬</name></author><category term="R&amp;D" /><summary type="html">ê°œìš”</summary></entry><entry xml:lang="ko"><title type="html">LLVMì„ ì‚¬ìš©í•œ Control Flow Flattening íŒ¨ìŠ¤ ê°œë°œ</title><link href="http://ufo.stealien.com/id/2022-07-13/llvm-flow-flatten" rel="alternate" type="text/html" title="LLVMì„ ì‚¬ìš©í•œ Control Flow Flattening íŒ¨ìŠ¤ ê°œë°œ" /><published>2022-07-13T00:00:00+09:00</published><updated>2022-07-13T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-07-13/LLVM-flow-flatten-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-07-13/llvm-flow-flatten">&lt;h1 id=&quot;llvmì„-ì‚¬ìš©í•œ-control-flow-flattening-íŒ¨ìŠ¤-ê°œë°œ&quot;&gt;LLVMì„ ì‚¬ìš©í•œ Control Flow Flattening íŒ¨ìŠ¤ ê°œë°œ&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/llvm/llvm-project&quot;&gt;LLVM&lt;/a&gt;ì„ ì´ìš©í•˜ì—¬ ë‚œë…í™”ë¥¼ í•  ìˆ˜ ìˆìœ¼ë©´ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ í”Œë«í¼ì—ì„œ LLVMì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œë˜ëŠ” ì½”ë“œë“¤ì— ëŒ€í•œ ê³µí†µ ë‚œë…í™” íˆ´ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë¥¼ ìœ„í•´ ì—¬ëŸ¬ê°€ì§€ ë‚œë…í™” ë° ì•”í˜¸í™” íŒ¨ìŠ¤ë¥¼ ê°œë°œí•˜ì˜€ê³  ì´ ê¸€ì—ì„œëŠ” ê·¸ ì¤‘ í•œ ê°€ì§€ì¸ íë¦„ í‰ë©´í™” íŒ¨ìŠ¤ì˜ ê°œë°œ ê³¼ì •ì— ëŒ€í•´ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;llvmì´ë€&quot;&gt;LLVMì´ë€&lt;/h2&gt;

&lt;p&gt;LLVMì˜ ì •ì‹ ëª…ì¹­ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Low Level Virtual Machine&lt;/code&gt;ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ì´ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ì€ ê¸°ì¡´ì˜ virtual machine ê°œë…ë³´ë‹¤ëŠ” ëª¨ë“ˆí™” ë˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´íŒŒì¼ëŸ¬ ê¸°ìˆ ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ê²ƒì€ target independentí•œ &lt;a href=&quot;https://llvm.org/docs/CommandGuide/opt.html&quot;&gt;optimizer&lt;/a&gt;, target specific í•œ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” code generator ê°™ì€ ì»´íŒŒì¼ëŸ¬ ë„êµ¬ë“¤ê³¼ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œ ì‚¬ì´ì— LLVM intermediate representationìœ¼ë¡œ ì•Œë ¤ì§„ LLVM IRì´ë¼ëŠ” ì¤‘ê°„ ë‹¨ê³„ì˜ ì–¸ì–´ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê¸€ì—ì„œëŠ” LLVMì—ì„œ ëª¨ë“ˆí™”ëœ ì»´íŒŒì¼ëŸ¬ë¥¼ ì œì‘í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì¸ íŒ¨ìŠ¤ë¥¼ í†µí•´ íë¦„ ë‚œë…í™”ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;control-flow-flatteningë€&quot;&gt;Control Flow Flatteningë€&lt;/h2&gt;

&lt;p&gt;íë¦„ í‰ë©´í™”, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;control flow flattening&lt;/code&gt;ì€ ì½”ë“œì˜ íë¦„ì„ í‰ë©´í™” ì‹œí‚¤ëŠ” ë‚œë…í™” ê¸°ìˆ ì…ë‹ˆë‹¤. Loop, conditional branch ê°™ì€ ì½”ë“œì˜ íë¦„ì„ ì „ë¶€ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ switch ë¬¸ì— ì§‘ì–´ë„£ì–´ì„œ ëª¨ë“  ë‹¤ë¥¸ ë¸”ë¡ìœ¼ë¡œì˜ ì´ë™ì´ ë‹¨ í•˜ë‚˜ì˜ ë¸”ë¡ìœ¼ë¡œë¶€í„° ì´ë£¨ì–´ì§€ë„ë¡ ë§Œë“¤ì–´ ì½”ë“œë¥¼ ë¶„ì„í•˜ê¸° ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤. íë¦„ ê·¸ë˜í”„ê°€ ë§ˆì§€ë§‰ ì‚¬ì§„ê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;í™˜ê²½-êµ¬ì„±&quot;&gt;í™˜ê²½ êµ¬ì„±&lt;/h2&gt;

&lt;p&gt;ì´ ê¸€ì—ì„œëŠ” llvm 13 ë²„ì „ì„ ë°”íƒ•ìœ¼ë¡œ LLVMì„ ë¹Œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ &lt;a href=&quot;https://llvm.org/docs/CMake.html#usage&quot;&gt;cmake&lt;/a&gt; ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ninja&lt;/code&gt;ë¥¼ í†µí•´ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;LLVM ê°œë°œì€ ìƒ˜í”Œ íŒ¨ìŠ¤ì¸ llvm/lib/Transforms/Helloë¥¼ ë®ì–´ì”Œì›Œ íë¦„ í‰ë©´í™”ë¥¼ ìœ„í•œ ì»¤ìŠ¤í…€ íŒ¨ìŠ¤ë¥¼ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cmake &lt;span class=&quot;nt&quot;&gt;-G&lt;/span&gt; Ninja &lt;span class=&quot;nt&quot;&gt;-DLLVM_PARALLEL_LINK_JOBS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1 &lt;span class=&quot;nt&quot;&gt;-DCMAKE_BUILD_TYPE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Debug &lt;span class=&quot;nt&quot;&gt;-DLLVM_ENABLE_PROJECTS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;clang ../llvm-project/llvm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;íë¦„-í‰ë©´í™”-ì ìš©-ì‹œ-ë°œìƒí•˜ëŠ”-ì˜¤ë¥˜&quot;&gt;íë¦„ í‰ë©´í™” ì ìš© ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜&lt;/h2&gt;

&lt;p&gt;LLVMì—ì„œ &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1Function.html&quot;&gt;Function&lt;/a&gt; í´ë˜ìŠ¤ ì•„ë˜ì— ì¡´ì¬í•˜ëŠ” &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1BasicBlock.html&quot;&gt;Basic Block&lt;/a&gt;ë“¤ì„ íë¦„ í‰ë©´í™”ì˜ ê°œë…ì— ë”°ë¼ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1SwitchInst.html&quot;&gt;Switch Instruction&lt;/a&gt; ì•„ë˜ì— ì§‘ì–´ë„£ìŒìœ¼ë¡œì¨ êµ¬í˜„í•´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì²˜ëŸ¼ ìˆ˜ì •ì„ ì‹œë„í•  ê²½ìš° &lt;a href=&quot;https://github.com/llvm/llvm-project/blob/main/llvm/lib/IR/Verifier.cpp&quot;&gt;LLVM Verifier&lt;/a&gt;ì—ì„œ ìˆ˜ì •ëœ ë‚´ìš©ì´ ìœ íš¨í•œì§€ ê²€ì¦í•©ë‹ˆë‹¤. íë¦„ ê·¸ë˜í”„ì™€ ê´€ë ¨ëœ ê²€ì¦ì—ëŠ” predsë¼ëŠ” ì–´ë–¤ ë¸”ë¡ì—ì„œ ì´ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ê°€ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ”ë°, ì´ì™€ ê´€ë ¨ëœ ì•„ë˜ 3ê°€ì§€ ê²€ì¦ì—ì„œ ì˜¤ë¥˜ê°€ ìì£¼ ë°œìƒí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1PHINode.html&quot;&gt;phi node&lt;/a&gt;ì˜ ê²½ìš° ëª¨ë“  ì¼€ì´ìŠ¤ì™€ predsê°€ ì¼ì¹˜í•´ì•¼ í•œë‹¤.&lt;/p&gt;

    &lt;div class=&quot;language-cmake highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; PHINode should have one entry for each predecessor of its parent basic block!
 %62 = phi i32 [ %30, %23 ], [ %35, %32 ], [ %40, %37 ], [ %60, %54 ], !dbg !1211
 LLVM ERROR: Broken module found, compilation aborted!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ë¸”ë¡ Aì—ì„œ í˜¸ì¶œí•˜ëŠ” ë³€ìˆ˜ëŠ” entry blockì—ì„œ ë¸”ë¡ Aì— ë„ë‹¬í•˜ê¸° ì „ì— ì •ì˜ë˜ì–´ì•¼ í•œë‹¤.&lt;/p&gt;

    &lt;div class=&quot;language-cmake highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; Instruction does not dominate all uses!
 %alloc = alloca i64, align 8
 %load = load i64, i64* %alloc, align 8
 LLVM ERROR: Broken module found, compilation aborted!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1LandingPadInst.html&quot;&gt;Landingpad&lt;/a&gt;ë¥¼ ê°€ì§„ ë¸”ë¡ì€ ë°˜ë“œì‹œ &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1InvokeInst.html&quot;&gt;invoke&lt;/a&gt;ì— ì˜í•´ì„œ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤.&lt;/p&gt;

    &lt;div class=&quot;language-cmake highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; Block containing LandingPadInst must be jumped to only by the unwind edge of an invoke.
 LLVM ERROR: Broken module found, compilation aborted!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;ì´ ë¬¸ì œë“¤ ì¤‘ 1ë²ˆê³¼ 2ë²ˆì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;opt&lt;/code&gt;ì— ê¸°ë³¸ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ ìˆëŠ” &lt;a href=&quot;https://llvm.org/docs/Passes.html#reg2mem-demote-all-values-to-stack-slots&quot;&gt;â€“reg2mem&lt;/a&gt; ì˜µì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ëŒ€ë¶€ë¶„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ phi ë…¸ë“œë“¤ì„ ì œê±°í•˜ê³  ëª¨ë“  allocationì„ entry blockì—ì„œ í•˜ë„ë¡ ìˆ˜ì •í•´ì¤ë‹ˆë‹¤. ì´ë¥¼ ì ìš©í•¨ìœ¼ë¡œì¨ íë¦„ í‰ë©´í™”ë¥¼ ì§„í–‰í•˜ê¸° ì‰¬ì›Œì§‘ë‹ˆë‹¤. ë‹¤ë§Œ ì´ ì˜µì…˜ì„ ì ìš©í•˜ì—¬ë„ ë‚¨ì•„ìˆëŠ” phi nodeê°€ ìˆëŠ” ê²½ìš°ê°€ ìˆì–´ ì´ì— ëŒ€í•œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;3ë²ˆì˜ ê²½ìš° switch-case ë¸”ë¡ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;í‰ë©´í™”-ì½”ë“œ-êµ¬í˜„&quot;&gt;í‰ë©´í™” ì½”ë“œ êµ¬í˜„&lt;/h2&gt;

&lt;p&gt;ìš°ì„  switch-case ë¬¸ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ë¸”ë¡ë“¤ì„ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤. Function í´ë˜ìŠ¤ì— iteratorë¥¼ ëŒë©´ì„œ ìœ„ì˜ 3ë²ˆ, LandingPadë¥¼ ê°€ì¡ŒëŠ”ì§€ í™•ì¸í•˜ê³  ì•„ë‹Œ ê²ƒë“¤ì„ ë²¡í„° í˜•íƒœë¡œ ìˆ˜ì§‘í•©ë‹ˆë‹¤. Allocationì´ ì´ë£¨ì–´ì§€ëŠ” ë¸”ë¡ì€ ë”°ë¡œ ë¶„ë¦¬í•´ ë‘ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— entry blockì„ ì œê±°í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vector&amp;lt;BasicBlock *&amp;gt; origBB;
for (Function::iterator i = F.begin(); i != F.end(); ++i)
{
    BasicBlock *block = &amp;amp;*i;
    if (!block-&amp;gt;isLandingPad())
    {
        origBB.push_back(block);
    }
}
origBB.erase(origBB.begin());
return origBB;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê·¸ ë‹¤ìŒ IRBuilderë¥¼ ì‚¬ìš©í•˜ì—¬ Switch Instructionì„ ê°€ì§€ê²Œ ë  Basic Blockì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. Switch ë¸”ë¡ì—ëŠ” defaultë¡œ ì–´ë–¤ ë¸”ë¡ìœ¼ë¡œ ì í”„í•  ê²ƒì¸ì§€ë¥¼ ì§€ì •í•´ ì£¼ì–´ì•¼ í•˜ëŠ”ë° ì´ê²ƒ ì—­ì‹œ ìƒˆë¡œìš´ ë¹ˆ ë¸”ë¡, swDefaultë¥¼ ìƒì„±í•˜ì—¬ ì§€ì •í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;BasicBlock *swDefault = BasicBlock::Create(Context, &quot;StealienCFGSwitchDefault&quot;, &amp;amp;F, *origBB.begin());
IRBuilder&amp;lt;&amp;gt; IRBswDefault(swDefault);
IRBswDefault.CreateBr(*origBB.begin());

BasicBlock *startSwitch = BasicBlock::Create(Context, &quot;StealienCFGswitch&quot;, &amp;amp;F, swDefault);
IRBuilder&amp;lt;&amp;gt; IRBswitch(startSwitch);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê·¸ ë‹¤ìŒ Switchì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ë¥¼ Entry Blockì—ì„œ allocationì„ í•´ ì¤€ ë’¤, Switch ë¸”ë¡ì—ì„œ ì´ ê°’ì„ Value addë¡œ ê°€ì ¸ì˜¤ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AllocaInst *switchVar = new AllocaInst(llvm::Type::getInt64Ty(Context), AddrSpace, nullptr, AllocaAlign, &quot;&quot;, entryBlock-&amp;gt;getTerminator());
LoadInst *load = IRBswitch.CreateAlignedLoad(llvm::Type::getInt64Ty(Context), switchVar, MaybeAlign(8));
Value *add = IRBswitch.CreateAdd(load, ConstantInt::get(llvm::Type::getInt64Ty(Context), 762167));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê·¸ í›„ IRBSwitchì— Switch Instructionì„ ìƒì„±í•©ë‹ˆë‹¤. randomArrì€ íŠ¹ì • ë²”ìœ„ì˜ ìˆ˜ë¥¼ ëœë¤í•œ ìˆœì„œë¡œ ì„ì€ ë¦¬ìŠ¤íŠ¸ì´ë©°, ì´ ê°’ë“¤ì„ ì‚¬ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ caseë“¤ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;switchI = IRBswitch.CreateSwitch(add, swDefault, randomArr[origBB.size()]);
for (BasicBlock *setSwitchBlocks : origBB)
{
    BasicBlock *selectedBlock = setSwitchBlocks;
    if(!this-&amp;gt;hasPHI(selectedBlock)) {
        ConstantInt *constCase = llvm::ConstantInt::get(llvm::Type::getInt64Ty(Context), randomArr[index]);
        switchI-&amp;gt;addCase(constCase, selectedBlock);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë§ˆì§€ë§‰ìœ¼ë¡œ origBBì— ìˆëŠ” BasicBlock ë“¤ì˜ Terminatorë¥¼ BranchInstì¸ì§€ ê·¸ë¦¬ê³  Successor ê°œìˆ˜ì— ë”°ë¼ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. BranchInstëŠ” 1ê°œ í˜¹ì€ 2ê°œì˜ Successorë¥¼ ê°€ì§€ë©°, ì´ê²ƒë“¤ì´ ìˆ˜ì • ëŒ€ìƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Branch Instructionì´ ì•„ë‹Œ ê²½ìš° : return í˜¹ì€ unreachable ê°™ì€ ì¢…ë¥˜ë˜ëŠ” ê²½ìš° í˜¹ì€ invokeì™€ ê°™ì´ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•œ Terminating Instructionì¸ ê²½ìš°&lt;/li&gt;
  &lt;li&gt;Branch Instructionì˜ Successorê°€ 1ì¸ ê²½ìš° : branch BlockA ê°™ì´ ë‹¤ë¥¸ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš°&lt;/li&gt;
  &lt;li&gt;Branch Instructionì˜ Successorê°€ 2ì¸ ê²½ìš° : branch condition BlockA BlockB ì²˜ëŸ¼ condition ê°’ì— ë”°ë¼ ì´ë™í•˜ëŠ” ë¸”ë¡ì´ ì´ë™ë˜ëŠ” ê²½ìš°&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ë”°ë¼ì„œ &lt;a href=&quot;https://llvm.org/doxygen/classllvm_1_1BranchInst.html&quot;&gt;Branch Instruction&lt;/a&gt;ì—ì„œ ì´ë™í•  ë¸”ë¡ì— ì§€ì •ëœ ê°’ì„ Switch Instructionì—ì„œ ì°¾ì•„ì„œ ìœ„ì—ì„œ ìƒì„±í•´ë‘” switchVarì— ì €ì¥í•´ì£¼ê³  Switch Blockìœ¼ë¡œ ëŒì•„ê°€ë©´ ìë™ìœ¼ë¡œ ì´ê±¸ ë¡œë“œí•´ì„œ ì›í•˜ëŠ” ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. Successorì˜ ê°œìˆ˜ê°€ 1ì¸ ê²½ìš°ì— ëŒ€í•œ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. 2ì¸ ê²½ìš°ì—ë„ ë‘˜ ë‹¤ì— ëŒ€í•´ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•´ì£¼ë©´ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ ì½”ë“œì—ì„œëŠ” Switch Instructionì—ì„œ ê°€ì ¸ì˜¨ intCase ê°’ì´ ì§ì ‘ ë“œëŸ¬ë‚˜ëŠ” ê²ƒì„ ìˆ¨ê¸°ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ë§ì…ˆê³¼ ê³±ì…ˆì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;if(!isa&amp;lt;BranchInst&amp;gt;(selectedBlock-&amp;gt;getTerminator())){
    continue;
}
uint64_t successors = selectedBlock-&amp;gt;getTerminator()-&amp;gt;getNumSuccessors();
if (successors == 1)
{
    BasicBlock *follow = selectedBlock-&amp;gt;getTerminator()-&amp;gt;getSuccessor(0);
    ConstantInt *intCase = switchI-&amp;gt;findCaseDest(follow);
    if (intCase == NULL)
    {
        continue;
    }
    selectedBlock-&amp;gt;getTerminator()-&amp;gt;eraseFromParent();
    IRBuilder&amp;lt;NoFolder&amp;gt; tempBuilder(selectedBlock);
    uint64_t origCase = intCase-&amp;gt;getSExtValue() - addVal;
    uint64_t randVal = 17+rand()%10000;
    Value * mul = tempBuilder.CreateMul(ConstantInt::get(llvm::Type::getInt64Ty(Context), origCase/randVal), ConstantInt::get(llvm::Type::getInt64Ty(Context), randVal));
    Value * add = tempBuilder.CreateAdd(mul, ConstantInt::get(llvm::Type::getInt64Ty(Context), origCase%randVal));
    tempBuilder.CreateAlignedStore(add, switchVar, MaybeAlign(8));
    tempBuilder.CreateBr(startSwitch);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ì „í›„ë¹„êµ&quot;&gt;ì „í›„ë¹„êµ&lt;/h2&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Control Flow Flattening&lt;/code&gt; ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Optì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-dot-cfg&lt;/code&gt; ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ íë¦„ í‰ë©´í™” ì „ìš© ì „ê³¼ í›„ë¥¼ ë¹„êµí•˜ë©´ StealienCFGswitch ë¼ëŠ” Switch ë¸”ë¡ì´ ì¶”ê°€ëœ ê²ƒê³¼ ëª¨ë“  ë¸”ë¡ì´ ë‹¤ì‹œ ì´ ë¸”ë¡ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ë‚œë…í™” ê¸°ëŠ¥ì´ ì ìš©ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ¬í•œ ë‚œë…í™” ê¸°ëŠ¥ì€ ë‹¤ë¥¸ ë‚œë…í™” ê¸°ëŠ¥ë“¤ê³¼ í•¨ê»˜ ì ìš©í•˜ë©´ í›¨ì”¬ ë” ë¶„ì„í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;img src=&quot;/assets/2022-07-14-LLVM-flow-flatten/original-flow-graph.png&quot; alt=&quot;Original Flow Graph&quot; style=&quot;max-width:800px; height:auto;&quot; /&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ê¸°ì¡´ íë¦„ ê·¸ë˜í”„&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;img src=&quot;/assets/2022-07-14-LLVM-flow-flatten/flattened-flow-graph.png&quot; alt=&quot;Flattened Flow Graph&quot; style=&quot;max-width:800px; height:auto;&quot; /&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;í‰ë©´í™” ëª¨ë“ˆ ì ìš© í›„ íë¦„ ê·¸ë˜í”„&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</content><author><name>ì¡°ì¥í˜„</name></author><category term="Dev" /><summary type="html">LLVMì„ ì‚¬ìš©í•œ Control Flow Flattening íŒ¨ìŠ¤ ê°œë°œ LLVMì„ ì´ìš©í•˜ì—¬ ë‚œë…í™”ë¥¼ í•  ìˆ˜ ìˆìœ¼ë©´ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ í”Œë«í¼ì—ì„œ LLVMì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œë˜ëŠ” ì½”ë“œë“¤ì— ëŒ€í•œ ê³µí†µ ë‚œë…í™” íˆ´ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì—¬ëŸ¬ê°€ì§€ ë‚œë…í™” ë° ì•”í˜¸í™” íŒ¨ìŠ¤ë¥¼ ê°œë°œí•˜ì˜€ê³  ì´ ê¸€ì—ì„œëŠ” ê·¸ ì¤‘ í•œ ê°€ì§€ì¸ íë¦„ í‰ë©´í™” íŒ¨ìŠ¤ì˜ ê°œë°œ ê³¼ì •ì— ëŒ€í•´ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤. LLVMì´ë€ LLVMì˜ ì •ì‹ ëª…ì¹­ì€ Low Level Virtual Machineì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ì€ ê¸°ì¡´ì˜ virtual machine ê°œë…ë³´ë‹¤ëŠ” ëª¨ë“ˆí™” ë˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´íŒŒì¼ëŸ¬ ê¸°ìˆ ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ê²ƒì€ target independentí•œ optimizer, target specific í•œ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” code generator ê°™ì€ ì»´íŒŒì¼ëŸ¬ ë„êµ¬ë“¤ê³¼ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œ ì‚¬ì´ì— LLVM intermediate representationìœ¼ë¡œ ì•Œë ¤ì§„ LLVM IRì´ë¼ëŠ” ì¤‘ê°„ ë‹¨ê³„ì˜ ì–¸ì–´ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” LLVMì—ì„œ ëª¨ë“ˆí™”ëœ ì»´íŒŒì¼ëŸ¬ë¥¼ ì œì‘í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì¸ íŒ¨ìŠ¤ë¥¼ í†µí•´ íë¦„ ë‚œë…í™”ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤. Control Flow Flatteningë€ íë¦„ í‰ë©´í™”, control flow flatteningì€ ì½”ë“œì˜ íë¦„ì„ í‰ë©´í™” ì‹œí‚¤ëŠ” ë‚œë…í™” ê¸°ìˆ ì…ë‹ˆë‹¤. Loop, conditional branch ê°™ì€ ì½”ë“œì˜ íë¦„ì„ ì „ë¶€ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ switch ë¬¸ì— ì§‘ì–´ë„£ì–´ì„œ ëª¨ë“  ë‹¤ë¥¸ ë¸”ë¡ìœ¼ë¡œì˜ ì´ë™ì´ ë‹¨ í•˜ë‚˜ì˜ ë¸”ë¡ìœ¼ë¡œë¶€í„° ì´ë£¨ì–´ì§€ë„ë¡ ë§Œë“¤ì–´ ì½”ë“œë¥¼ ë¶„ì„í•˜ê¸° ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤. íë¦„ ê·¸ë˜í”„ê°€ ë§ˆì§€ë§‰ ì‚¬ì§„ê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ë³€ê²½ë©ë‹ˆë‹¤. í™˜ê²½ êµ¬ì„± ì´ ê¸€ì—ì„œëŠ” llvm 13 ë²„ì „ì„ ë°”íƒ•ìœ¼ë¡œ LLVMì„ ë¹Œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤. ì•„ë˜ cmake ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœ í›„ ninjaë¥¼ í†µí•´ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. LLVM ê°œë°œì€ ìƒ˜í”Œ íŒ¨ìŠ¤ì¸ llvm/lib/Transforms/Helloë¥¼ ë®ì–´ì”Œì›Œ íë¦„ í‰ë©´í™”ë¥¼ ìœ„í•œ ì»¤ìŠ¤í…€ íŒ¨ìŠ¤ë¥¼ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤. cmake -G Ninja -DLLVM_PARALLEL_LINK_JOBS=1 -DCMAKE_BUILD_TYPE=Debug -DLLVM_ENABLE_PROJECTS=clang ../llvm-project/llvm íë¦„ í‰ë©´í™” ì ìš© ì‹œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ LLVMì—ì„œ Function í´ë˜ìŠ¤ ì•„ë˜ì— ì¡´ì¬í•˜ëŠ” Basic Blockë“¤ì„ íë¦„ í‰ë©´í™”ì˜ ê°œë…ì— ë”°ë¼ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ Switch Instruction ì•„ë˜ì— ì§‘ì–´ë„£ìŒìœ¼ë¡œì¨ êµ¬í˜„í•´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ ìˆ˜ì •ì„ ì‹œë„í•  ê²½ìš° LLVM Verifierì—ì„œ ìˆ˜ì •ëœ ë‚´ìš©ì´ ìœ íš¨í•œì§€ ê²€ì¦í•©ë‹ˆë‹¤. íë¦„ ê·¸ë˜í”„ì™€ ê´€ë ¨ëœ ê²€ì¦ì—ëŠ” predsë¼ëŠ” ì–´ë–¤ ë¸”ë¡ì—ì„œ ì´ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ê°€ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ”ë°, ì´ì™€ ê´€ë ¨ëœ ì•„ë˜ 3ê°€ì§€ ê²€ì¦ì—ì„œ ì˜¤ë¥˜ê°€ ìì£¼ ë°œìƒí•©ë‹ˆë‹¤. phi nodeì˜ ê²½ìš° ëª¨ë“  ì¼€ì´ìŠ¤ì™€ predsê°€ ì¼ì¹˜í•´ì•¼ í•œë‹¤. PHINode should have one entry for each predecessor of its parent basic block! %62 = phi i32 [ %30, %23 ], [ %35, %32 ], [ %40, %37 ], [ %60, %54 ], !dbg !1211 LLVM ERROR: Broken module found, compilation aborted! ë¸”ë¡ Aì—ì„œ í˜¸ì¶œí•˜ëŠ” ë³€ìˆ˜ëŠ” entry blockì—ì„œ ë¸”ë¡ Aì— ë„ë‹¬í•˜ê¸° ì „ì— ì •ì˜ë˜ì–´ì•¼ í•œë‹¤. Instruction does not dominate all uses! %alloc = alloca i64, align 8 %load = load i64, i64* %alloc, align 8 LLVM ERROR: Broken module found, compilation aborted! Landingpadë¥¼ ê°€ì§„ ë¸”ë¡ì€ ë°˜ë“œì‹œ invokeì— ì˜í•´ì„œ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤. Block containing LandingPadInst must be jumped to only by the unwind edge of an invoke. LLVM ERROR: Broken module found, compilation aborted! ì´ ë¬¸ì œë“¤ ì¤‘ 1ë²ˆê³¼ 2ë²ˆì€ optì— ê¸°ë³¸ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ ìˆëŠ” â€“reg2mem ì˜µì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ëŒ€ë¶€ë¶„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ phi ë…¸ë“œë“¤ì„ ì œê±°í•˜ê³  ëª¨ë“  allocationì„ entry blockì—ì„œ í•˜ë„ë¡ ìˆ˜ì •í•´ì¤ë‹ˆë‹¤. ì´ë¥¼ ì ìš©í•¨ìœ¼ë¡œì¨ íë¦„ í‰ë©´í™”ë¥¼ ì§„í–‰í•˜ê¸° ì‰¬ì›Œì§‘ë‹ˆë‹¤. ë‹¤ë§Œ ì´ ì˜µì…˜ì„ ì ìš©í•˜ì—¬ë„ ë‚¨ì•„ìˆëŠ” phi nodeê°€ ìˆëŠ” ê²½ìš°ê°€ ìˆì–´ ì´ì— ëŒ€í•œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤. 3ë²ˆì˜ ê²½ìš° switch-case ë¸”ë¡ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•©ë‹ˆë‹¤. í‰ë©´í™” ì½”ë“œ êµ¬í˜„ ìš°ì„  switch-case ë¬¸ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ë¸”ë¡ë“¤ì„ í™•ì¸í•´ì•¼í•©ë‹ˆë‹¤. Function í´ë˜ìŠ¤ì— iteratorë¥¼ ëŒë©´ì„œ ìœ„ì˜ 3ë²ˆ, LandingPadë¥¼ ê°€ì¡ŒëŠ”ì§€ í™•ì¸í•˜ê³  ì•„ë‹Œ ê²ƒë“¤ì„ ë²¡í„° í˜•íƒœë¡œ ìˆ˜ì§‘í•©ë‹ˆë‹¤. Allocationì´ ì´ë£¨ì–´ì§€ëŠ” ë¸”ë¡ì€ ë”°ë¡œ ë¶„ë¦¬í•´ ë‘ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— entry blockì„ ì œê±°í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. vector&amp;lt;BasicBlock *&amp;gt; origBB; for (Function::iterator i = F.begin(); i != F.end(); ++i) { BasicBlock *block = &amp;amp;*i; if (!block-&amp;gt;isLandingPad()) { origBB.push_back(block); } } origBB.erase(origBB.begin()); return origBB; ê·¸ ë‹¤ìŒ IRBuilderë¥¼ ì‚¬ìš©í•˜ì—¬ Switch Instructionì„ ê°€ì§€ê²Œ ë  Basic Blockì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. Switch ë¸”ë¡ì—ëŠ” defaultë¡œ ì–´ë–¤ ë¸”ë¡ìœ¼ë¡œ ì í”„í•  ê²ƒì¸ì§€ë¥¼ ì§€ì •í•´ ì£¼ì–´ì•¼ í•˜ëŠ”ë° ì´ê²ƒ ì—­ì‹œ ìƒˆë¡œìš´ ë¹ˆ ë¸”ë¡, swDefaultë¥¼ ìƒì„±í•˜ì—¬ ì§€ì •í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤. BasicBlock *swDefault = BasicBlock::Create(Context, &quot;StealienCFGSwitchDefault&quot;, &amp;amp;F, *origBB.begin()); IRBuilder&amp;lt;&amp;gt; IRBswDefault(swDefault); IRBswDefault.CreateBr(*origBB.begin()); BasicBlock *startSwitch = BasicBlock::Create(Context, &quot;StealienCFGswitch&quot;, &amp;amp;F, swDefault); IRBuilder&amp;lt;&amp;gt; IRBswitch(startSwitch); ê·¸ ë‹¤ìŒ Switchì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ë¥¼ Entry Blockì—ì„œ allocationì„ í•´ ì¤€ ë’¤, Switch ë¸”ë¡ì—ì„œ ì´ ê°’ì„ Value addë¡œ ê°€ì ¸ì˜¤ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. AllocaInst *switchVar = new AllocaInst(llvm::Type::getInt64Ty(Context), AddrSpace, nullptr, AllocaAlign, &quot;&quot;, entryBlock-&amp;gt;getTerminator()); LoadInst *load = IRBswitch.CreateAlignedLoad(llvm::Type::getInt64Ty(Context), switchVar, MaybeAlign(8)); Value *add = IRBswitch.CreateAdd(load, ConstantInt::get(llvm::Type::getInt64Ty(Context), 762167)); ê·¸ í›„ IRBSwitchì— Switch Instructionì„ ìƒì„±í•©ë‹ˆë‹¤. randomArrì€ íŠ¹ì • ë²”ìœ„ì˜ ìˆ˜ë¥¼ ëœë¤í•œ ìˆœì„œë¡œ ì„ì€ ë¦¬ìŠ¤íŠ¸ì´ë©°, ì´ ê°’ë“¤ì„ ì‚¬ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ caseë“¤ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤. switchI = IRBswitch.CreateSwitch(add, swDefault, randomArr[origBB.size()]); for (BasicBlock *setSwitchBlocks : origBB) { BasicBlock *selectedBlock = setSwitchBlocks; if(!this-&amp;gt;hasPHI(selectedBlock)) { ConstantInt *constCase = llvm::ConstantInt::get(llvm::Type::getInt64Ty(Context), randomArr[index]); switchI-&amp;gt;addCase(constCase, selectedBlock); } } ë§ˆì§€ë§‰ìœ¼ë¡œ origBBì— ìˆëŠ” BasicBlock ë“¤ì˜ Terminatorë¥¼ BranchInstì¸ì§€ ê·¸ë¦¬ê³  Successor ê°œìˆ˜ì— ë”°ë¼ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. BranchInstëŠ” 1ê°œ í˜¹ì€ 2ê°œì˜ Successorë¥¼ ê°€ì§€ë©°, ì´ê²ƒë“¤ì´ ìˆ˜ì • ëŒ€ìƒì…ë‹ˆë‹¤. Branch Instructionì´ ì•„ë‹Œ ê²½ìš° : return í˜¹ì€ unreachable ê°™ì€ ì¢…ë¥˜ë˜ëŠ” ê²½ìš° í˜¹ì€ invokeì™€ ê°™ì´ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•œ Terminating Instructionì¸ ê²½ìš° Branch Instructionì˜ Successorê°€ 1ì¸ ê²½ìš° : branch BlockA ê°™ì´ ë‹¤ë¥¸ ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš° Branch Instructionì˜ Successorê°€ 2ì¸ ê²½ìš° : branch condition BlockA BlockB ì²˜ëŸ¼ condition ê°’ì— ë”°ë¼ ì´ë™í•˜ëŠ” ë¸”ë¡ì´ ì´ë™ë˜ëŠ” ê²½ìš° ë”°ë¼ì„œ Branch Instructionì—ì„œ ì´ë™í•  ë¸”ë¡ì— ì§€ì •ëœ ê°’ì„ Switch Instructionì—ì„œ ì°¾ì•„ì„œ ìœ„ì—ì„œ ìƒì„±í•´ë‘” switchVarì— ì €ì¥í•´ì£¼ê³  Switch Blockìœ¼ë¡œ ëŒì•„ê°€ë©´ ìë™ìœ¼ë¡œ ì´ê±¸ ë¡œë“œí•´ì„œ ì›í•˜ëŠ” ë¸”ë¡ìœ¼ë¡œ ì´ë™í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. Successorì˜ ê°œìˆ˜ê°€ 1ì¸ ê²½ìš°ì— ëŒ€í•œ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. 2ì¸ ê²½ìš°ì—ë„ ë‘˜ ë‹¤ì— ëŒ€í•´ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•´ì£¼ë©´ ë©ë‹ˆë‹¤. ì•„ë˜ ì½”ë“œì—ì„œëŠ” Switch Instructionì—ì„œ ê°€ì ¸ì˜¨ intCase ê°’ì´ ì§ì ‘ ë“œëŸ¬ë‚˜ëŠ” ê²ƒì„ ìˆ¨ê¸°ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ë§ì…ˆê³¼ ê³±ì…ˆì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. if(!isa&amp;lt;BranchInst&amp;gt;(selectedBlock-&amp;gt;getTerminator())){ continue; } uint64_t successors = selectedBlock-&amp;gt;getTerminator()-&amp;gt;getNumSuccessors(); if (successors == 1) { BasicBlock *follow = selectedBlock-&amp;gt;getTerminator()-&amp;gt;getSuccessor(0); ConstantInt *intCase = switchI-&amp;gt;findCaseDest(follow); if (intCase == NULL) { continue; } selectedBlock-&amp;gt;getTerminator()-&amp;gt;eraseFromParent(); IRBuilder&amp;lt;NoFolder&amp;gt; tempBuilder(selectedBlock); uint64_t origCase = intCase-&amp;gt;getSExtValue() - addVal; uint64_t randVal = 17+rand()%10000; Value * mul = tempBuilder.CreateMul(ConstantInt::get(llvm::Type::getInt64Ty(Context), origCase/randVal), ConstantInt::get(llvm::Type::getInt64Ty(Context), randVal)); Value * add = tempBuilder.CreateAdd(mul, ConstantInt::get(llvm::Type::getInt64Ty(Context), origCase%randVal)); tempBuilder.CreateAlignedStore(add, switchVar, MaybeAlign(8)); tempBuilder.CreateBr(startSwitch); } ì „í›„ë¹„êµ ìœ„ì™€ ê°™ì€ Control Flow Flattening ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Optì˜ -dot-cfg ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ íë¦„ í‰ë©´í™” ì „ìš© ì „ê³¼ í›„ë¥¼ ë¹„êµí•˜ë©´ StealienCFGswitch ë¼ëŠ” Switch ë¸”ë¡ì´ ì¶”ê°€ëœ ê²ƒê³¼ ëª¨ë“  ë¸”ë¡ì´ ë‹¤ì‹œ ì´ ë¸”ë¡ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ë‚œë…í™” ê¸°ëŠ¥ì´ ì ìš©ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë‚œë…í™” ê¸°ëŠ¥ì€ ë‹¤ë¥¸ ë‚œë…í™” ê¸°ëŠ¥ë“¤ê³¼ í•¨ê»˜ ì ìš©í•˜ë©´ í›¨ì”¬ ë” ë¶„ì„í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì¡´ íë¦„ ê·¸ë˜í”„ í‰ë©´í™” ëª¨ë“ˆ ì ìš© í›„ íë¦„ ê·¸ë˜í”„</summary></entry><entry xml:lang="ko"><title type="html">Reactë¡œ pdf ë‹¤ë£¨ê¸°</title><link href="http://ufo.stealien.com/id/2022-06-30/pdf-with-react" rel="alternate" type="text/html" title="Reactë¡œ pdf ë‹¤ë£¨ê¸°" /><published>2022-06-30T00:00:00+09:00</published><updated>2022-06-30T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-06-30/PDF-with-React-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-06-30/pdf-with-react">&lt;h1 id=&quot;reactë¡œ-pdf-ë‹¤ë£¨ê¸°&quot;&gt;Reactë¡œ pdf ë‹¤ë£¨ê¸°&lt;/h1&gt;

&lt;p&gt;ì˜¬í•´ ì´ˆ, &lt;strong&gt;ì›”ê°„ ë ˆí¬íŠ¸ ë¦¬ë‰´ì–¼&lt;/strong&gt; ì´ë¼ëŠ” ì—…ë¬´ë¥¼ ìƒˆë¡­ê²Œ ë°°ì •ë°›ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ë””ìì¸ì€ íšŒì‚¬ ëŒ€í‘œ ë””ìì´ë„ˆì´ì‹  ì¬ì„±ë‹˜ì´ ì•„ì£¼ ì•„ë¦„ë‹µê²Œ ë§Œë“¤ì–´ì£¼ì…¨ì§€ë§Œ, ì½”ë“œë¡œ PDFë¥¼ ë§Œë“¤ê±°ë‚˜ ë‹¤ë¤„ë³¸ ì ì´ ì—†ëŠ” ì €ëŠ” ë§‰ì—°í•œ ë‘ë ¤ì›€ì„ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ì™œ-ë¦¬ë‰´ì–¼ì„-ì§„í–‰í–ˆë‚˜&quot;&gt;ì™œ ë¦¬ë‰´ì–¼ì„ ì§„í–‰í–ˆë‚˜?&lt;/h2&gt;

&lt;p&gt;ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ ì½”ë“œë¡œë„ ì›”ë§ë§ˆë‹¤ íšŒì‚¬ Jiraì— ì €ì¥ë˜ëŠ” ì´ìŠˆë“¤ì„ ì •ë¦¬í•˜ì—¬ ë©”ì¼ë¡œ ë³´ë‚´ê¸°ì—ëŠ” ì¶©ë¶„í–ˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ í”„ë¡œì íŠ¸ ì½”ë“œê°€ ê´€ë¦¬ê°€ ì˜ ë˜ì§€ ì•Šì•„ì„œ ìƒˆë¡œìš´ ë””ìì¸ì„ ì ìš©í•˜ê³ , ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë½‘ì•„ë‚´ê¸° ìœ„í•´ ì´ ì½”ë“œë¥¼ ì²˜ìŒë¶€í„° ë¦¬ë”©í•˜ê¸°ëŠ” ì¡°ê¸ˆ í˜ë“  ìƒí™©ì´ì˜€ìŠµë‹ˆë‹¤.
íŠ¹íˆ, ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ë„ ë‹¤ë¥´ê¸°ë„ í–ˆêµ¬ìš”.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;img src=&quot;/assets/2022-06-30-PDF-with-React/code-manage-not-good.png&quot; alt=&quot;codemanage&quot; style=&quot;max-width:800px; height:auto;&quot; /&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ì½”ë“œ ê´€ë¦¬ ì ˆë§í¸&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ë”°ë¼ì„œ ì €ëŠ” ì œê°€ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” Typescriptì™€ React ê¸°ë°˜ìœ¼ë¡œ ì›”ê°„ ë ˆí¬íŠ¸ ì‹œìŠ¤í…œì„ ìƒˆë¡œ ë§Œë“¤ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ì²˜ëŸ¼ ìŠ¤í¬ë¦½íŠ¸ í˜•íƒœë¡œë„ ì‘ì„±í•  ìˆ˜ ìˆì§€ë§Œ, ì˜ˆì „ì— ë³´ë‚¸ ë ˆí¬íŠ¸ ì¡°íšŒë‚˜ ì´ë¯¸ì§€ ë³€ê²½ ë“±ì„ ê°œë°œìì¸ ì € ë¿ë§Œ ì•„ë‹ˆë¼, ë‹¤ë¥¸ ë¶„ë“¤ë„ í”Œë«í¼ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©´ ë” ì¢‹ì„ ê²ƒ ê°™ì•„ì„œ ì›¹ ì‹œìŠ¤í…œìœ¼ë¡œ ê°œë°œí•˜ê¸° ìœ„í•œ ê³„íšì„ ì„¸ì› ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;react-pdf&quot;&gt;React-PDF&lt;/h2&gt;

&lt;p&gt;ì›”ê°„ ë ˆí¬íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ëŠ” ì €í¬ Jiraì™€ Confluenceì—ì„œ ê°€ì ¸ì˜¤ê²Œ ë©ë‹ˆë‹¤.
ì‚¬ì‹¤ Jiraë‚˜ Confluenceì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê±°ë‚˜ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ëŠ” &lt;a href=&quot;https://github.com/mrrefactoring/jira.js/&quot;&gt;API&lt;/a&gt;ëŠ” ë„ˆë¬´ë‚˜ë„ ì˜ ë˜ì–´ìˆì–´ì„œ í° ë¬´ë¦¬ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ, ê°€ì¥ í° ë¬¸ì œëŠ” ì—­ì‹œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ PDF ë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì´ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-30-PDF-with-React/react-pdf.png&quot; alt=&quot;react-pdf&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://react-pdf.org/&quot;&gt;react-pdf&lt;/a&gt;ëŠ” Reactë¥¼ ê¸°ë°˜ìœ¼ë¡œ PDFë¥¼ ë Œë”ë§í•˜ê±°ë‚˜ ìƒì„±í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì…ë‹ˆë‹¤.
ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Document&lt;/code&gt; ì»´í¬ë„ŒíŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ PDF íŒŒì¼ì„ ë Œë”ë§í•˜ë©°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StyleSheet&lt;/code&gt;ë¥¼ í†µí•´ì„œ ê¸°ì¡´ jsx ì²˜ëŸ¼ ê¸€ìë‚˜ ë·° ìì²´ì— ìŠ¤íƒ€ì¼ë§ì„ í•  ìˆ˜ ìˆë„ë¡í•˜ëŠ” ë‹¤ì–‘í•˜ê³  í•„ìˆ˜ì ì¸ ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;svg&lt;/code&gt;ë„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì—, ì´ë¯¸ì§€ë‚˜ ì°¨íŠ¸ ë“±ë„ ì‰½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë˜ì„œ ì €ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-pdf&lt;/code&gt;ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë””ìì¸ëœ PDFë¥¼ ë§Œë“¤ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ìœ„ê¸°&quot;&gt;ìœ„ê¸°&lt;/h2&gt;

&lt;p&gt;ì‚¬ì‹¤ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-pdf&lt;/code&gt;ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë°œê²¬í–ˆì„ ë•Œ, ì‘ì—…ì´ ê¸ˆë°© ëë‚  ì¤„ ì•Œì•˜ìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ, ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ ìƒê°í•˜ì§€ ëª»í•œ ëª‡ ê°€ì§€ ë¬¸ì œì ë“¤ì„ ë§ˆì£¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Vite í™˜ê²½ì—ì„œ react-pdfê°€ ì˜ ì‘ë™í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/vitejs/vite/issues/3405&quot;&gt;issue&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Viteì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì¶”ê°€ì ìœ¼ë¡œ ë¸Œë¼ìš°ì €ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.&lt;/li&gt;
      &lt;li&gt;ì´ &lt;a href=&quot;https://github.com/exogee-technology/vite-plugin-shim-react-pdf&quot;&gt;ë¼ì´ë¸ŒëŸ¬ë¦¬&lt;/a&gt; ë¡œ í•´ê²°í–ˆìŠµë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;í”„ë¡ íŠ¸ì—”ë“œì—ì„œ pdfë¥¼ ìƒì„±í•˜ë‹¤ë³´ë‹ˆ, ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ë§ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
    &lt;ul&gt;
      &lt;li&gt;í´ë¼ì´ì–¸íŠ¸ìª½ì—ì„œ ë Œë”ë§ì„ í•˜ëŠ” ê³¼ì •ì—ì„œ ì´ìŠˆê°€ ìˆëŠ” ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/li&gt;
      &lt;li&gt;ë‹¤í–‰íˆ, ì‘ë™ì—ëŠ” ì´ìƒì´ ì—†ì–´ì„œ ìš°ì„  ë„˜ì–´ê°€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ì°¨íŠ¸ë¥¼ ê·¸ë¦¬ê¸°ê°€ ì¡°ê¸ˆ ê¹Œë‹¤ë¡œì› ìŠµë‹ˆë‹¤.
    &lt;ul&gt;
      &lt;li&gt;svgë¥¼ ì§€ì›í•œë‹¤ê³  í•´ì„œ &lt;a href=&quot;https://nivo.rocks/&quot;&gt;nivo&lt;/a&gt;ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í–ˆëŠ”ë°, êµ¬ì¡°ìƒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ì°¨íŠ¸ì»´í¬ë„ŒíŠ¸ -&amp;gt; svg -&amp;gt; react-pdf&lt;/code&gt; ì˜ í˜•ì‹ìœ¼ë¡œ ì“°ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ë°”ëŒì— ê²°êµ­ ìŠ¤ìŠ¤ë¡œ ë§Œë“¤ì–´ì„œ ì¼ìŠµë‹ˆë‹¤.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;íŠ¹íˆ, ë§ˆì§€ë§‰ 3ë²ˆì´ ì €ë¥¼ êµ‰ì¥íˆ ê´´ë¡­íˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì›”ê°„ ë ˆí¬íŠ¸ì˜ íŠ¹ì„± ìƒ, ì°¨íŠ¸ë‚˜ í‘œê°€ ëŒ€ë¶€ë¶„ì˜ ë°ì´í„°ë¥¼ ì´ë£¨ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
íŠ¹íˆ, ì°¨íŠ¸ëŠ” ì›í˜•, ë§‰ëŒ€í˜• ê·¸ë˜í”„ ë“± ë‹¤ì–‘í•œ ê·¸ë˜í”„ë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì´ì˜€ê¸° ë•Œë¬¸ì— ì‘ì—…ì— ì§€ì¥ì´ ìˆì„ ìˆ˜ ë°–ì— ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤í–‰íˆ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-pdf&lt;/code&gt; ì—ì„œëŠ” svgë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ì¡´ì¬í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
ê·¸ ì¤‘ì—ì„œ ì‚¬ìš©í•œ ê²ƒì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Path&lt;/code&gt; ì´ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;PieGraphë¥¼ ë§Œë“¤ ë•Œ, ì „ì²´ ë°ì´í„° ì¤‘ì—ì„œ ì°¨ì§€í•˜ëŠ” ë¶€ë¶„ì˜ ê°ë„ì™€ ë°˜ì§€ë¦„ì„ í†µí•´ ê°ê°ì˜ ì¢Œí‘œë¥¼ êµ¬í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;degrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;rad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;degrees&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;180.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;rad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;rad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;toPieChartItemPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;270&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;270&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endIn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_toXY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arcSweep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;endAngle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startAngle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;180&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;M&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;radiusOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arcSweep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;endOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;endOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;endIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;endIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;radiusIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arcSweep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;startIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ë¥¼ Svg ì•ˆì˜ Path ê°ì²´ë¡œ ì„ ì„ ê·¸ë¦¬ê³ , ê·¸ ì•ˆì„ ìƒ‰ìœ¼ë¡œ ì±„ì›Œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤. ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PieGraph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;React&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;FC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;datas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;datas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Svg&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;172&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Path&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toPieChartItemPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;86&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])}&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]}&lt;/span&gt;
        &lt;span class=&quot;sr&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;      &lt;span class=&quot;p&quot;&gt;))}&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/Svg&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ì˜ˆì‹œ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2022-06-30-PDF-with-React/chart.png&quot; alt=&quot;chart&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PolyLine&lt;/code&gt; ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ ì™¸ë¶€ì— í¼ì„¼íŠ¸ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆê²Œë„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ° ë°©ì‹ìœ¼ë¡œ PieGraphì™€ LineGraphë„ ê·¸ë¦´ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë§ˆë„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-pdf&lt;/code&gt;ì—ì„œ ì¼ë°˜ì ì¸ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì„œ nivoì™€ ê°™ì€ ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ì‘ë™í•˜ì§€ ì•Šì•˜ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ê²°ë¡ &quot;&gt;ê²°ë¡ &lt;/h2&gt;

&lt;p&gt;ì´ì œëŠ” ì œê°€ ë§Œë“  ìƒˆë¡œìš´ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§ì€ ê³ ê°ì‚¬ì— ì•±ìŠˆíŠ¸ ì›”ê°„ ë ˆí¬íŠ¸ê°€ ì „ë‹¬ë˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì²˜ìŒì— ê¸°íší–ˆë˜ ê¸°ëŠ¥ë“¤ì„ ì „ë¶€ ë„£ì§€ëŠ” ëª»í–ˆì§€ë§Œ, ê³„ì† ì—…ë°ì´íŠ¸ë¥¼ í•´ì„œ ì‚¬ë‚´ì—ì„œ ê°€ì¥ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì íŠ¸ê°€ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.&lt;/p&gt;</content><author><name>í•˜ì¤€í˜</name></author><category term="Dev" /><summary type="html">Reactë¡œ pdf ë‹¤ë£¨ê¸°</summary></entry><entry xml:lang="ko"><title type="html">Stealien Security Seminar 1íšŒ ë¦¬ë·°</title><link href="http://ufo.stealien.com/id/2022-06-30/stealien-security-seminar" rel="alternate" type="text/html" title="Stealien Security Seminar 1íšŒ ë¦¬ë·°" /><published>2022-06-30T00:00:00+09:00</published><updated>2022-06-30T00:00:00+09:00</updated><id>http://ufo.stealien.com/2022-06-30/2022_3s_review-ko</id><content type="html" xml:base="http://ufo.stealien.com/2022-06-30/stealien-security-seminar">&lt;h1 id=&quot;stealien-security-seminar-1íšŒ-ë¦¬ë·°&quot;&gt;Stealien Security Seminar 1íšŒ ë¦¬ë·°&lt;/h1&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/banner.png&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;Banner&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ìŠ¤í‹¸ë¦¬ì–¸ì˜ ê¹€ë„í˜„ ì„ ì„ì—°êµ¬ì›ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;2022ë…„ 6ì›” 29ì¼, ìŠ¤í‹¸ë¦¬ì–¸ì—ì„œ ì£¼ê´€í•˜ëŠ” ì²« ì„¸ë¯¸ë‚˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ëŒ€ë§ì˜ ì²« ì„¸ë¯¸ë‚˜ì—ì„œëŠ” SSL&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; ìˆ˜ë£Œìƒ ë¶„ë“¤ì˜ ì—°êµ¬ì— ëŒ€í•´ ì†Œê°œí•˜ëŠ” &lt;strong&gt;SSL ì„¸ì…˜&lt;/strong&gt;ê³¼, ìŠ¤í‹¸ë¦¬ì–¸ ì—°êµ¬ì›ë“¤ì˜ ì—°êµ¬ì— ëŒ€í•´ ì†Œê°œí•˜ëŠ” &lt;strong&gt;Open ì„¸ì…˜&lt;/strong&gt; ê·¸ë¦¬ê³  ì˜¤í”„ë¼ì¸ì—ì„œë§Œ ì§„í–‰í•˜ëŠ” &lt;strong&gt;Secret ì„¸ì…˜&lt;/strong&gt;ì´ ìˆì—ˆëŠ”ë°ìš”, ì´ë²ˆ ì„¸ë¯¸ë‚˜ëŠ” &lt;a href=&quot;https://www.youtube.com/watch?v=6YgSTZ9i7Vk&quot;&gt;ìœ íŠœë¸Œë¥¼ í†µí•´ ì˜¨ë¼ì¸&lt;/a&gt;ìœ¼ë¡œë„ ì†¡ì¶œí•˜ì˜€ê¸° ë•Œë¬¸ì— í˜¹ì‹œë‚˜ ë‚´ìš©ì„ ì¤‘ê°„ì— ë†“ì¹˜ì…¨ê±°ë‚˜, ì‹œê°„ì´ ì—†ì–´ ì°¸ì„í•˜ì§€ ëª»í•˜ì‹  ë¶„ë“¤ì€ ë‹¤ì‹œë³´ê¸°ë¥¼ í†µí•´ ì–¸ì œë“  ììœ ë¡­ê²Œ ì €í¬ì˜ ë°œí‘œë¥¼ ì¦ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜¹ì‹œë‚˜ ì•„ì§ ì´ë²ˆ ì„¸ë¯¸ë‚˜ì˜ ì¬ë¯¸ìˆëŠ” ë°œí‘œ ì£¼ì œë“¤ì„ ë“£ì§€ ëª» í•˜ì‹ ë¶„ë“¤ì„ ìœ„í•´ì„œ ì´ë ‡ê²Œ ì£¼ì œë“¤ì— ëŒ€í•œ ê°„ë‹¨í•œ ì†Œê°œì™€ ìš”ì•½ì„ ì‘ì„±í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;open-static-vulnerability-analysis&quot;&gt;[Open] Static Vulnerability Analysis&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/dhkim.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ì„¸ë¯¸ë‚˜ì˜ ì²«ë°œì€ ì œê°€ ë‚´ë””ë ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì €ì˜ ì£¼ìš” ê´€ì‹¬ì‚¬ ì¤‘ í•œê°€ì§€ëŠ” ë‹¤ì–‘í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ì„ë² ë””ë“œ ì¥ë¹„ì˜ ì·¨ì•½ì ì„ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì´ëŸ°ë¥˜ì˜ ë²„ê·¸ë°”ìš´í‹° ë˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ í•´ ë³´ì‹ ë¶„ë“¤ì€ ì˜ ì•„ì‹œê² ì§€ë§Œ, ìƒê°ë³´ë‹¤ëŠ” êµ­ë‚´ì˜ íƒ€ê²Ÿë“¤ì€ ì•„ì§ë„ ë³µì¡ë„ê°€ ë‚®ì€ ì·¨ì•½ì ë“¤ì´ ë§ì´ ë‚˜ì˜¤ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ° ì·¨ì•½ì ë“¤ì„ effortlessí•˜ê²Œ ë°œêµ´í•˜ê¸° ìœ„í•´ì„œ ì €ëŠ” Static Vulnerability Analysis ë˜ëŠ” Static Program Analysis for Vulnerability Researchë¼ëŠ” ë°©ë²•ì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤. ì´ë²ˆ ë°œí‘œì—ì„œëŠ” Static Vulnerability Analysisì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì†Œê°œì™€, Fuzzingê³¼ ë¹„êµí•˜ì—¬ ì´ ê¸°ë²•ì˜ ì¥ì ê³¼ ë‹¨ì ì— ëŒ€í•´ ì„¤ëª…í•˜ê³ , ê°„ë‹¨í•œ ëª‡ê°€ì§€ í…Œí¬ë‹‰ì— ëŒ€í•´ ë°œí‘œí–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ ë§ˆì§€ë§‰ì—ëŠ” ì†Œê°œë“œë¦° ì£¼ì œë¥¼ ë°”íƒ•ìœ¼ë¡œ SSL 3ê¸°ì—ì„œ ì§„í–‰í•  ë‚´ìš©ì— ëŒ€í•´ ì†Œê°œ ë“œë ¸ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=1729&quot;&gt;28:49&lt;/a&gt;ë¶€í„° ì €ì˜ ë°œí‘œê°€ ì‹œì‘ë˜ë‹ˆ, ì¬ë¯¸ìˆê²Œ ë“¤ì–´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤ ğŸ¤©&lt;/p&gt;

&lt;h2 id=&quot;ssl-idapythonìœ¼ë¡œ-ë¶„ì„ì„-ë”-í¸í•˜ê²Œ-í•˜ëŠ”-ë°©ë²•&quot;&gt;[SSL] IDAPythonìœ¼ë¡œ ë¶„ì„ì„ ë” í¸í•˜ê²Œ í•˜ëŠ” ë°©ë²•&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/snwo.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ë‘ë²ˆì§¸ ë°œí‘œëŠ” SSL 2ê¸° ìˆ˜ë£Œìƒ í™©ì„ ìš°ë‹˜ì´ ì§„í–‰í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;IDA Proì—ì„œ ì œê³µí•˜ëŠ” APIë¥¼ ì´ìš©í•˜ì—¬ malware ë¶„ì„, pluginì— ëŒ€í•œ ì†Œê°œ ë° CTF ë¬¸ì œë¥¼ IDAPythonìœ¼ë¡œ í•´ê²°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì†Œê°œ í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.
íŠ¹íˆ Windows OSì˜ applicationì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GetModuleHandleA()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LoadLibraryA()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GetProcAddress()&lt;/code&gt; chainì„ ì´ìš©í•´ binaryì—ì„œ ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” procedureì˜ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¬ ë•Œ, IDAPythonì„ ì´ìš©í•˜ì—¬ ë‚œë…í™” ëœ ëŒ€ìƒ library ë° procedureì˜ ì´ë¦„(ë¬¸ìì—´)ì„ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì†Œê°œ í•´ ì£¼ì…¨ë˜ ì ì´ ì €ì—ê²ŒëŠ” ì¸ìƒê¹Šì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´í›„ì—ëŠ” &lt;a href=&quot;https://ctftime.org/event/1583&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b01lers CTF - TM&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://ctftime.org/task/20424&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DCTF - Glade&lt;/code&gt;&lt;/a&gt; ë¬¸ì œë¥¼ ì§ì ‘ IDAPythonì„ ì´ìš©í•˜ì—¬ ë¶„ì„í•˜ëŠ” ì˜ˆë¥¼ ë³´ì—¬ì£¼ì‹œê¸°ë„ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=4105&quot;&gt;1:08:25&lt;/a&gt;ë¶€í„° ì„ ìš°ë‹˜ì˜ ë°œí‘œê°€ ì‹œì‘ë˜ë‹ˆ, IDAPythonì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì´ìš©í•´ ë³´ê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì€ í•œë²ˆ ê¼­ ì‹œì²­ í•´ ë³´ì…”ì•¼ê² ë„¤ìš” ğŸ˜&lt;/p&gt;

&lt;h2 id=&quot;ssl-ê¶Œí•œ-ìƒìŠ¹-ì·¨ì•½ì -ë¶„ì„-ë°©ë²•ë¡ --a&quot;&gt;[SSL] ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì  ë¶„ì„ ë°©ë²•ë¡  + a&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/jhjang.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ì„¸ë²ˆì§¸ ë°œí‘œ ë˜í•œ SSL 2ê¸° ìˆ˜ë£Œìƒ ì¥ì¬í›ˆë‹˜ì´ ì§„í–‰í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¥ì¬í›ˆë‹˜ê»˜ì„œëŠ” SSL 2ê¸°ì˜ ì£¼ì œì¸ â€˜ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì  ë¶„ì„ ë°©ë²•ë¡ â€™ì„ ë°”íƒ•ìœ¼ë¡œ ì¶”ê°€ë¡œ ì—°êµ¬í•œ ë‚´ìš©ì„ ë”í•´ ì´ë²ˆ ë°œí‘œë¥¼ í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.
ë°©ë²•ë¡ &lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;ì—ëŠ” ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì ì„ ê´€ë¦¬ì  ì¸¡ë©´, ê¸°ìˆ ì  ì¸¡ë©´ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì†Œê°œí•˜ê³  ìˆëŠ”ë°, ê° ì·¨ì•½ì ì— ëŒ€í•œ ë””í…Œì¼ì´ ë”í•´ì ¸ ë³´ëŠ” ë§›ì´ ìˆëŠ” ë°œí‘œì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ ì´ë²ˆ ë°œí‘œì—ëŠ” â€˜File Junctionâ€™, â€˜Named Pipe Impersonationâ€™ ë“± ê°œë°œìê°€ ìœ ì˜í•˜ì§€ ì•Šìœ¼ë©´ ë°œìƒí•˜ê¸° ì‰½ê³ , ì¹˜ëª…ì ì¸ ë²„ê·¸ í´ë˜ìŠ¤ë“¤ì— ëŒ€í•´ì„œë„ ì†Œê°œ í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìš”ì¦˜ì˜ ì‹œìŠ¤í…œë“¤ì€ ê¶Œí•œ ë¶„ë¦¬ê°€ ì˜ ë˜ì–´ìˆëŠ” ê²½ìš°ê°€ ë§ì•„ì§€ê³  ìˆì§€ë§Œ, ê¶Œí•œì´ ë¶„ë¦¬ ëœ í™˜ê²½ì—ì„œë„ ì—¬ì „íˆ ì‹¤ìˆ˜ê°€ ë°œìƒí•˜ë©´ ì„±ê³µì ìœ¼ë¡œ ê³µê²©ì„ ìˆ˜í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì´ë²ˆ ë°œí‘œë¥¼ í†µí•´ ì˜ ë³´ì—¬ì£¼ì‹  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=7145&quot;&gt;1:59:05&lt;/a&gt;ë¶€í„° ì¬í›ˆë‹˜ì˜ ë°œí‘œê°€ ì‹œì‘ë©ë‹ˆë‹¤. SSLì„ í†µí•´ ì–´ë–¤ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ë­˜ ë°°ì›Œê°ˆ ìˆ˜ ìˆì„ì§€ì— ëŒ€í•´ ê¶ê¸ˆí•˜ì‹  ë¶„ë“¤ì€ í•œë²ˆ ì‹œì²­ í•´ ë³´ì‹œëŠ” ê²ƒì„ ì¶”ì²œ ë“œë¦½ë‹ˆë‹¤! ğŸ‘&lt;/p&gt;

&lt;h2 id=&quot;open-ëª¨ë˜-ì›¹-í™˜ê²½ì—ì„œì˜-ë²„ê·¸ì¼€ì´ìŠ¤ì™€-ì‹œíì–´ì½”ë”©&quot;&gt;[Open] ëª¨ë˜ ì›¹ í™˜ê²½ì—ì„œì˜ ë²„ê·¸ì¼€ì´ìŠ¤ì™€ ì‹œíì–´ì½”ë”©&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/scyoon.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ë„¤ë²ˆì§¸ ë°œí‘œëŠ” ì €í¬ íšŒì‚¬ì—ì„œ ë§ì€ ê·€ì—¬ì›€ì„ ë°›ê³  ìˆëŠ” ìœ¤ì„ì°¬ ì„ ì„ ì—°êµ¬ì›ì´ ë°œí‘œ í•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ¤ì„ì°¬ ì—°êµ¬ì›ì€ ì ì  ìŠ¤íƒì´ ë†’ê²Œ ìŒ“ì—¬ì§€ëŠ” ëª¨ë˜ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì–´ë–¤ ë°©ì‹ì˜ ì·¨ì•½ì ì„ ì°¾ì„ ìˆ˜ ìˆê³ , ì´ë¥¼ ë³´ì™„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì†Œê°œí•´ ì£¼ì…¨ìŠµë‹ˆë‹¤. ëˆˆë†’ì´ì— ë§ì¶° í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ì•Œë ¤ì£¼ëŠ” ìœ¤ì„ì°¬ ì—°êµ¬ì›ì˜ ìŠ¤ìœ—í•¨ì— ë¹ ì§ˆê²ƒ ê°™ì•˜ì§€ë§Œ ê²¨ìš°ê²¨ìš° ì‚´ì•„ ëŒì•„ì™”ë„¤ìš”. ì´ ë°œí‘œëŠ” ìœ¤ì„ì°¬ ì—°êµ¬ì›ì´ ì§ì ‘ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ë°°ìš´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•˜ê³  ìˆìœ¼ë‹ˆ, êµ‰ì¥íˆ practicalí•œ ë°œí‘œë¼ê³  ë³¼ ìˆ˜ë„ ìˆê² ë„¤ìš”!&lt;/p&gt;

&lt;p&gt;ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì¼ë°˜ì ì¸ ì·¨ì•½ì ë“¤ê³¼, Django, React.jsì™€ ê°™ì€ íŠ¹ì •í•œ í”Œë«í¼, í”„ë ˆì„ì›Œí¬ì—ì„œë§Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì·¨ì•½ì ë“¤ì„ ì˜ ì•Œë ¤ ì£¼ì…”ì„œ ë„ˆë¬´ ì¢‹ì•˜ë‹¤ëŠ” í‰ì´ ê°€ë“í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=10110&quot;&gt;2:48:30&lt;/a&gt;ë¶€í„° ì„ì°¬ë‹˜ì˜ ë°œí‘œê°€ ì‹œì‘ë©ë‹ˆë‹¤. í‰ì†Œ CTFë¥¼ í†µí•´ ì›¹í•´í‚¹ì€ ì–´ëŠì •ë„ í•  ìˆ˜ ìˆì§€ë§Œ, real-worldì— ì…ë¬¸í•˜ê³  ì‹¶ì€ ì›¹í•´ì»¤ë“¤ì—ê²Œ ì´ ë°œí‘œë¥¼ ì¶”ì²œí•˜ëŠ” ë°”ì…ë‹ˆë‹¤. ğŸ&lt;/p&gt;

&lt;h2 id=&quot;open-mev&quot;&gt;[Open] MEV&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
    &lt;img src=&quot;/assets/2022-06-30-2022_3s_review/hjhan.jpg&quot; /&gt;&lt;br /&gt;
    &lt;i&gt;ë°œí‘œ í˜„ì¥&lt;/i&gt;
&lt;/p&gt;

&lt;p&gt;ë‹¤ì„¯ë²ˆì§¸ ë°œí‘œëŠ” ìŠ¤í‹¸ë¦¬ì–¸ì˜ í•œí˜¸ì • ì—°êµ¬ì›ë‹˜ì´ ì§„í–‰í•´ì£¼ì…¨ìŠµë‹ˆë‹¤&lt;/p&gt;

&lt;p&gt;í•œí˜¸ì • ì—°êµ¬ì›ë‹˜ì€ í•´ë‹¹ ë°œí‘œì—ì„œ Blockchainì— ëŒ€í•œ ì·¨ì•½ì  ë¶„ì„ ì™¸ì— MEV(Miner Extractable Value)ì— ëŒ€í•´ì„œ ì†Œê°œí•´ì£¼ì…¨ìŠµë‹ˆë‹¤
Blockchainì— ëŒ€í•œ Security Audit ì‚°ì—…ì´ MEVì— ëŒ€í•œ researchë¡œë„ ë°œì „í•  ê²ƒì´ë¼ê³  ë³´ëŠ” í•œí˜¸ì • ì—°êµ¬ì›ë‹˜ì˜ ê²¬í•´ëŠ” ë§¤ìš° í¥ë¯¸ë¡œìš´ê²ƒê°™ìŠµë‹ˆë‹¤&lt;/p&gt;

&lt;p&gt;í•´ë‹¹ ë°œí‘œì—ì„œëŠ” MEVê°€ ë¬´ì—‡ì¸ì§€, ë˜ MEVì—ëŠ” ì–´ë– í•œ ì¢…ë¥˜ë“¤ì´ ìˆì—ˆëŠ”ì§€, MEVë¥¼ ì™„í™”ì‹œí‚¤ê±°ë‚˜ ì œê±°í•˜ê¸°ìœ„í•´ì„œ ì–´ë– í•œê²ƒë“¤ì´ ì¡´ì¬í•˜ëŠ”ì§€, ë§ˆì§€ë§‰ìœ¼ë¡œ í•œí˜¸ì •ì—°êµ¬ì›ë‹˜ì´ ì§ì ‘ MEVì— ëŒ€í•´ì„œ ì¶”ì¶œí•œ ê²½í—˜ë‹´ì— ëŒ€í•´ì„œ ì†Œê°œí•©ë‹ˆë‹¤&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ì„œëŠ” &lt;a href=&quot;https://youtu.be/6YgSTZ9i7Vk?t=12465&quot;&gt;3:27:38&lt;/a&gt;ë¶€í„° í˜¸ì •ë‹˜ì˜ ë°œí‘œê°€ ì‹œì‘ë©ë‹ˆë‹¤. í‰ì†Œ Blockchainì— ëŒ€í•´ì„œ ê´€ì‹¬ìˆëŠ” ë¶„ë“¤ì´ë¼ë©´ í•œë²ˆ ì‹œì²­í•´ë³´ì‹œëŠ”ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. ğŸ’°&lt;/p&gt;

&lt;h2 id=&quot;closing&quot;&gt;Closing&lt;/h2&gt;

&lt;p&gt;ì´ì œ ì²«ë²ˆì§¸ Stealien Securit Seminarë¥¼ ëª¨ë‘ ëŒì•„ ë´¤ìŠµë‹ˆë‹¤. í¥ë¯¸ì§„ì§„í•œ ì£¼ì œë¡œ ë°œí‘œí•´ ì£¼ì‹  ë°œí‘œìë‹˜ë“¤ ëª¨ë‘ì—ê²Œ ê°ì‚¬ë“œë¦¬ë©°, ìŠ¤í‹¸ë¦¬ì–¸ì— ê´€ì‹¬ì„ ê°€ì ¸ì£¼ì‹œê³  ë°©ë¬¸í•´ì£¼ì‹  ë¶„ë“¤ì—ê²Œ ë¬´í•œí•œ ê°ì‚¬ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ë˜í•œ, ë¹„ë¡ í˜„ì¥ì— ê³„ì‹œì§„ ëª»í–ˆì§€ë§Œ ì˜¨ë¼ì¸ìœ¼ë¡œ ì €í¬ë¥¼ ì‘ì›í•´ ì£¼ì‹  ë¶„ë“¤ì—ê²Œë„ ê°ì‚¬ë¥¼ ë“œë¦½ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•ìœ¼ë¡œë„ ë©‹ì§€ê²Œ ë°œì „í•´ ë‚˜ê°€ëŠ” ìŠ¤í‹¸ë¦¬ì–¸ê³¼ ìŠ¤í‹¸ë¦¬ì–¸ì˜ í•´ì»¤ë“¤ì´ ë˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê°ì‚¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h2&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Stealien Security Leader, ìŠ¤í‹¸ë¦¬ì–¸ ì£¼ê´€ ë©˜í† ë§ í”„ë¡œê·¸ë¨Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://drive.google.com/file/d/1Mk46m5tFapZZ0y4upKxD3R6YsXb4EVZ1/view?usp=sharing&quot;&gt;Paper: ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì  ì ê²€ ê°€ì´ë“œ ë° íƒì§€ ë°©ë²• ì œì•ˆ&lt;/a&gt;, &lt;a href=&quot;https://drive.google.com/file/d/1LscZyKqve60LQsPU98-RgONbP43Mivy1/view?usp=sharing&quot;&gt;Doc: ê¶Œí•œ ìƒìŠ¹ ì·¨ì•½ì  ì ê²€ ê°€ì´ë“œ&lt;/a&gt;Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>ê¹€ë„í˜„</name></author><category term="R&amp;D" /><summary type="html">Stealien Security Seminar 1íšŒ ë¦¬ë·°</summary></entry></feed>